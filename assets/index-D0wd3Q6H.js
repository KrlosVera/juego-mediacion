(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function L_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var If={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function rT(){if(gy)return Bl;gy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Bl.Fragment=e,Bl.jsx=i,Bl.jsxs=i,Bl}var py;function lT(){return py||(py=1,If.exports=rT()),If.exports}var O=lT(),Of={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function oT(){if(yy)return _t;yy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function H(I){return I===null||typeof I!="object"?null:(I=D&&I[D]||I["@@iterator"],typeof I=="function"?I:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,et={};function gt(I,K,tt){this.props=I,this.context=K,this.refs=et,this.updater=tt||J}gt.prototype.isReactComponent={},gt.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},gt.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function rt(){}rt.prototype=gt.prototype;function ht(I,K,tt){this.props=I,this.context=K,this.refs=et,this.updater=tt||J}var qt=ht.prototype=new rt;qt.constructor=ht,nt(qt,gt.prototype),qt.isPureReactComponent=!0;var kt=Array.isArray;function Lt(){}var x={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(I,K,tt){var at=tt.ref;return{$$typeof:r,type:I,key:K,ref:at!==void 0?at:null,props:tt}}function M(I,K){return C(I.type,K,I.props)}function V(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function U(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(tt){return K[tt]})}var R=/\/+/g;function ee(I,K){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):K.toString(36)}function Ce(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Lt,Lt):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function F(I,K,tt,at,pt){var At=typeof I;(At==="undefined"||At==="boolean")&&(I=null);var Vt=!1;if(I===null)Vt=!0;else switch(At){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(I.$$typeof){case r:case e:Vt=!0;break;case A:return Vt=I._init,F(Vt(I._payload),K,tt,at,pt)}}if(Vt)return pt=pt(I),Vt=at===""?"."+ee(I,0):at,kt(pt)?(tt="",Vt!=null&&(tt=Vt.replace(R,"$&/")+"/"),F(pt,K,tt,"",function(qa){return qa})):pt!=null&&(V(pt)&&(pt=M(pt,tt+(pt.key==null||I&&I.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+Vt)),K.push(pt)),1;Vt=0;var xe=at===""?".":at+":";if(kt(I))for(var ne=0;ne<I.length;ne++)at=I[ne],At=xe+ee(at,ne),Vt+=F(at,K,tt,At,pt);else if(ne=H(I),typeof ne=="function")for(I=ne.call(I),ne=0;!(at=I.next()).done;)at=at.value,At=xe+ee(at,ne++),Vt+=F(at,K,tt,At,pt);else if(At==="object"){if(typeof I.then=="function")return F(Ce(I),K,tt,at,pt);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function W(I,K,tt){if(I==null)return I;var at=[],pt=0;return F(I,at,"","",function(At){return K.call(tt,At,pt++)}),at}function ct(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(tt){(I._status===0||I._status===-1)&&(I._status=1,I._result=tt)},function(tt){(I._status===0||I._status===-1)&&(I._status=2,I._result=tt)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var Mt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ht={map:W,forEach:function(I,K,tt){W(I,function(){K.apply(this,arguments)},tt)},count:function(I){var K=0;return W(I,function(){K++}),K},toArray:function(I){return W(I,function(K){return K})||[]},only:function(I){if(!V(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return _t.Activity=S,_t.Children=Ht,_t.Component=gt,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=ht,_t.StrictMode=s,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,_t.__COMPILER_RUNTIME={__proto__:null,c:function(I){return x.H.useMemoCache(I)}},_t.cache=function(I){return function(){return I.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(I,K,tt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var at=nt({},I.props),pt=I.key;if(K!=null)for(At in K.key!==void 0&&(pt=""+K.key),K)!b.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(at[At]=K[At]);var At=arguments.length-2;if(At===1)at.children=tt;else if(1<At){for(var Vt=Array(At),xe=0;xe<At;xe++)Vt[xe]=arguments[xe+2];at.children=Vt}return C(I.type,pt,at)},_t.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},_t.createElement=function(I,K,tt){var at,pt={},At=null;if(K!=null)for(at in K.key!==void 0&&(At=""+K.key),K)b.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=K[at]);var Vt=arguments.length-2;if(Vt===1)pt.children=tt;else if(1<Vt){for(var xe=Array(Vt),ne=0;ne<Vt;ne++)xe[ne]=arguments[ne+2];pt.children=xe}if(I&&I.defaultProps)for(at in Vt=I.defaultProps,Vt)pt[at]===void 0&&(pt[at]=Vt[at]);return C(I,At,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(I){return{$$typeof:y,render:I}},_t.isValidElement=V,_t.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:ct}},_t.memo=function(I,K){return{$$typeof:_,type:I,compare:K===void 0?null:K}},_t.startTransition=function(I){var K=x.T,tt={};x.T=tt;try{var at=I(),pt=x.S;pt!==null&&pt(tt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Lt,Mt)}catch(At){Mt(At)}finally{K!==null&&tt.types!==null&&(K.types=tt.types),x.T=K}},_t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},_t.use=function(I){return x.H.use(I)},_t.useActionState=function(I,K,tt){return x.H.useActionState(I,K,tt)},_t.useCallback=function(I,K){return x.H.useCallback(I,K)},_t.useContext=function(I){return x.H.useContext(I)},_t.useDebugValue=function(){},_t.useDeferredValue=function(I,K){return x.H.useDeferredValue(I,K)},_t.useEffect=function(I,K){return x.H.useEffect(I,K)},_t.useEffectEvent=function(I){return x.H.useEffectEvent(I)},_t.useId=function(){return x.H.useId()},_t.useImperativeHandle=function(I,K,tt){return x.H.useImperativeHandle(I,K,tt)},_t.useInsertionEffect=function(I,K){return x.H.useInsertionEffect(I,K)},_t.useLayoutEffect=function(I,K){return x.H.useLayoutEffect(I,K)},_t.useMemo=function(I,K){return x.H.useMemo(I,K)},_t.useOptimistic=function(I,K){return x.H.useOptimistic(I,K)},_t.useReducer=function(I,K,tt){return x.H.useReducer(I,K,tt)},_t.useRef=function(I){return x.H.useRef(I)},_t.useState=function(I){return x.H.useState(I)},_t.useSyncExternalStore=function(I,K,tt){return x.H.useSyncExternalStore(I,K,tt)},_t.useTransition=function(){return x.H.useTransition()},_t.version="19.2.4",_t}var _y;function gd(){return _y||(_y=1,Of.exports=oT()),Of.exports}var Se=gd();const uT=L_(Se);var Mf={exports:{}},ql={},zf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function cT(){return vy||(vy=1,(function(r){function e(F,W){var ct=F.length;F.push(W);t:for(;0<ct;){var Mt=ct-1>>>1,Ht=F[Mt];if(0<o(Ht,W))F[Mt]=W,F[ct]=Ht,ct=Mt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var W=F[0],ct=F.pop();if(ct!==W){F[0]=ct;t:for(var Mt=0,Ht=F.length,I=Ht>>>1;Mt<I;){var K=2*(Mt+1)-1,tt=F[K],at=K+1,pt=F[at];if(0>o(tt,ct))at<Ht&&0>o(pt,tt)?(F[Mt]=pt,F[at]=ct,Mt=at):(F[Mt]=tt,F[K]=ct,Mt=K);else if(at<Ht&&0>o(pt,ct))F[Mt]=pt,F[at]=ct,Mt=at;else break t}}return W}function o(F,W){var ct=F.sortIndex-W.sortIndex;return ct!==0?ct:F.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,S=null,D=3,H=!1,J=!1,nt=!1,et=!1,gt=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function qt(F){for(var W=i(_);W!==null;){if(W.callback===null)s(_);else if(W.startTime<=F)s(_),W.sortIndex=W.expirationTime,e(v,W);else break;W=i(_)}}function kt(F){if(nt=!1,qt(F),!J)if(i(v)!==null)J=!0,Lt||(Lt=!0,U());else{var W=i(_);W!==null&&Ce(kt,W.startTime-F)}}var Lt=!1,x=-1,b=5,C=-1;function M(){return et?!0:!(r.unstable_now()-C<b)}function V(){if(et=!1,Lt){var F=r.unstable_now();C=F;var W=!0;try{t:{J=!1,nt&&(nt=!1,rt(x),x=-1),H=!0;var ct=D;try{e:{for(qt(F),S=i(v);S!==null&&!(S.expirationTime>F&&M());){var Mt=S.callback;if(typeof Mt=="function"){S.callback=null,D=S.priorityLevel;var Ht=Mt(S.expirationTime<=F);if(F=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,qt(F),W=!0;break e}S===i(v)&&s(v),qt(F)}else s(v);S=i(v)}if(S!==null)W=!0;else{var I=i(_);I!==null&&Ce(kt,I.startTime-F),W=!1}}break t}finally{S=null,D=ct,H=!1}W=void 0}}finally{W?U():Lt=!1}}}var U;if(typeof ht=="function")U=function(){ht(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=V,U=function(){ee.postMessage(null)}}else U=function(){gt(V,0)};function Ce(F,W){x=gt(function(){F(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(F){switch(D){case 1:case 2:case 3:var W=3;break;default:W=D}var ct=D;D=W;try{return F()}finally{D=ct}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=D;D=F;try{return W()}finally{D=ct}},r.unstable_scheduleCallback=function(F,W,ct){var Mt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Mt+ct:Mt):ct=Mt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ct+Ht,F={id:A++,callback:W,priorityLevel:F,startTime:ct,expirationTime:Ht,sortIndex:-1},ct>Mt?(F.sortIndex=ct,e(_,F),i(v)===null&&F===i(_)&&(nt?(rt(x),x=-1):nt=!0,Ce(kt,ct-Mt))):(F.sortIndex=Ht,e(v,F),J||H||(J=!0,Lt||(Lt=!0,U()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var W=D;return function(){var ct=D;D=W;try{return F.apply(this,arguments)}finally{D=ct}}}})(Uf)),Uf}var Ey;function hT(){return Ey||(Ey=1,zf.exports=cT()),zf.exports}var Lf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function fT(){if(Ty)return Qe;Ty=1;var r=gd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:H}):A==="script"&&s.d.X(v,{crossOrigin:S,integrity:D,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Qe.requestFormReset=function(v){s.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.4",Qe}var Ay;function dT(){if(Ay)return Lf.exports;Ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lf.exports=fT(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function mT(){if(by)return ql;by=1;var r=hT(),e=gd(),i=dT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),kt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nt:return"Fragment";case gt:return"Profiler";case et:return"StrictMode";case kt:return"Suspense";case Lt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ht:return t.displayName||"Context";case rt:return(t._context.displayName||"Context")+".Consumer";case qt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:ee(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ee(t(n))}catch{}}return null}var Ce=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Mt=[],Ht=-1;function I(t){return{current:t}}function K(t){0>Ht||(t.current=Mt[Ht],Mt[Ht]=null,Ht--)}function tt(t,n){Ht++,Mt[Ht]=t.current,t.current=n}var at=I(null),pt=I(null),At=I(null),Vt=I(null);function xe(t,n){switch(tt(At,n),tt(pt,t),tt(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?jp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=jp(n),t=Bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(at),tt(at,t)}function ne(){K(at),K(pt),K(At)}function qa(t){t.memoizedState!==null&&tt(Vt,t);var n=at.current,a=Bp(n,t.type);n!==a&&(tt(pt,t),tt(at,a))}function Rs(t){pt.current===t&&(K(at),K(pt)),Vt.current===t&&(K(Vt),zl._currentValue=ct)}var ws,Cs;function Yn(t){if(ws===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ws=n&&n[1]||"",Cs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+t+Cs}var zr=!1;function Pa(t,n){if(!t||zr)return"";zr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var q=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){q=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){q=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&q&&typeof k.stack=="string")return[k.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{zr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function Ur(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Pa(t.type,!1);case 11:return Pa(t.type.render,!1);case 1:return Pa(t.type,!0);case 31:return Yn("Activity");default:return""}}function Lr(t){try{var n="",a=null;do n+=Ur(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,Yi=r.unstable_cancelCallback,Oc=r.unstable_shouldYield,mo=r.unstable_requestPaint,Ze=r.unstable_now,ka=r.unstable_getCurrentPriorityLevel,jr=r.unstable_ImmediatePriority,Br=r.unstable_UserBlockingPriority,Ki=r.unstable_NormalPriority,Mc=r.unstable_LowPriority,go=r.unstable_IdlePriority,po=r.log,yo=r.unstable_setDisableYieldValue,On=null,Le=null;function vn(t){if(typeof po=="function"&&yo(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(On,t)}catch{}}var ue=Math.clz32?Math.clz32:vo,_o=Math.log,xs=Math.LN2;function vo(t){return t>>>=0,t===0?32:31-(_o(t)/xs|0)|0}var Kn=256,Ha=262144,ge=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):a||(a=E&~t,a!==0&&(c=Xn(a))))):(E=l&~f,E!==0?c=Xn(E):g!==0?c=Xn(g):a||(a=l&~t,a!==0&&(c=Xn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ga(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-ue(a),Y=1<<G;E[G]=0,w[G]=-1;var q=B[G];if(q!==null)for(B[G]=null,G=0;G<q.length;G++){var k=q[G];k!==null&&(k.lane&=-536870913)}a&=~Y}l!==0&&Fa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Fa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ue(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function qr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ue(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Pr(t,n){var a=n&-n;return a=(a&42)!==0?1:Qa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function To(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:oy(t.type))}function zn(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var Un=Math.random().toString(36).slice(2),pe="__reactFiber$"+Un,Oe="__reactProps$"+Un,$n="__reactContainer$"+Un,Ds="__reactEvents$"+Un,Lc="__reactListeners$"+Un,Ao="__reactHandles$"+Un,bo="__reactResources$"+Un,Wn="__reactMarker$"+Un;function Ns(t){delete t[pe],delete t[Oe],delete t[Ds],delete t[Lc],delete t[Ao]}function ti(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Qp(t);t!==null;){if(a=t[pe])return a;t=Qp(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[pe]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ei(t){var n=t[bo];return n||(n=t[bo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(t){t[Wn]=!0}var kr=new Set,Hr={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(Hr[t]=n,t=0;t<n.length;t++)kr.add(n[t])}var Gr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fr={},Qr={};function So(t){return me.call(Qr,t)?!0:me.call(Fr,t)?!1:Gr.test(t)?Qr[t]=!0:(Fr[t]=!0,!1)}function Vs(t,n,a){if(So(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _e(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Yr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=Xi(t)?"checked":"value";t._valueTracker=Yr(t,n,""+t[n])}}function Ya(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Xi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ka=/[\n"\\]/g;function We(t){return t.replace(Ka,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Is(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Kr(t,g,Me(n)):a!=null?Kr(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function Ro(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Gt(t)}function Kr(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Zi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function wo(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Ji(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Gt(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Co.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Zr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Xr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Xr(t,f,n[f])}function Os(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$i=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(t){return $i.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var Jr=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wi=null,si=null;function Xa(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Is(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(s(90));Is(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ya(l)}break t;case"textarea":wo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Zi(t,!!a.multiple,n,!1)}}}var zs=!1;function ta(t,n,a){if(zs)return t(n,a);zs=!0;try{var l=t(n);return l}finally{if(zs=!1,(Wi!==null||si!==null)&&(Tu(),Wi&&(n=Wi,t=si,si=Wi=null,Xa(n),t)))for(n=0;n<t.length;n++)Xa(t[n])}}function jn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(An)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Za=!1}var ri=null,$r=null,Ja=null;function Wr(){if(Ja)return Ja;var t,n=$r,a=n.length,l,c="value"in ri?ri.value:ri.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ja=c.slice(t,1<l?1-l:void 0)}function $a(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function Bn(){return!1}function je(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Si:Bn,this.isPropagationStopped=Bn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=je(Ri),ea=S({},Ri,{view:0,detail:0}),tl=je(ea),na,Us,oi,Ls=S({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(na=t.screenX-oi.screenX,Us=t.screenY-oi.screenY):Us=na=0,oi=t),na)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),el=je(Ls),Wa=S({},Ls,{dataTransfer:0}),Do=je(Wa),No=S({},ea,{relatedTarget:0}),ts=je(No),nl=S({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Vo=je(nl),js=S({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Io=je(js),Oo=S({},Ri,{data:0}),ui=je(Oo),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Uo[t])?!!n[t]:!1}function ia(){return Lo}var Je=S({},ea,{key:function(t){if(t.key){var n=Mo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(t){return t.type==="keypress"?$a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jo=je(Je),Bo=S({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=je(Bo),u=S({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),m=je(u),p=S({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(p),L=S({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=je(L),$=S({},Ri,{newState:0,oldState:0}),Et=je($),ce=[9,13,27,32],jt=An&&"CompositionEvent"in window,ie=null;An&&"documentMode"in document&&(ie=document.documentMode);var bn=An&&"TextEvent"in window&&!ie,ci=An&&(!jt||ie&&8<ie&&11>=ie),qn=" ",Pn=!1;function es(t,n){switch(t){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function N0(t,n){switch(t){case"compositionend":return Bs(n);case"keypress":return n.which!==32?null:(Pn=!0,qn);case"textInput":return t=n.data,t===qn&&Pn?null:t;default:return null}}function V0(t,n){if(qs)return t==="compositionend"||!jt&&es(t,n)?(t=Wr(),Ja=$r=ri=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var I0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!I0[t.type]:n==="textarea"}function Zd(t,n,a,l){Wi?si?si.push(l):si=[l]:Wi=l,n=xu(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var il=null,al=null;function O0(t){Ip(t,0)}function qo(t){var n=un(t);if(Ya(n))return t}function Jd(t,n){if(t==="change")return n}var $d=!1;if(An){var jc;if(An){var Bc="oninput"in document;if(!Bc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Bc=typeof Wd.oninput=="function"}jc=Bc}else jc=!1;$d=jc&&(!document.documentMode||9<document.documentMode)}function tm(){il&&(il.detachEvent("onpropertychange",em),al=il=null)}function em(t){if(t.propertyName==="value"&&qo(al)){var n=[];Zd(n,al,t,Tn(t)),ta(O0,n)}}function M0(t,n,a){t==="focusin"?(tm(),il=n,al=a,il.attachEvent("onpropertychange",em)):t==="focusout"&&tm()}function z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qo(al)}function U0(t,n){if(t==="click")return qo(n)}function L0(t,n){if(t==="input"||t==="change")return qo(n)}function j0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:j0;function sl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!me.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function im(t,n){var a=nm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=nm(a)}}function am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var B0=An&&"documentMode"in document&&11>=document.documentMode,Ps=null,Pc=null,rl=null,kc=!1;function rm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||Ps==null||Ps!==ai(l)||(l=Ps,"selectionStart"in l&&qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&sl(rl,l)||(rl=l,l=xu(Pc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ps)))}function ns(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ks={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Hc={},lm={};An&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function is(t){if(Hc[t])return Hc[t];if(!ks[t])return t;var n=ks[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in lm)return Hc[t]=n[a];return t}var om=is("animationend"),um=is("animationiteration"),cm=is("animationstart"),q0=is("transitionrun"),P0=is("transitionstart"),k0=is("transitioncancel"),hm=is("transitionend"),fm=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function kn(t,n){fm.set(t,n),ni(n,[t])}var Po=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Hs=0,Fc=0;function ko(){for(var t=Hs,n=Fc=Hs=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&dm(a,c,f)}}function Ho(t,n,a,l){Sn[Hs++]=t,Sn[Hs++]=n,Sn[Hs++]=a,Sn[Hs++]=l,Fc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qc(t,n,a,l){return Ho(t,n,a,l),Go(t)}function as(t,n){return Ho(t,null,null,n),Go(t)}function dm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ue(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Go(t){if(50<xl)throw xl=0,ef=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gs={};function H0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new H0(t,n,a,l)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function mm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Yc(t)&&(g=1);else if(typeof t=="string")g=KE(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=fn(31,a,n,c),t.elementType=C,t.lanes=f,t;case nt:return ss(a.children,c,f,n);case et:g=8,c|=24;break;case gt:return t=fn(12,a,n,c|2),t.elementType=gt,t.lanes=f,t;case kt:return t=fn(13,a,n,c),t.elementType=kt,t.lanes=f,t;case Lt:return t=fn(19,a,n,c),t.elementType=Lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ht:g=10;break t;case rt:g=9;break t;case qt:g=11;break t;case x:g=14;break t;case b:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ss(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function Kc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function gm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Xc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var pm=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var a=pm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Lr(n)},pm.set(t,n),n)}return{value:t,source:n,stack:Lr(n)}}var Fs=[],Qs=0,Qo=null,ll=0,wn=[],Cn=0,aa=null,hi=1,fi="";function xi(t,n){Fs[Qs++]=ll,Fs[Qs++]=Qo,Qo=t,ll=n}function ym(t,n,a){wn[Cn++]=hi,wn[Cn++]=fi,wn[Cn++]=aa,aa=t;var l=hi;t=fi;var c=32-ue(l)-1;l&=~(1<<c),a+=1;var f=32-ue(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-ue(n)+c|a<<c|l,fi=f+t}else hi=1<<f|a<<c|l,fi=t}function Zc(t){t.return!==null&&(xi(t,1),ym(t,1,0))}function Jc(t){for(;t===Qo;)Qo=Fs[--Qs],Fs[Qs]=null,ll=Fs[--Qs],Fs[Qs]=null;for(;t===aa;)aa=wn[--Cn],wn[Cn]=null,fi=wn[--Cn],wn[Cn]=null,hi=wn[--Cn],wn[Cn]=null}function _m(t,n){wn[Cn++]=hi,wn[Cn++]=fi,wn[Cn++]=aa,hi=n.id,fi=n.overflow,aa=t}var Be=null,$t=null,Nt=!1,sa=null,xn=!1,$c=Error(s(519));function ra(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(Rn(n,t)),$c}function vm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[Oe]=l,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Rt(Nl[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Ro(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Ji(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Up(n.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),l.onScroll!=null&&Rt("scroll",n),l.onScrollEnd!=null&&Rt("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ra(t,!0)}function Em(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Be=Be.return}}function Ys(t){if(t!==Be)return!1;if(!Nt)return Em(t),Nt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yf(t.type,t.memoizedProps)),a=!a),a&&$t&&ra(t),Em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));$t=Fp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));$t=Fp(t)}else n===27?(n=$t,Ea(t.type)?(t=Af,Af=null,$t=t):$t=n):$t=Be?Nn(t.stateNode.nextSibling):null;return!0}function rs(){$t=Be=null,Nt=!1}function Wc(){var t=sa;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),sa=null),t}function ol(t){sa===null?sa=[t]:sa.push(t)}var th=I(null),ls=null,Di=null;function la(t,n,a){tt(th,n._currentValue),n._currentValue=a}function Ni(t){t._currentValue=th.current,K(th)}function eh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function nh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),eh(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),eh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ks(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Vt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}c=c.return}t!==null&&nh(n,t,a,l),n.flags|=262144}function Yo(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function os(t){ls=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Tm(ls,t)}function Ko(t,n){return ls===null&&os(t),Tm(t,n)}function Tm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var G0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},F0=r.unstable_scheduleCallback,Q0=r.unstable_NormalPriority,ve={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new G0,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&F0(Q0,function(){t.controller.abort()})}var cl=null,ah=0,Xs=0,Zs=null;function Y0(t,n){if(cl===null){var a=cl=[];ah=0,Xs=of(),Zs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ah++,n.then(Am,Am),n}function Am(){if(--ah===0&&cl!==null){Zs!==null&&(Zs.status="fulfilled");var t=cl;cl=null,Xs=0,Zs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function K0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var bm=F.S;F.S=function(t,n){rp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Y0(t,n),bm!==null&&bm(t,n)};var us=I(null);function sh(){var t=us.current;return t!==null?t:Jt.pooledCache}function Xo(t,n){n===null?tt(us,us.current):tt(us,n.pool)}function Sm(){var t=sh();return t===null?null:{parent:ve._currentValue,pool:t}}var Js=Error(s(460)),rh=Error(s(474)),Zo=Error(s(542)),Jo={then:function(){}};function Rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ln,Ln),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t}throw hs=n,Js}}function cs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(hs=a,Js):a}}var hs=null;function Cm(){if(hs===null)throw Error(s(459));var t=hs;return hs=null,t}function xm(t){if(t===Js||t===Zo)throw Error(s(483))}var $s=null,hl=0;function $o(t){var n=hl;return hl+=1,$s===null&&($s=[]),wm($s,t,n)}function fl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wo(t,n){throw n.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dm(t){function n(z,N){if(t){var j=z.deletions;j===null?(z.deletions=[N],z.flags|=16):j.push(N)}}function a(z,N){if(!t)return null;for(;N!==null;)n(z,N),N=N.sibling;return null}function l(z){for(var N=new Map;z!==null;)z.key!==null?N.set(z.key,z):N.set(z.index,z),z=z.sibling;return N}function c(z,N){return z=Ci(z,N),z.index=0,z.sibling=null,z}function f(z,N,j){return z.index=j,t?(j=z.alternate,j!==null?(j=j.index,j<N?(z.flags|=67108866,N):j):(z.flags|=67108866,N)):(z.flags|=1048576,N)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,N,j,Q){return N===null||N.tag!==6?(N=Kc(j,z.mode,Q),N.return=z,N):(N=c(N,j),N.return=z,N)}function w(z,N,j,Q){var ut=j.type;return ut===nt?G(z,N,j.props.children,Q,j.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&cs(ut)===N.type)?(N=c(N,j.props),fl(N,j),N.return=z,N):(N=Fo(j.type,j.key,j.props,null,z.mode,Q),fl(N,j),N.return=z,N)}function B(z,N,j,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=Xc(j,z.mode,Q),N.return=z,N):(N=c(N,j.children||[]),N.return=z,N)}function G(z,N,j,Q,ut){return N===null||N.tag!==7?(N=ss(j,z.mode,Q,ut),N.return=z,N):(N=c(N,j),N.return=z,N)}function Y(z,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Kc(""+N,z.mode,j),N.return=z,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return j=Fo(N.type,N.key,N.props,null,z.mode,j),fl(j,N),j.return=z,j;case J:return N=Xc(N,z.mode,j),N.return=z,N;case b:return N=cs(N),Y(z,N,j)}if(Ce(N)||U(N))return N=ss(N,z.mode,j,null),N.return=z,N;if(typeof N.then=="function")return Y(z,$o(N),j);if(N.$$typeof===ht)return Y(z,Ko(z,N),j);Wo(z,N)}return null}function q(z,N,j,Q){var ut=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ut!==null?null:E(z,N,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return j.key===ut?w(z,N,j,Q):null;case J:return j.key===ut?B(z,N,j,Q):null;case b:return j=cs(j),q(z,N,j,Q)}if(Ce(j)||U(j))return ut!==null?null:G(z,N,j,Q,null);if(typeof j.then=="function")return q(z,N,$o(j),Q);if(j.$$typeof===ht)return q(z,N,Ko(z,j),Q);Wo(z,j)}return null}function k(z,N,j,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(j)||null,E(N,z,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return z=z.get(Q.key===null?j:Q.key)||null,w(N,z,Q,ut);case J:return z=z.get(Q.key===null?j:Q.key)||null,B(N,z,Q,ut);case b:return Q=cs(Q),k(z,N,j,Q,ut)}if(Ce(Q)||U(Q))return z=z.get(j)||null,G(N,z,Q,ut,null);if(typeof Q.then=="function")return k(z,N,j,$o(Q),ut);if(Q.$$typeof===ht)return k(z,N,j,Ko(N,Q),ut);Wo(N,Q)}return null}function st(z,N,j,Q){for(var ut=null,zt=null,lt=N,bt=N=0,Ct=null;lt!==null&&bt<j.length;bt++){lt.index>bt?(Ct=lt,lt=null):Ct=lt.sibling;var Ut=q(z,lt,j[bt],Q);if(Ut===null){lt===null&&(lt=Ct);break}t&&lt&&Ut.alternate===null&&n(z,lt),N=f(Ut,N,bt),zt===null?ut=Ut:zt.sibling=Ut,zt=Ut,lt=Ct}if(bt===j.length)return a(z,lt),Nt&&xi(z,bt),ut;if(lt===null){for(;bt<j.length;bt++)lt=Y(z,j[bt],Q),lt!==null&&(N=f(lt,N,bt),zt===null?ut=lt:zt.sibling=lt,zt=lt);return Nt&&xi(z,bt),ut}for(lt=l(lt);bt<j.length;bt++)Ct=k(lt,z,bt,j[bt],Q),Ct!==null&&(t&&Ct.alternate!==null&&lt.delete(Ct.key===null?bt:Ct.key),N=f(Ct,N,bt),zt===null?ut=Ct:zt.sibling=Ct,zt=Ct);return t&&lt.forEach(function(Ra){return n(z,Ra)}),Nt&&xi(z,bt),ut}function dt(z,N,j,Q){if(j==null)throw Error(s(151));for(var ut=null,zt=null,lt=N,bt=N=0,Ct=null,Ut=j.next();lt!==null&&!Ut.done;bt++,Ut=j.next()){lt.index>bt?(Ct=lt,lt=null):Ct=lt.sibling;var Ra=q(z,lt,Ut.value,Q);if(Ra===null){lt===null&&(lt=Ct);break}t&&lt&&Ra.alternate===null&&n(z,lt),N=f(Ra,N,bt),zt===null?ut=Ra:zt.sibling=Ra,zt=Ra,lt=Ct}if(Ut.done)return a(z,lt),Nt&&xi(z,bt),ut;if(lt===null){for(;!Ut.done;bt++,Ut=j.next())Ut=Y(z,Ut.value,Q),Ut!==null&&(N=f(Ut,N,bt),zt===null?ut=Ut:zt.sibling=Ut,zt=Ut);return Nt&&xi(z,bt),ut}for(lt=l(lt);!Ut.done;bt++,Ut=j.next())Ut=k(lt,z,bt,Ut.value,Q),Ut!==null&&(t&&Ut.alternate!==null&&lt.delete(Ut.key===null?bt:Ut.key),N=f(Ut,N,bt),zt===null?ut=Ut:zt.sibling=Ut,zt=Ut);return t&&lt.forEach(function(sT){return n(z,sT)}),Nt&&xi(z,bt),ut}function Zt(z,N,j,Q){if(typeof j=="object"&&j!==null&&j.type===nt&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case H:t:{for(var ut=j.key;N!==null;){if(N.key===ut){if(ut=j.type,ut===nt){if(N.tag===7){a(z,N.sibling),Q=c(N,j.props.children),Q.return=z,z=Q;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&cs(ut)===N.type){a(z,N.sibling),Q=c(N,j.props),fl(Q,j),Q.return=z,z=Q;break t}a(z,N);break}else n(z,N);N=N.sibling}j.type===nt?(Q=ss(j.props.children,z.mode,Q,j.key),Q.return=z,z=Q):(Q=Fo(j.type,j.key,j.props,null,z.mode,Q),fl(Q,j),Q.return=z,z=Q)}return g(z);case J:t:{for(ut=j.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){a(z,N.sibling),Q=c(N,j.children||[]),Q.return=z,z=Q;break t}else{a(z,N);break}else n(z,N);N=N.sibling}Q=Xc(j,z.mode,Q),Q.return=z,z=Q}return g(z);case b:return j=cs(j),Zt(z,N,j,Q)}if(Ce(j))return st(z,N,j,Q);if(U(j)){if(ut=U(j),typeof ut!="function")throw Error(s(150));return j=ut.call(j),dt(z,N,j,Q)}if(typeof j.then=="function")return Zt(z,N,$o(j),Q);if(j.$$typeof===ht)return Zt(z,N,Ko(z,j),Q);Wo(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(a(z,N.sibling),Q=c(N,j),Q.return=z,z=Q):(a(z,N),Q=Kc(j,z.mode,Q),Q.return=z,z=Q),g(z)):a(z,N)}return function(z,N,j,Q){try{hl=0;var ut=Zt(z,N,j,Q);return $s=null,ut}catch(lt){if(lt===Js||lt===Zo)throw lt;var zt=fn(29,lt,null,z.mode);return zt.lanes=Q,zt.return=z,zt}finally{}}}var fs=Dm(!0),Nm=Dm(!1),oa=!1;function lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ca(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Go(t),dm(t,null,a),n}return Ho(t,l,n,a),Go(t)}function dl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qr(t,a)}}function uh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ch=!1;function ml(){if(ch){var t=Zs;if(t!==null)throw t}}function gl(t,n,a,l){ch=!1;var c=t.updateQueue;oa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,g===null?f=B:g.next=B,g=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=w))}if(f!==null){var Y=c.baseState;g=0,G=B=w=null,E=f;do{var q=E.lane&-536870913,k=q!==E.lane;if(k?(wt&q)===q:(l&q)===q){q!==0&&q===Xs&&(ch=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,dt=E;q=n;var Zt=a;switch(dt.tag){case 1:if(st=dt.payload,typeof st=="function"){Y=st.call(Zt,Y,q);break t}Y=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=dt.payload,q=typeof st=="function"?st.call(Zt,Y,q):st,q==null)break t;Y=S({},Y,q);break t;case 2:oa=!0}}q=E.callback,q!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[q]:k.push(q))}else k={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=k,w=Y):G=G.next=k,g|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(w=Y),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ga|=g,t.lanes=g,t.memoizedState=Y}}function Vm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Im(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Vm(a[t],n)}var Ws=I(null),tu=I(0);function Om(t,n){t=Bi,tt(tu,t),tt(Ws,n),Bi=t|n.baseLanes}function hh(){tt(tu,Bi),tt(Ws,Ws.current)}function fh(){Bi=tu.current,K(Ws),K(tu)}var dn=I(null),Dn=null;function ha(t){var n=t.alternate;tt(he,he.current&1),tt(dn,t),Dn===null&&(n===null||Ws.current!==null||n.memoizedState!==null)&&(Dn=t)}function dh(t){tt(he,he.current),tt(dn,t),Dn===null&&(Dn=t)}function Mm(t){t.tag===22?(tt(he,he.current),tt(dn,t),Dn===null&&(Dn=t)):fa()}function fa(){tt(he,he.current),tt(dn,dn.current)}function mn(t){K(dn),Dn===t&&(Dn=null),K(he)}var he=I(0);function eu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ef(a)||Tf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vi=0,Tt=null,Kt=null,Ee=null,nu=!1,tr=!1,ds=!1,iu=0,pl=0,er=null,X0=0;function le(){throw Error(s(321))}function mh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function gh(t,n,a,l,c,f){return Vi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?yg:Nh,ds=!1,f=a(l,c),ds=!1,tr&&(f=Um(n,a,l,c)),zm(t),f}function zm(t){F.H=vl;var n=Kt!==null&&Kt.next!==null;if(Vi=0,Ee=Kt=Tt=null,nu=!1,pl=0,er=null,n)throw Error(s(300));t===null||Te||(t=t.dependencies,t!==null&&Yo(t)&&(Te=!0))}function Um(t,n,a,l){Tt=t;var c=0;do{if(tr&&(er=null),pl=0,tr=!1,25<=c)throw Error(s(301));if(c+=1,Ee=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=_g,f=n(a,l)}while(tr);return f}function Z0(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function ph(){var t=iu!==0;return iu=0,t}function yh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _h(t){if(nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}nu=!1}Vi=0,Ee=Kt=Tt=null,tr=!1,pl=iu=0,er=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Tt.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function fe(){if(Kt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=Ee===null?Tt.memoizedState:Ee.next;if(n!==null)Ee=n,Kt=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ee===null?Tt.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,er===null&&(er=[]),t=wm(er,t,n),n=Tt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?yg:Nh),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===ht)return qe(t)}throw Error(s(438,String(t)))}function vh(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=au(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function ru(t){var n=fe();return Eh(n,Kt,t)}function Eh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,B=n,G=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(wt&Y)===Y:(Vi&Y)===Y){var q=B.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Xs&&(G=!0);else if((Vi&q)===q){B=B.next,q===Xs&&(G=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=Y,g=f):w=w.next=Y,Tt.lanes|=q,ga|=q;Y=B.action,ds&&a(f,Y),f=B.hasEagerState?B.eagerState:a(f,Y)}else q={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=q,g=f):w=w.next=q,Tt.lanes|=Y,ga|=Y;B=B.next}while(B!==null&&B!==n);if(w===null?g=f:w.next=E,!hn(f,t.memoizedState)&&(Te=!0,G&&(a=Zs,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Th(t){var n=fe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Lm(t,n,a){var l=Tt,c=fe(),f=Nt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!hn((Kt||c).memoizedState,a);if(g&&(c.memoizedState=a,Te=!0),c=c.queue,Sh(qm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,nr(9,{destroy:void 0},Bm.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));f||(Vi&127)!==0||jm(l,n,a)}return a}function jm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=au(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Bm(t,n,a,l){n.value=a,n.getSnapshot=l,Pm(n)&&km(t)}function qm(t,n,a){return a(function(){Pm(n)&&km(t)})}function Pm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function km(t){var n=as(t,2);n!==null&&rn(n,t,2)}function Ah(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),ds){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function Hm(t,n,a,l){return t.baseState=a,Eh(t,Kt,typeof l=="function"?l:Ii)}function J0(t,n,a,l,c){if(uu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Gm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Gm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=a(c,l),w=F.S;w!==null&&w(g,E),Fm(t,n,E)}catch(B){bh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(c,l),Fm(t,n,f)}catch(B){bh(t,n,B)}}function Fm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qm(t,n,l)},function(l){return bh(t,n,l)}):Qm(t,n,a)}function Qm(t,n,a){n.status="fulfilled",n.value=a,Ym(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Gm(t,a)))}function bh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ym(n),n=n.next;while(n!==l)}t.action=null}function Ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Km(t,n){return n}function Xm(t,n){if(Nt){var a=Jt.formState;if(a!==null){t:{var l=Tt;if(Nt){if($t){e:{for(var c=$t,f=xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){$t=Nn(c.nextSibling),l=c.data==="F!";break t}}ra(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:n},a.queue=l,a=mg.bind(null,Tt,l),l.dispatch=a,l=Ah(!1),f=Dh.bind(null,Tt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=J0.bind(null,Tt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Zm(t){var n=fe();return Jm(n,Kt,t)}function Jm(t,n,a){if(n=Eh(t,n,Km)[0],t=ru(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(g){throw g===Js?Zo:g}else l=n;n=fe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,nr(9,{destroy:void 0},$0.bind(null,c,a),null)),[l,f,t]}function $0(t,n){t.action=n}function $m(t){var n=fe(),a=Kt;if(a!==null)return Jm(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function nr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=au(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Wm(){return fe().memoizedState}function lu(t,n,a,l){var c=$e();Tt.flags|=t,c.memoizedState=nr(1|n,{destroy:void 0},a,l===void 0?null:l)}function ou(t,n,a,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&mh(l,Kt.memoizedState.deps)?c.memoizedState=nr(n,f,a,l):(Tt.flags|=t,c.memoizedState=nr(1|n,f,a,l))}function tg(t,n){lu(8390656,8,t,n)}function Sh(t,n){ou(2048,8,t,n)}function W0(t){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=au(),Tt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function eg(t){var n=fe().memoizedState;return W0({ref:n,nextImpl:t}),function(){if((Bt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ng(t,n){return ou(4,2,t,n)}function ig(t,n){return ou(4,4,t,n)}function ag(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,ou(4,4,ag.bind(null,n,t),a)}function Rh(){}function rg(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&mh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function lg(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&mh(n,l[1]))return l[0];if(l=t(),ds){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function wh(t,n,a){return a===void 0||(Vi&1073741824)!==0&&(wt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=op(),Tt.lanes|=t,ga|=t,a)}function og(t,n,a,l){return hn(a,n)?a:Ws.current!==null?(t=wh(t,a,l),hn(t,n)||(Te=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(wt&261930)===0?(Te=!0,t.memoizedState=a):(t=op(),Tt.lanes|=t,ga|=t,n)}function ug(t,n,a,l,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Dh(t,!1,n,a);try{var w=c(),B=F.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=K0(w,l);_l(t,n,G,yn(t))}else _l(t,n,l,yn(t))}catch(Y){_l(t,n,{then:function(){},status:"rejected",reason:Y},yn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function tE(){}function Ch(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=cg(t).queue;ug(t,c,n,ct,a===null?tE:function(){return hg(t),a(l)})}function cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function hg(t){var n=cg(t);n.next===null&&(n=t.alternate.memoizedState),_l(t,n.next.queue,{},yn())}function xh(){return qe(zl)}function fg(){return fe().memoizedState}function dg(){return fe().memoizedState}function eE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=ua(a);var l=ca(n,t,a);l!==null&&(rn(l,n,a),dl(l,n,a)),n={cache:ih()},t.payload=n;return}n=n.return}}function nE(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uu(t)?gg(n,a):(a=Qc(t,n,a,l),a!==null&&(rn(a,t,l),pg(a,n,l)))}function mg(t,n,a){var l=yn();_l(t,n,a,l)}function _l(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uu(t))gg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Ho(t,n,c,0),Jt===null&&ko(),!1}catch{}finally{}if(a=Qc(t,n,c,l),a!==null)return rn(a,t,l),pg(a,n,l),!0}return!1}function Dh(t,n,a,l){if(l={lane:2,revertLane:of(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(n)throw Error(s(479))}else n=Qc(t,a,l,2),n!==null&&rn(n,t,2)}function uu(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function gg(t,n){tr=nu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function pg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qr(t,a)}}var vl={readContext:qe,use:su,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};vl.useEffectEvent=le;var yg={readContext:qe,use:su,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:tg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,lu(4194308,4,ag.bind(null,n,t),a)},useLayoutEffect:function(t,n){return lu(4194308,4,t,n)},useInsertionEffect:function(t,n){lu(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(ds){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(ds){vn(!0);try{a(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=nE.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Ah(t);var n=t.queue,a=mg.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rh,useDeferredValue:function(t,n){var a=$e();return wh(a,t,n)},useTransition:function(){var t=Ah(!1);return t=ug.bind(null,Tt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=$e();if(Nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(wt&127)!==0||jm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,tg(qm.bind(null,l,f,t),[t]),l.flags|=2048,nr(9,{destroy:void 0},Bm.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(Nt){var a=fi,l=hi;a=(l&~(1<<32-ue(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=iu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=X0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xh,useFormState:Xm,useActionState:Xm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Dh.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:vh,useCacheRefresh:function(){return $e().memoizedState=eE.bind(null,Tt)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nh={readContext:qe,use:su,useCallback:rg,useContext:qe,useEffect:Sh,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:ru,useRef:Wm,useState:function(){return ru(Ii)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=fe();return og(a,Kt.memoizedState,t,n)},useTransition:function(){var t=ru(Ii)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Lm,useId:fg,useHostTransitionStatus:xh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t,n){var a=fe();return Hm(a,Kt,t,n)},useMemoCache:vh,useCacheRefresh:dg};Nh.useEffectEvent=eg;var _g={readContext:qe,use:su,useCallback:rg,useContext:qe,useEffect:Sh,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:Th,useRef:Wm,useState:function(){return Th(Ii)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=fe();return Kt===null?wh(a,t,n):og(a,Kt.memoizedState,t,n)},useTransition:function(){var t=Th(Ii)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Lm,useId:fg,useHostTransitionStatus:xh,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=fe();return Kt!==null?Hm(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vh,useCacheRefresh:dg};_g.useEffectEvent=eg;function Vh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ih={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ua(l);c.payload=n,a!=null&&(c.callback=a),n=ca(t,c,l),n!==null&&(rn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ua(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ca(t,c,l),n!==null&&(rn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=ua(a);l.tag=2,n!=null&&(l.callback=n),n=ca(t,l,a),n!==null&&(rn(n,t,a),dl(n,t,a))}};function vg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!sl(a,l)||!sl(c,f):!0}function Eg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Ih.enqueueReplaceState(n,n.state,null)}function ms(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Tg(t){Po(t)}function Ag(t){console.error(t)}function bg(t){Po(t)}function cu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Oh(t,n,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){cu(t,n)},a}function Rg(t){return t=ua(t),t.tag=3,t}function wg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Sg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Sg(n,a,l),typeof c!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function iE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ks(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?Au():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Jo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),sf(t,l,c)),!1;case 22:return a.flags|=65536,l===Jo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),sf(t,l,c)),!1}throw Error(s(435,a.tag))}return sf(t,l,c),Au(),!1}if(Nt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(s(422),{cause:l}),ol(Rn(t,a)))):(l!==$c&&(n=Error(s(423),{cause:l}),ol(Rn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Rn(l,a),c=Oh(t.stateNode,l,c),uh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=Rn(f,a),Cl===null?Cl=[f]:Cl.push(f),oe!==4&&(oe=2),n===null)return!0;l=Rn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Oh(a.stateNode,l,t),uh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(pa===null||!pa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Rg(c),wg(c,t,a,l),uh(a,c),!1}a=a.return}while(a!==null);return!1}var Mh=Error(s(461)),Te=!1;function Pe(t,n,a,l){n.child=t===null?Nm(n,null,a,l):fs(n,t.child,a,l)}function Cg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return os(n),l=gh(t,n,a,g,f,c),E=ph(),t!==null&&!Te?(yh(t,n,c),Oi(t,n,c)):(Nt&&E&&Zc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function xg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Yc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Dg(t,n,f,l,c)):(t=Fo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(g,l)&&t.ref===n.ref)return Oi(t,n,c)}return n.flags|=1,t=Ci(f,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(sl(f,l)&&t.ref===n.ref)if(Te=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Te=!0);else return n.lanes=t.lanes,Oi(t,n,c)}return zh(t,n,a,l,c)}function Ng(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Vg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,f!==null?f.cachePool:null),f!==null?Om(n,f):hh(),Mm(n);else return l=n.lanes=536870912,Vg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Xo(n,f.cachePool),Om(n,f),fa(),n.memoizedState=null):(t!==null&&Xo(n,null),hh(),fa());return Pe(t,n,c,a),n.child}function El(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vg(t,n,a,l,c){var f=sh();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Xo(n,null),hh(),Mm(n),t!==null&&Ks(t,n,l,!0),n.childLanes=c,null}function hu(t,n){return n=du({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ig(t,n,a){return fs(n,t.child,null,a),t=hu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function aE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Nt){if(l.mode==="hidden")return t=hu(n,l),n.lanes=536870912,El(null,t);if(dh(n),(t=$t)?(t=Gp(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:aa!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=gm(t),a.return=n,n.child=a,Be=n,$t=null)):t=null,t===null)throw ra(n);return n.lanes=536870912,null}return hu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(dh(n),c)if(n.flags&256)n.flags&=-257,n=Ig(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Te||Ks(t,n,a,!1),c=(a&t.childLanes)!==0,Te||c){if(l=Jt,l!==null&&(g=Pr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,as(t,g),rn(l,t,g),Mh;Au(),n=Ig(t,n,a)}else t=f.treeContext,$t=Nn(g.nextSibling),Be=n,Nt=!0,sa=null,xn=!1,t!==null&&_m(n,t),n=hu(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function fu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zh(t,n,a,l,c){return os(n),a=gh(t,n,a,l,void 0,c),l=ph(),t!==null&&!Te?(yh(t,n,c),Oi(t,n,c)):(Nt&&l&&Zc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function Og(t,n,a,l,c,f){return os(n),n.updateQueue=null,a=Um(n,l,a,c),zm(t),l=ph(),t!==null&&!Te?(yh(t,n,f),Oi(t,n,f)):(Nt&&l&&Zc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Mg(t,n,a,l,c){if(os(n),n.stateNode===null){var f=Gs,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ih,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Gs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Vh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ih.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=ms(a,E);f.props=w;var B=f.context,G=a.contextType;g=Gs,typeof G=="object"&&G!==null&&(g=qe(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Eg(n,f,l,g),oa=!1;var q=n.memoizedState;f.state=q,gl(n,l,f,c),ml(),B=n.memoizedState,E||q!==B||oa?(typeof Y=="function"&&(Vh(n,a,Y,l),B=n.memoizedState),(w=oa||vg(n,a,w,l,q,B,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,oh(t,n),g=n.memoizedProps,G=ms(a,g),f.props=G,Y=n.pendingProps,q=f.context,B=a.contextType,w=Gs,typeof B=="object"&&B!==null&&(w=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||q!==w)&&Eg(n,f,l,w),oa=!1,q=n.memoizedState,f.state=q,gl(n,l,f,c),ml();var k=n.memoizedState;g!==Y||q!==k||oa||t!==null&&t.dependencies!==null&&Yo(t.dependencies)?(typeof E=="function"&&(Vh(n,a,E,l),k=n.memoizedState),(G=oa||vg(n,a,G,l,q,k,w)||t!==null&&t.dependencies!==null&&Yo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=fs(n,t.child,null,c),n.child=fs(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Oi(t,n,c),t}function zg(t,n,a,l){return rs(),n.flags|=256,Pe(t,n,a,l),n.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(t){return{baseLanes:t,cachePool:Sm()}}function jh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function Ug(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Nt){if(c?ha(n):fa(),(t=$t)?(t=Gp(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:aa!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=gm(t),a.return=n,n.child=a,Be=n,$t=null)):t=null,t===null)throw ra(n);return Tf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(fa(),c=n.mode,E=du({mode:"hidden",children:E},c),l=ss(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lh(a),l.childLanes=jh(t,g,a),n.memoizedState=Uh,El(null,l)):(ha(n),Bh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(ha(n),n.flags&=-257,n=qh(t,n,a)):n.memoizedState!==null?(fa(),n.child=t.child,n.flags|=128,n=null):(fa(),E=l.fallback,c=n.mode,l=du({mode:"visible",children:l.children},c),E=ss(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,fs(n,t.child,null,a),l=n.child,l.memoizedState=Lh(a),l.childLanes=jh(t,g,a),n.memoizedState=Uh,n=El(null,l));else if(ha(n),Tf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,ol({value:l,source:null,stack:null}),n=qh(t,n,a)}else if(Te||Ks(t,n,a,!1),g=(a&t.childLanes)!==0,Te||g){if(g=Jt,g!==null&&(l=Pr(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,as(t,l),rn(g,t,l),Mh;Ef(E)||Au(),n=qh(t,n,a)}else Ef(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,$t=Nn(E.nextSibling),Be=n,Nt=!0,sa=null,xn=!1,t!==null&&_m(n,t),n=Bh(n,l.children),n.flags|=4096);return n}return c?(fa(),E=l.fallback,c=n.mode,w=t.child,B=w.sibling,l=Ci(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?E=Ci(B,E):(E=ss(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,El(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Lh(a):(c=E.cachePool,c!==null?(w=ve._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Sm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=jh(t,g,a),n.memoizedState=Uh,El(t.child,l)):(ha(n),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Bh(t,n){return n=du({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function du(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function qh(t,n,a){return fs(n,t.child,null,a),t=Bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),eh(t.return,n,a)}function Ph(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function jg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(he,g),Pe(t,n,l,a),l=Nt?ll:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,a,n);else if(t.tag===19)Lg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&eu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Ph(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Ph(n,!0,a,null,f,l);break;case"together":Ph(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Oi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ga|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ks(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ci(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yo(t)))}function sE(t,n,a){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),la(n,ve,t.memoizedState.cache),rs();break;case 27:case 5:qa(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:la(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,dh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ug(t,n,a):(ha(n),t=Oi(t,n,a),t!==null?t.sibling:null);ha(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ks(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return jg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(he,he.current),l)break;return null;case 22:return n.lanes=0,Ng(t,n,a,n.pendingProps);case 24:la(n,ve,t.memoizedState.cache)}return Oi(t,n,a)}function Bg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Te=!0;else{if(!kh(t,a)&&(n.flags&128)===0)return Te=!1,sE(t,n,a);Te=(t.flags&131072)!==0}else Te=!1,Nt&&(n.flags&1048576)!==0&&ym(n,ll,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=cs(n.elementType),n.type=t,typeof t=="function")Yc(t)?(l=ms(t,l),n.tag=1,n=Mg(null,n,t,l,a)):(n.tag=0,n=zh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===qt){n.tag=11,n=Cg(null,n,t,l,a);break t}else if(c===x){n.tag=14,n=xg(null,n,t,l,a);break t}}throw n=ee(t)||t,Error(s(306,n,""))}}return n;case 0:return zh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ms(l,n.pendingProps),Mg(t,n,l,c,a);case 3:t:{if(xe(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,oh(t,n),gl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,la(n,ve,l),l!==f.cache&&nh(n,[ve],a,!0),ml(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zg(t,n,l,a);break t}else if(l!==c){c=Rn(Error(s(424)),n),ol(c),n=zg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($t=Nn(t.firstChild),Be=n,Nt=!0,sa=null,xn=!0,a=Nm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rs(),l===c){n=Oi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return fu(t,n),t===null?(a=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Nt||(a=n.type,t=n.pendingProps,l=Du(At.current).createElement(a),l[pe]=n,l[Oe]=t,ke(l,a,t),ye(l),n.stateNode=l):n.memoizedState=Zp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qa(n),t===null&&Nt&&(l=n.stateNode=Yp(n.type,n.pendingProps,At.current),Be=n,xn=!0,c=$t,Ea(n.type)?(Af=c,$t=Nn(l.firstChild)):$t=c),Pe(t,n,n.pendingProps.children,a),fu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Nt&&((c=l=$t)&&(l=zE(l,n.type,n.pendingProps,xn),l!==null?(n.stateNode=l,Be=n,$t=Nn(l.firstChild),xn=!1,c=!0):c=!1),c||ra(n)),qa(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,yf(c,f)?l=null:g!==null&&yf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=gh(t,n,Z0,null,null,a),zl._currentValue=c),fu(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Nt&&((t=a=$t)&&(a=UE(a,n.pendingProps,xn),a!==null?(n.stateNode=a,Be=n,$t=null,t=!0):t=!1),t||ra(n)),null;case 13:return Ug(t,n,a);case 4:return xe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=fs(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Cg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,la(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,os(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return xg(t,n,n.type,n.pendingProps,a);case 15:return Dg(t,n,n.type,n.pendingProps,a);case 19:return jg(t,n,a);case 31:return aE(t,n,a);case 22:return Ng(t,n,a,n.pendingProps);case 24:return os(n),l=qe(ve),t===null?(c=sh(),c===null&&(c=Jt,f=ih(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},lh(n),la(n,ve,c)):((t.lanes&a)!==0&&(oh(t,n),gl(n,null,null,a),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),la(n,ve,l)):(l=f.cache,la(n,ve,l),l!==c.cache&&nh(n,[ve],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Mi(t){t.flags|=4}function Hh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(fp())t.flags|=8192;else throw hs=Jo,rh}else t.flags&=-16777217}function qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ey(n))if(fp())t.flags|=8192;else throw hs=Jo,rh}function mu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Eo():536870912,t.lanes|=n,rr|=n)}function Tl(t,n){if(!Nt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function rE(t,n,a){var l=n.pendingProps;switch(Jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ni(ve),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wc())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Mi(n),f!==null?(Wt(n),qg(n,f)):(Wt(n),Hh(n,c,null,l,a))):f?f!==t.memoizedState?(Mi(n),Wt(n),qg(n,f)):(Wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Mi(n),Wt(n),Hh(n,c,t,l,a)),null;case 27:if(Rs(n),a=At.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}t=at.current,Ys(n)?vm(n):(t=Yp(c,l,a),n.stateNode=t,Mi(n))}return Wt(n),null;case 5:if(Rs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}if(f=at.current,Ys(n))vm(n);else{var g=Du(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[pe]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(ke(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Mi(n)}}return Wt(n),Hh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=At.current,Ys(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Up(t.nodeValue,a)),t||ra(n,!0)}else t=Du(t).createTextNode(l),t[pe]=n,n.stateNode=t}return Wt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ys(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[pe]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),t=!1}else a=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),mu(n,n.updateQueue),Wt(n),null);case 4:return ne(),t===null&&ff(n.stateNode.containerInfo),Wt(n),null;case 10:return Ni(n.type),Wt(n),null;case 19:if(K(he),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Tl(l,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=eu(t),f!==null){for(n.flags|=128,Tl(l,!1),t=f.updateQueue,n.updateQueue=t,mu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)mm(a,t),a=a.sibling;return tt(he,he.current&1|2),Nt&&xi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>vu&&(n.flags|=128,c=!0,Tl(l,!1),n.lanes=4194304)}else{if(!c)if(t=eu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,mu(n,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Nt)return Wt(n),null}else 2*Ze()-l.renderingStartTime>vu&&a!==536870912&&(n.flags|=128,c=!0,Tl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=he.current,tt(he,c?a&1|2:a&1),Nt&&xi(n,l.treeForkCount),t):(Wt(n),null);case 22:case 23:return mn(n),fh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),a=n.updateQueue,a!==null&&mu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ni(ve),Wt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function lE(t,n){switch(Jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ni(ve),ne(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rs(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(s(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(he),null;case 4:return ne(),null;case 10:return Ni(n.type),null;case 22:case 23:return mn(n),fh(),t!==null&&K(us),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ni(ve),null;case 25:return null;default:return null}}function Pg(t,n){switch(Jc(n),n.tag){case 3:Ni(ve),ne();break;case 26:case 27:case 5:Rs(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:K(he);break;case 10:Ni(n.type);break;case 22:case 23:mn(n),fh(),t!==null&&K(us);break;case 24:Ni(ve)}}function Al(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Qt(n,n.return,E)}}function da(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,B=E;try{B()}catch(G){Qt(c,w,G)}}}l=l.next}while(l!==f)}}catch(G){Qt(n,n.return,G)}}function kg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Im(n,a)}catch(l){Qt(t,t.return,l)}}}function Hg(t,n,a){a.props=ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(t,n,l)}}function bl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Qt(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Qt(t,n,c)}else a.current=null}function Gg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Qt(t,t.return,c)}}function Gh(t,n,a){try{var l=t.stateNode;DE(l,t.type,a,n),l[Oe]=n}catch(c){Qt(t,t.return,c)}}function Fg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ea(t.type)||t.tag===4}function Fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Fg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ea(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Qh(t,n,a),t=t.sibling;t!==null;)Qh(t,n,a),t=t.sibling}function gu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(gu(t,n,a),t=t.sibling;t!==null;)gu(t,n,a),t=t.sibling}function Qg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,a),n[pe]=t,n[Oe]=a}catch(f){Qt(t,t.return,f)}}var zi=!1,Ae=!1,Yh=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function oE(t,n){if(t=t.containerInfo,gf=Uu,t=sm(t),qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,B=0,G=0,Y=t,q=null;e:for(;;){for(var k;Y!==a||c!==0&&Y.nodeType!==3||(E=g+c),Y!==f||l!==0&&Y.nodeType!==3||(w=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(k=Y.firstChild)!==null;)q=Y,Y=k;for(;;){if(Y===t)break e;if(q===a&&++B===c&&(E=g),q===f&&++G===l&&(w=g),(k=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=k}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(pf={focusedElem:t,selectionRange:a},Uu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var st=ms(a.type,c);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Qt(a,a.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function Kg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&Al(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Qt(a,a.return,g)}else{var c=ms(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(a,a.return,g)}}l&64&&kg(a),l&512&&bl(a,a.return);break;case 3:if(Li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Im(t,n)}catch(g){Qt(a,a.return,g)}}break;case 27:n===null&&l&4&&Qg(a);case 26:case 5:Li(t,a),n===null&&l&4&&Gg(a),l&512&&bl(a,a.return);break;case 12:Li(t,a);break;case 31:Li(t,a),l&4&&Jg(t,a);break;case 13:Li(t,a),l&4&&$g(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yE.bind(null,a),LE(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=zi;var f=Ae;zi=l,(Ae=n)&&!f?ji(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),zi=c,Ae=f}break;case 30:break;default:Li(t,a)}}function Xg(t){var n=t.alternate;n!==null&&(t.alternate=null,Xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ns(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,en=!1;function Ui(t,n,a){for(a=a.child;a!==null;)Zg(t,n,a),a=a.sibling}function Zg(t,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ae||di(a,n),Ui(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||di(a,n);var l=ae,c=en;Ea(a.type)&&(ae=a.stateNode,en=!1),Ui(t,n,a),Il(a.stateNode),ae=l,en=c;break;case 5:Ae||di(a,n);case 6:if(l=ae,c=en,ae=null,Ui(t,n,a),ae=l,en=c,ae!==null)if(en)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(f){Qt(a,n,f)}else try{ae.removeChild(a.stateNode)}catch(f){Qt(a,n,f)}break;case 18:ae!==null&&(en?(t=ae,kp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),mr(t)):kp(ae,a.stateNode));break;case 4:l=ae,c=en,ae=a.stateNode.containerInfo,en=!0,Ui(t,n,a),ae=l,en=c;break;case 0:case 11:case 14:case 15:da(2,a,n),Ae||da(4,a,n),Ui(t,n,a);break;case 1:Ae||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hg(a,n,l)),Ui(t,n,a);break;case 21:Ui(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Ui(t,n,a),Ae=l;break;default:Ui(t,n,a)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mr(t)}catch(a){Qt(n,n.return,a)}}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(a){Qt(n,n.return,a)}}function uE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Yg),n;default:throw Error(s(435,t.tag))}}function pu(t,n){var a=uE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=_E.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ea(E.type)){ae=E.stateNode,en=!1;break t}break;case 5:ae=E.stateNode,en=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ae===null)throw Error(s(160));Zg(f,g,c),ae=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wg(n,t),n=n.sibling}var Hn=null;function Wg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(da(3,t,t.return),Al(3,t),da(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Ae||a===null||di(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(nn(n,t),an(t),l&512&&(Ae||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,a),f[pe]=t,ye(f),l=f;break t;case"link":var g=Wp("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;case"meta":if(g=Wp("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[pe]=t,ye(f),l=f}t.stateNode=l}else ty(c,t.type,t.stateNode);else t.stateNode=$p(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ty(c,t.type,t.stateNode):$p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Ae||a===null||di(a,a.return)),a!==null&&l&4&&Gh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Ae||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(st){Qt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Gh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(st){Qt(t,t.return,st)}}break;case 3:if(Iu=null,c=Hn,Hn=Nu(n.containerInfo),nn(n,t),Hn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(n.containerInfo)}catch(st){Qt(t,t.return,st)}Yh&&(Yh=!1,tp(t));break;case 4:l=Hn,Hn=Nu(t.stateNode.containerInfo),nn(n,t),an(t),Hn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_u=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=zi,G=Ae;if(zi=B||c,Ae=G||w,nn(n,t),Ae=G,zi=B,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||zi||Ae||gs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var Y=w.memoizedProps.style,q=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(st){Qt(w,w.return,st)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(st){Qt(w,w.return,st)}}}else if(n.tag===18){if(a===null){w=n;try{var k=w.stateNode;c?Hp(k,!0):Hp(w.stateNode,!1)}catch(st){Qt(w,w.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pu(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Fg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Fh(t);gu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=Fh(t);gu(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,B=Fh(t);Qh(t,B,w);break;default:throw Error(s(161))}}catch(G){Qt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Li(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kg(t,n.alternate,n),n=n.sibling}function gs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:da(4,n,n.return),gs(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Hg(n,n.return,a),gs(n);break;case 27:Il(n.stateNode);case 26:case 5:di(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}t=t.sibling}}function ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ji(c,f,a),Al(4,f);break;case 1:if(ji(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Qt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Vm(w[c],E)}catch(B){Qt(l,l.return,B)}}a&&g&64&&kg(f),bl(f,f.return);break;case 27:Qg(f);case 26:case 5:ji(c,f,a),a&&l===null&&g&4&&Gg(f),bl(f,f.return);break;case 12:ji(c,f,a);break;case 31:ji(c,f,a),a&&g&4&&Jg(c,f);break;case 13:ji(c,f,a),a&&g&4&&$g(c,f);break;case 22:f.memoizedState===null&&ji(c,f,a),bl(f,f.return);break;case 30:break;default:ji(c,f,a)}n=n.sibling}}function Kh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ep(t,n,a,l),n=n.sibling}function ep(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),c&2048&&Al(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){Gn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Qt(n,n.return,w)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,a,l):Sl(t,n):f._visibility&2?Gn(t,n,a,l):(f._visibility|=2,ir(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Kh(g,n);break;case 24:Gn(t,n,a,l),c&2048&&Xh(n.alternate,n);break;default:Gn(t,n,a,l)}}function ir(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,w=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:ir(f,g,E,w,c),Al(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?ir(f,g,E,w,c):Sl(f,g):(G._visibility|=2,ir(f,g,E,w,c)),c&&B&2048&&Kh(g.alternate,g);break;case 24:ir(f,g,E,w,c),c&&B&2048&&Xh(g.alternate,g);break;default:ir(f,g,E,w,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(a,l),c&2048&&Kh(l.alternate,l);break;case 24:Sl(a,l),c&2048&&Xh(l.alternate,l);break;default:Sl(a,l)}n=n.sibling}}var Rl=8192;function ar(t,n,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)np(t,n,a),t=t.sibling}function np(t,n,a){switch(t.tag){case 26:ar(t,n,a),t.flags&Rl&&t.memoizedState!==null&&XE(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:ar(t,n,a);break;case 3:case 4:var l=Hn;Hn=Nu(t.stateNode.containerInfo),ar(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,ar(t,n,a),Rl=l):ar(t,n,a));break;default:ar(t,n,a)}}function ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,sp(l,t)}ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&da(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yu(t)):wl(t);break;default:wl(t)}}function yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,sp(l,t)}ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:da(8,n,n.return),yu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,yu(n));break;default:yu(n)}t=t.sibling}}function sp(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:da(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(Xg(l),l===a){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var cE={getCacheForType:function(t){var n=qe(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(ve).controller.signal}},hE=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,St=null,wt=0,Ft=0,gn=null,ma=!1,sr=!1,Zh=!1,Bi=0,oe=0,ga=0,ps=0,Jh=0,pn=0,rr=0,Cl=null,sn=null,$h=!1,_u=0,rp=0,vu=1/0,Eu=null,pa=null,Ne=0,ya=null,lr=null,qi=0,Wh=0,tf=null,lp=null,xl=0,ef=null;function yn(){return(Bt&2)!==0&&wt!==0?wt&-wt:F.T!==null?of():To()}function op(){if(pn===0)if((wt&536870912)===0||Nt){var t=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function rn(t,n,a){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(or(t,0),_a(t,wt,pn,!1)),Ga(t,a),((Bt&2)===0||t!==Jt)&&(t===Jt&&((Bt&2)===0&&(ps|=a),oe===4&&_a(t,wt,pn,!1)),mi(t))}function up(t,n,a){if((Bt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),c=l?mE(t,n):af(t,n,!0),f=l;do{if(c===0){sr&&!l&&_a(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!fE(a)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Cl;var w=E.current.memoizedState.isDehydrated;if(w&&(or(E,g).flags|=256),g=af(E,g,!1),g!==2){if(Zh&&!w){E.errorRecoveryDisabledLanes|=f,ps|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){or(t,0),_a(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:_a(l,n,pn,!ma);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=_u+300-Ze(),10<c)){if(_a(l,n,pn,!ma),Zn(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=qp(cp.bind(null,l,a,sn,Eu,$h,n,pn,ps,rr,ma,f,"Throttled",-0,0),c);break t}cp(l,a,sn,Eu,$h,n,pn,ps,rr,ma,f,null,-0,0)}}break}while(!0);mi(t)}function cp(t,n,a,l,c,f,g,E,w,B,G,Y,q,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},np(n,f,Y);var st=(f&62914560)===f?_u-Ze():(f&4194048)===f?rp-Ze():0;if(st=ZE(Y,st),st!==null){qi=f,t.cancelPendingCommit=st(_p.bind(null,t,n,f,a,l,c,g,E,w,G,Y,null,q,k)),_a(t,f,g,!B);return}}_p(t,n,f,a,l,c,g,E,w)}function fE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _a(t,n,a,l){n&=~Jh,n&=~ps,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ue(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Fa(t,a,n)}function Tu(){return(Bt&6)===0?(Dl(0),!1):!0}function nf(){if(St!==null){if(Ft===0)var t=St.return;else t=St,Di=ls=null,_h(t),$s=null,hl=0,t=St;for(;t!==null;)Pg(t.alternate,t),t=t.return;St=null}}function or(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qi=0,nf(),Jt=t,St=a=Ci(t.current,null),wt=n,Ft=0,gn=null,ma=!1,sr=Mn(t,n),Zh=!1,rr=pn=Jh=ps=ga=oe=0,sn=Cl=null,$h=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ue(l),f=1<<c;n|=t[c],l&=~f}return Bi=n,ko(),a}function hp(t,n){Tt=null,F.H=vl,n===Js||n===Zo?(n=Cm(),Ft=3):n===rh?(n=Cm(),Ft=4):Ft=n===Mh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,St===null&&(oe=1,cu(t,Rn(n,t.current)))}function fp(){var t=dn.current;return t===null?!0:(wt&4194048)===wt?Dn===null:(wt&62914560)===wt||(wt&536870912)!==0?t===Dn:!1}function dp(){var t=F.H;return F.H=vl,t===null?vl:t}function mp(){var t=F.A;return F.A=cE,t}function Au(){oe=4,ma||(wt&4194048)!==wt&&dn.current!==null||(sr=!0),(ga&134217727)===0&&(ps&134217727)===0||Jt===null||_a(Jt,wt,pn,!1)}function af(t,n,a){var l=Bt;Bt|=2;var c=dp(),f=mp();(Jt!==t||wt!==n)&&(Eu=null,or(t,n)),n=!1;var g=oe;t:do try{if(Ft!==0&&St!==null){var E=St,w=gn;switch(Ft){case 8:nf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Ft;if(Ft=0,gn=null,ur(t,E,w,B),a&&sr){g=0;break t}break;default:B=Ft,Ft=0,gn=null,ur(t,E,w,B)}}dE(),g=oe;break}catch(G){hp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Di=ls=null,Bt=l,F.H=c,F.A=f,St===null&&(Jt=null,wt=0,ko()),g}function dE(){for(;St!==null;)gp(St)}function mE(t,n){var a=Bt;Bt|=2;var l=dp(),c=mp();Jt!==t||wt!==n?(Eu=null,vu=Ze()+500,or(t,n)):sr=Mn(t,n);t:do try{if(Ft!==0&&St!==null){n=St;var f=gn;e:switch(Ft){case 1:Ft=0,gn=null,ur(t,n,f,1);break;case 2:case 9:if(Rm(f)){Ft=0,gn=null,pp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),mi(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Rm(f)?(Ft=0,gn=null,pp(n)):(Ft=0,gn=null,ur(t,n,f,7));break;case 5:var g=null;switch(St.tag){case 26:g=St.memoizedState;case 5:case 27:var E=St;if(g?ey(g):E.stateNode.complete){Ft=0,gn=null;var w=E.sibling;if(w!==null)St=w;else{var B=E.return;B!==null?(St=B,bu(B)):St=null}break e}}Ft=0,gn=null,ur(t,n,f,5);break;case 6:Ft=0,gn=null,ur(t,n,f,6);break;case 8:nf(),oe=6;break t;default:throw Error(s(462))}}gE();break}catch(G){hp(t,G)}while(!0);return Di=ls=null,F.H=l,F.A=c,Bt=a,St!==null?0:(Jt=null,wt=0,ko(),oe)}function gE(){for(;St!==null&&!Oc();)gp(St)}function gp(t){var n=Bg(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,n===null?bu(t):St=n}function pp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Og(a,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=Og(a,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:_h(n);default:Pg(a,n),n=St=mm(n,Bi),n=Bg(a,n,Bi)}t.memoizedProps=t.pendingProps,n===null?bu(t):St=n}function ur(t,n,a,l){Di=ls=null,_h(n),$s=null,hl=0;var c=n.return;try{if(iE(t,c,n,a,wt)){oe=1,cu(t,Rn(a,t.current)),St=null;return}}catch(f){if(c!==null)throw St=c,f;oe=1,cu(t,Rn(a,t.current)),St=null;return}n.flags&32768?(Nt||l===1?t=!0:sr||(wt&536870912)!==0?t=!1:(ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yp(n,t)):bu(n)}function bu(t){var n=t;do{if((n.flags&32768)!==0){yp(n,ma);return}t=n.return;var a=rE(n.alternate,n,Bi);if(a!==null){St=a;return}if(n=n.sibling,n!==null){St=n;return}St=n=t}while(n!==null);oe===0&&(oe=5)}function yp(t,n){do{var a=lE(t.alternate,t);if(a!==null){a.flags&=32767,St=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){St=t;return}St=t=a}while(t!==null);oe=6,St=null}function _p(t,n,a,l,c,f,g,E,w){t.cancelPendingCommit=null;do Su();while(Ne!==0);if((Bt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Fc,Uc(t,a,f,g,E,w),t===Jt&&(St=Jt=null,wt=0),lr=n,ya=t,qi=a,Wh=f,tf=c,lp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vE(Ki,function(){return bp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=W.p,W.p=2,g=Bt,Bt|=4;try{oE(t,n,a)}finally{Bt=g,W.p=c,F.T=l}}Ne=1,vp(),Ep(),Tp()}}function vp(){if(Ne===1){Ne=0;var t=ya,n=lr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=W.p;W.p=2;var c=Bt;Bt|=4;try{Wg(n,t);var f=pf,g=sm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&am(E.ownerDocument.documentElement,E)){if(w!==null&&qc(E)){var B=w.start,G=w.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,q=Y&&Y.defaultView||window;if(q.getSelection){var k=q.getSelection(),st=E.textContent.length,dt=Math.min(w.start,st),Zt=w.end===void 0?dt:Math.min(w.end,st);!k.extend&&dt>Zt&&(g=Zt,Zt=dt,dt=g);var z=im(E,dt),N=im(E,Zt);if(z&&N&&(k.rangeCount!==1||k.anchorNode!==z.node||k.anchorOffset!==z.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var j=Y.createRange();j.setStart(z.node,z.offset),k.removeAllRanges(),dt>Zt?(k.addRange(j),k.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),k.addRange(j))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Uu=!!gf,pf=gf=null}finally{Bt=c,W.p=l,F.T=a}}t.current=n,Ne=2}}function Ep(){if(Ne===2){Ne=0;var t=ya,n=lr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=W.p;W.p=2;var c=Bt;Bt|=4;try{Kg(t,n.alternate,n)}finally{Bt=c,W.p=l,F.T=a}}Ne=3}}function Tp(){if(Ne===4||Ne===3){Ne=0,mo();var t=ya,n=lr,a=qi,l=lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,lr=ya=null,Ap(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(pa=null),bi(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,c=W.p,W.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,W.p=c}}(qi&3)!==0&&Su(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===ef?xl++:(xl=0,ef=t):xl=0,Dl(0)}}function Ap(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Su(){return vp(),Ep(),Tp(),bp()}function bp(){if(Ne!==5)return!1;var t=ya,n=Wh;Wh=0;var a=bi(qi),l=F.T,c=W.p;try{W.p=32>a?32:a,F.T=null,a=tf,tf=null;var f=ya,g=qi;if(Ne=0,lr=ya=null,qi=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,ap(f.current),ep(f,f.current,g,a),Bt=E,Dl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{W.p=c,F.T=l,Ap(t,n)}}function Sp(t,n,a){n=Rn(a,n),n=Oh(t.stateNode,n,2),t=ca(t,n,2),t!==null&&(Ga(t,2),mi(t))}function Qt(t,n,a){if(t.tag===3)Sp(t,t,a);else for(;n!==null;){if(n.tag===3){Sp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pa===null||!pa.has(l))){t=Rn(a,t),a=Rg(2),l=ca(n,a,2),l!==null&&(wg(a,l,n,t),Ga(l,2),mi(l));break}}n=n.return}}function sf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new hE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Zh=!0,c.add(a),t=pE.bind(null,t,n,a),n.then(t,t))}function pE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(wt&a)===a&&(oe===4||oe===3&&(wt&62914560)===wt&&300>Ze()-_u?(Bt&2)===0&&or(t,0):Jh|=a,rr===wt&&(rr=0)),mi(t)}function Rp(t,n){n===0&&(n=Eo()),t=as(t,n),t!==null&&(Ga(t,n),mi(t))}function yE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Rp(t,a)}function _E(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Rp(t,a)}function vE(t,n){return De(t,n)}var Ru=null,cr=null,rf=!1,wu=!1,lf=!1,va=0;function mi(t){t!==cr&&t.next===null&&(cr===null?Ru=cr=t:cr=cr.next=t),wu=!0,rf||(rf=!0,TE())}function Dl(t,n){if(!lf&&wu){lf=!0;do for(var a=!1,l=Ru;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ue(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Dp(l,f))}else f=wt,f=Zn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Mn(l,f)||(a=!0,Dp(l,f));l=l.next}while(a);lf=!1}}function EE(){wp()}function wp(){wu=rf=!1;var t=0;va!==0&&VE()&&(t=va);for(var n=Ze(),a=null,l=Ru;l!==null;){var c=l.next,f=Cp(l,n);f===0?(l.next=null,a===null?Ru=c:a.next=c,c===null&&(cr=a)):(a=l,(t!==0||(f&3)!==0)&&(wu=!0)),l=c}Ne!==0&&Ne!==5||Dl(t),va!==0&&(va=0)}function Cp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ue(f),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=zc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=wt,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Yi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Yi(l),bi(a)){case 2:case 8:a=Br;break;case 32:a=Ki;break;case 268435456:a=go;break;default:a=Ki}return l=xp.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Yi(l),t.callbackPriority=2,t.callbackNode=null,2}function xp(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Su()&&t.callbackNode!==a)return null;var l=wt;return l=Zn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(up(t,l,n),Cp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?xp.bind(null,t):null)}function Dp(t,n){if(Su())return null;up(t,n,!0)}function TE(){OE(function(){(Bt&6)!==0?De(jr,EE):wp()})}function of(){if(va===0){var t=Xs;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),va=t}return va}function Np(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ms(""+t)}function Vp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function AE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Np((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Np(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var w=g?Vp(c,g):new FormData(c);Ch(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Vp(c,g):new FormData(c),Ch(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var uf=0;uf<Gc.length;uf++){var cf=Gc[uf],bE=cf.toLowerCase(),SE=cf[0].toUpperCase()+cf.slice(1);kn(bE,"on"+SE)}kn(om,"onAnimationEnd"),kn(um,"onAnimationIteration"),kn(cm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(q0,"onTransitionRun"),kn(P0,"onTransitionStart"),kn(k0,"onTransitionCancel"),kn(hm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Ip(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Po(G)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Po(G)}c.currentTarget=null,f=w}}}}function Rt(t,n){var a=n[Ds];a===void 0&&(a=n[Ds]=new Set);var l=t+"__bubble";a.has(l)||(Op(n,t,2,!1),a.add(l))}function hf(t,n,a){var l=0;n&&(l|=4),Op(a,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[Cu]){t[Cu]=!0,kr.forEach(function(a){a!=="selectionchange"&&(RE.has(a)||hf(a,!1,t),hf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,hf("selectionchange",!1,n))}}function Op(t,n,a,l){switch(oy(n)){case 2:var c=WE;break;case 8:c=tT;break;default:c=Cf}a=c.bind(null,n,a,t),c=void 0,!Za||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function df(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ta(function(){var B=f,G=Tn(a),Y=[];t:{var q=fm.get(t);if(q!==void 0){var k=li,st=t;switch(t){case"keypress":if($a(a)===0)break t;case"keydown":case"keyup":k=jo;break;case"focusin":st="focus",k=ts;break;case"focusout":st="blur",k=ts;break;case"beforeblur":case"afterblur":k=ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Do;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case om:case um:case cm:k=Vo;break;case hm:k=T;break;case"scroll":case"scrollend":k=tl;break;case"wheel":k=P;break;case"copy":case"cut":case"paste":k=Io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=wi;break;case"toggle":case"beforetoggle":k=Et}var dt=(n&4)!==0,Zt=!dt&&(t==="scroll"||t==="scrollend"),z=dt?q!==null?q+"Capture":null:q;dt=[];for(var N=B,j;N!==null;){var Q=N;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||z===null||(Q=jn(N,z),Q!=null&&dt.push(Vl(N,Q,j))),Zt)break;N=N.return}0<dt.length&&(q=new k(q,st,null,a,G),Y.push({event:q,listeners:dt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",q&&a!==Jr&&(st=a.relatedTarget||a.fromElement)&&(ti(st)||st[$n]))break t;if((k||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,k?(st=a.relatedTarget||a.toElement,k=B,st=st?ti(st):null,st!==null&&(Zt=h(st),dt=st.tag,st!==Zt||dt!==5&&dt!==27&&dt!==6)&&(st=null)):(k=null,st=B),k!==st)){if(dt=el,Q="onMouseLeave",z="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(dt=wi,Q="onPointerLeave",z="onPointerEnter",N="pointer"),Zt=k==null?q:un(k),j=st==null?q:un(st),q=new dt(Q,N+"leave",k,a,G),q.target=Zt,q.relatedTarget=j,Q=null,ti(G)===B&&(dt=new dt(z,N+"enter",st,a,G),dt.target=j,dt.relatedTarget=Zt,Q=dt),Zt=Q,k&&st)e:{for(dt=wE,z=k,N=st,j=0,Q=z;Q;Q=dt(Q))j++;Q=0;for(var ut=N;ut;ut=dt(ut))Q++;for(;0<j-Q;)z=dt(z),j--;for(;0<Q-j;)N=dt(N),Q--;for(;j--;){if(z===N||N!==null&&z===N.alternate){dt=z;break e}z=dt(z),N=dt(N)}dt=null}else dt=null;k!==null&&Mp(Y,q,k,dt,!1),st!==null&&Zt!==null&&Mp(Y,Zt,st,dt,!0)}}t:{if(q=B?un(B):window,k=q.nodeName&&q.nodeName.toLowerCase(),k==="select"||k==="input"&&q.type==="file")var zt=Jd;else if(Xd(q))if($d)zt=L0;else{zt=z0;var lt=M0}else k=q.nodeName,!k||k.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Os(B.elementType)&&(zt=Jd):zt=U0;if(zt&&(zt=zt(t,B))){Zd(Y,zt,a,G);break t}lt&&lt(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Kr(q,"number",q.value)}switch(lt=B?un(B):window,t){case"focusin":(Xd(lt)||lt.contentEditable==="true")&&(Ps=lt,Pc=B,rl=null);break;case"focusout":rl=Pc=Ps=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,rm(Y,a,G);break;case"selectionchange":if(B0)break;case"keydown":case"keyup":rm(Y,a,G)}var bt;if(jt)t:{switch(t){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else qs?es(t,a)&&(Ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(ci&&a.locale!=="ko"&&(qs||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&qs&&(bt=Wr()):(ri=G,$r="value"in ri?ri.value:ri.textContent,qs=!0)),lt=xu(B,Ct),0<lt.length&&(Ct=new ui(Ct,t,null,a,G),Y.push({event:Ct,listeners:lt}),bt?Ct.data=bt:(bt=Bs(a),bt!==null&&(Ct.data=bt)))),(bt=bn?N0(t,a):V0(t,a))&&(Ct=xu(B,"onBeforeInput"),0<Ct.length&&(lt=new ui("onBeforeInput","beforeinput",null,a,G),Y.push({event:lt,listeners:Ct}),lt.data=bt)),AE(Y,t,B,a,G)}Ip(Y,n)})}function Vl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function xu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jn(t,a),c!=null&&l.unshift(Vl(t,c,f)),c=jn(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function wE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=jn(a,f),B!=null&&g.unshift(Vl(a,B,w))):c||(B=jn(a,f),B!=null&&g.push(Vl(a,B,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var CE=/\r\n?/g,xE=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(CE,`
`).replace(xE,"")}function Up(t,n){return n=zp(n),zp(t)===n}function Xt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Zr(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ms(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ms(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ms(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),Vs(t,"popover",l);break;case"xlinkActuate":_e(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xo.get(a)||a,Vs(t,a,l))}}function mf(t,n,a,l,c,f){switch(a){case"style":Zr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Vs(t,a,l)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,g,a,null)}}c&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":Rt("invalid",t);var E=f=g=c=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":w=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Xt(t,n,l,G,a,null)}}Ro(t,f,E,w,B,g,c,!1);return;case"select":Rt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Zi(t,!!l,n,!1):a!=null&&Zi(t,!!l,a,!0);return;case"textarea":Rt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(t,n,g,E,a,null)}Ji(t,l,c,f);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,w,l,a,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Rt(Nl[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,B,l,a,null)}return;default:if(Os(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&mf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(t,n,E,l,a,null))}function DE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,B=null,G=null;for(k in a){var Y=a[k];if(a.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=Y;default:l.hasOwnProperty(k)||Xt(t,n,k,null,l,Y)}}for(var q in l){var k=l[q];if(Y=a[q],l.hasOwnProperty(q)&&(k!=null||Y!=null))switch(q){case"type":f=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":G=k;break;case"value":g=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==Y&&Xt(t,n,q,k,l,Y)}}Is(t,g,E,w,B,G,f,c);return;case"select":k=g=E=q=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":k=w;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Xt(t,n,c,f,l,w)}n=E,a=g,l=k,q!=null?Zi(t,!!a,q,!1):!!l!=!!a&&(n!=null?Zi(t,!!a,n,!0):Zi(t,!!a,a?[]:"",!1));return;case"textarea":k=q=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":q=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Xt(t,n,g,c,l,f)}wo(t,q,k);return;case"option":for(var st in a)if(q=a[st],a.hasOwnProperty(st)&&q!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Xt(t,n,st,null,l,q)}for(w in l)if(q=l[w],k=a[w],l.hasOwnProperty(w)&&q!==k&&(q!=null||k!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xt(t,n,w,q,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)q=a[dt],a.hasOwnProperty(dt)&&q!=null&&!l.hasOwnProperty(dt)&&Xt(t,n,dt,null,l,q);for(B in l)if(q=l[B],k=a[B],l.hasOwnProperty(B)&&q!==k&&(q!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Xt(t,n,B,q,l,k)}return;default:if(Os(n)){for(var Zt in a)q=a[Zt],a.hasOwnProperty(Zt)&&q!==void 0&&!l.hasOwnProperty(Zt)&&mf(t,n,Zt,void 0,l,q);for(G in l)q=l[G],k=a[G],!l.hasOwnProperty(G)||q===k||q===void 0&&k===void 0||mf(t,n,G,q,l,k);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&Xt(t,n,z,null,l,q);for(Y in l)q=l[Y],k=a[Y],!l.hasOwnProperty(Y)||q===k||q==null&&k==null||Xt(t,n,Y,q,l,k)}function Lp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Lp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],B=w.startTime;if(B>E)break;var G=w.transferSize,Y=w.initiatorType;G&&Lp(Y)&&(w=w.responseEnd,g+=G*(w<E?1:(E-B)/(w-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gf=null,pf=null;function Du(t){return t.nodeType===9?t:t.ownerDocument}function jp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function VE(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(ME)}:qp;function ME(t){setTimeout(function(){throw t})}function Ea(t){return t==="head"}function kp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),mr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Il(t.ownerDocument.body);a=c}while(a);mr(n)}function Hp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),Ns(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function UE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Nn(t.nextSibling),t===null))return null;return t}function Gp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Nn(t.nextSibling),t===null))return null;return t}function Ef(t){return t.data==="$?"||t.data==="$~"}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function LE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Af=null;function Fp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Nn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Qp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Yp(t,n,a){switch(n=Du(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ns(t)}var Vn=new Map,Kp=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=W.d;W.d={f:jE,r:BE,D:qE,C:PE,L:kE,m:HE,X:FE,S:GE,M:QE};function jE(){var t=Pi.f(),n=Tu();return t||n}function BE(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?hg(n):Pi.r(t)}var hr=typeof document>"u"?null:document;function Xp(t,n,a){var l=hr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Kp.has(c)||(Kp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),ye(n),l.head.appendChild(n)))}}function qE(t){Pi.D(t),Xp("dns-prefetch",t,null)}function PE(t,n){Pi.C(t,n),Xp("preconnect",t,n)}function kE(t,n,a){Pi.L(t,n,a);var l=hr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=fr(t);break;case"script":f=dr(t)}Vn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ol(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),ke(n,"link",t),ye(n),l.head.appendChild(n)))}}function HE(t,n){Pi.m(t,n);var a=hr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=dr(t)}if(!Vn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),ke(l,"link",t),ye(l),a.head.appendChild(l)}}}function GE(t,n,a){Pi.S(t,n,a);var l=hr;if(l&&t){var c=ei(l).hoistableStyles,f=fr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ol(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&bf(t,a);var w=g=l.createElement("link");ye(w),ke(w,"link",t),w._p=new Promise(function(B,G){w.onload=B,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function FE(t,n){Pi.X(t,n);var a=hr;if(a&&t){var l=ei(a).hoistableScripts,c=dr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=S({src:t,async:!0},n),(n=Vn.get(c))&&Sf(t,n),f=a.createElement("script"),ye(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function QE(t,n){Pi.M(t,n);var a=hr;if(a&&t){var l=ei(a).hoistableScripts,c=dr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&Sf(t,n),f=a.createElement("script"),ye(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Zp(t,n,a,l){var c=(c=At.current)?Nu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=fr(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fr(a.href);var f=ei(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Ol(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||YE(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=dr(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fr(t){return'href="'+We(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Jp(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function YE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),ye(n),t.head.appendChild(n))}function dr(t){return'[src="'+We(t)+'"]'}function Ml(t){return"script[async]"+t}function $p(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ye(l),ke(l,"style",c),Vu(l,a.precedence,t),n.instance=l;case"stylesheet":c=fr(a.href);var f=t.querySelector(Ol(c));if(f)return n.state.loading|=4,n.instance=f,ye(f),f;l=Jp(a),(c=Vn.get(c))&&bf(l,c),f=(t.ownerDocument||t).createElement("link"),ye(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),ke(f,"link",l),n.state.loading|=4,Vu(f,a.precedence,t),n.instance=f;case"script":return f=dr(a.src),(c=t.querySelector(Ml(f)))?(n.instance=c,ye(c),c):(l=a,(c=Vn.get(f))&&(l=S({},a),Sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ye(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vu(l,a.precedence,t));return n.instance}function Vu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Iu=null;function Wp(t,n,a){if(Iu===null){var l=new Map,c=Iu=new Map;c.set(a,l)}else c=Iu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Wn]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ty(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function KE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ey(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function XE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=fr(l.href),f=n.querySelector(Ol(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ou.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ye(f);return}f=n.ownerDocument||n,l=Jp(l),(c=Vn.get(c))&&bf(l,c),f=f.createElement("link"),ye(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),ke(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ou.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Rf=0;function ZE(t,n){return t.stylesheets&&t.count===0&&zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Rf===0&&(Rf=62500*NE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Rf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function zu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,n.forEach(JE,t),Mu=null,Ou.call(t))}function JE(t,n){if(!(n.state.loading&4)){var a=Mu.get(t);if(a)var l=a.get(null);else{a=new Map,Mu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Ou.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var zl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function $E(t,n,a,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function ny(t,n,a,l,c,f,g,E,w,B,G,Y){return t=new $E(t,n,a,g,w,B,G,Y,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=ih(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},lh(f),t}function iy(t){return t?(t=Gs,t):Gs}function ay(t,n,a,l,c,f){c=iy(c),l.context===null?l.context=c:l.pendingContext=c,l=ua(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ca(t,l,n),a!==null&&(rn(a,t,n),dl(a,t,n))}function sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function wf(t,n){sy(t,n),(t=t.alternate)&&sy(t,n)}function ry(t){if(t.tag===13||t.tag===31){var n=as(t,67108864);n!==null&&rn(n,t,67108864),wf(t,67108864)}}function ly(t){if(t.tag===13||t.tag===31){var n=yn();n=Qa(n);var a=as(t,n);a!==null&&rn(a,t,n),wf(t,n)}}var Uu=!0;function WE(t,n,a,l){var c=F.T;F.T=null;var f=W.p;try{W.p=2,Cf(t,n,a,l)}finally{W.p=f,F.T=c}}function tT(t,n,a,l){var c=F.T;F.T=null;var f=W.p;try{W.p=8,Cf(t,n,a,l)}finally{W.p=f,F.T=c}}function Cf(t,n,a,l){if(Uu){var c=xf(l);if(c===null)df(t,n,l,Lu,a),uy(t,l);else if(nT(c,t,n,a,l))l.stopPropagation();else if(uy(t,l),n&4&&-1<eT.indexOf(t)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Xn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ue(g);E.entanglements[1]|=w,g&=~w}mi(f),(Bt&6)===0&&(vu=Ze()+500,Dl(0))}}break;case 31:case 13:E=as(f,2),E!==null&&rn(E,f,2),Tu(),wf(f,2)}if(f=xf(l),f===null&&df(t,n,l,Lu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else df(t,n,l,null,a)}}function xf(t){return t=Tn(t),Df(t)}var Lu=null;function Df(t){if(Lu=null,t=ti(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Lu=t,null}function oy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case jr:return 2;case Br:return 8;case Ki:case Mc:return 32;case go:return 268435456;default:return 32}default:return 32}}var Nf=!1,Ta=null,Aa=null,ba=null,Ul=new Map,Ll=new Map,Sa=[],eT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(t,n){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(n.pointerId)}}function jl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function nT(t,n,a,l,c){switch(n){case"focusin":return Ta=jl(Ta,t,n,a,l,c),!0;case"dragenter":return Aa=jl(Aa,t,n,a,l,c),!0;case"mouseover":return ba=jl(ba,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ul.set(f,jl(Ul.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ll.set(f,jl(Ll.get(f)||null,t,n,a,l,c)),!0}return!1}function cy(t){var n=ti(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){ly(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,zn(t.priority,function(){ly(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=xf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Jr=l,a.target.dispatchEvent(l),Jr=null}else return n=En(a),n!==null&&ry(n),t.blockedOn=a,!1;n.shift()}return!0}function hy(t,n,a){ju(t)&&a.delete(n)}function iT(){Nf=!1,Ta!==null&&ju(Ta)&&(Ta=null),Aa!==null&&ju(Aa)&&(Aa=null),ba!==null&&ju(ba)&&(ba=null),Ul.forEach(hy),Ll.forEach(hy)}function Bu(t,n){t.blockedOn===n&&(t.blockedOn=null,Nf||(Nf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iT)))}var qu=null;function fy(t){qu!==t&&(qu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Df(l||a)===null)continue;break}var f=En(a);f!==null&&(t.splice(n,3),n-=3,Ch(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function mr(t){function n(w){return Bu(w,t)}Ta!==null&&Bu(Ta,t),Aa!==null&&Bu(Aa,t),ba!==null&&Bu(ba,t),Ul.forEach(n),Ll.forEach(n);for(var a=0;a<Sa.length;a++){var l=Sa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sa.length&&(a=Sa[0],a.blockedOn===null);)cy(a),a.blockedOn===null&&Sa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||fy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Df(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),fy(a)}}}function dy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Vf(t){this._internalRoot=t}Pu.prototype.render=Vf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=yn();ay(a,l,t,n,null,null)},Pu.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ay(t.current,2,null,t,null,null),Tu(),n[$n]=null}};function Pu(t){this._internalRoot=t}Pu.prototype.unstable_scheduleHydration=function(t){if(t){var n=To();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Sa.length&&n!==0&&n<Sa[a].priority;a++);Sa.splice(a,0,t),a===0&&cy(t)}};var my=e.version;if(my!=="19.2.4")throw Error(s(527,my,"19.2.4"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var aT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{On=ku.inject(aT),Le=ku}catch{}}return ql.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Tg,f=Ag,g=bg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ny(t,1,!1,null,null,a,l,null,c,f,g,dy),t[$n]=n.current,ff(t),new Vf(n)},ql.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Tg,g=Ag,E=bg,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=ny(t,1,!0,n,a??null,l,c,w,f,g,E,dy),n.context=iy(null),a=n.current,l=yn(),l=Qa(l),c=ua(l),c.callback=null,ca(a,c,l),a=l,n.current.lanes=a,Ga(n,a),mi(n),t[$n]=n.current,ff(t),new Pu(n)},ql.version="19.2.4",ql}var Sy;function gT(){if(Sy)return Mf.exports;Sy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mf.exports=mT(),Mf.exports}var pT=gT();const yT=L_(pT),_T=({teams:r,onStart:e})=>{const[i,s]=Se.useState("."),[o,h]=Se.useState("");return Se.useEffect(()=>{const d=window.location.href.split("?")[0];h(`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(d)}`);const y=setInterval(()=>{s(v=>v.length>=3?".":v+".")},500);return()=>clearInterval(y)},[]),O.jsxs("div",{className:"flex flex-col items-center min-h-screen bg-gradient-to-br from-indigo-900 to-purple-900 p-8 text-center relative overflow-y-auto",children:[O.jsxs("div",{className:"fixed top-0 left-0 w-full h-full opacity-10 pointer-events-none overflow-hidden",children:[O.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-yellow-500 rounded-full blur-3xl"}),O.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-pink-500 rounded-full blur-3xl"})]}),O.jsxs("div",{className:"z-10 max-w-4xl w-full flex-1 flex flex-col justify-center py-10",children:[O.jsx("h1",{className:"text-5xl md:text-8xl text-yellow-400 mb-4 drop-shadow-[0_5px_5px_rgba(0,0,0,0.8)] animate-float",children:"ALERTA EN LA CONCORDIA!"}),O.jsx("p",{className:"text-xl md:text-2xl text-white mb-8 max-w-2xl mx-auto",children:"El barrio est al borde del caos. Escaneen el cdigo para unirse a la brigada de mediacin."}),O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-2xl inline-block mb-8 transform hover:scale-105 transition-transform duration-300 mx-auto",children:[o&&O.jsx("img",{src:o,alt:"QR Code",className:"w-64 h-64"}),O.jsx("p",{className:"text-slate-800 font-bold mt-2",children:"Sala: BARRIO-1"})]}),O.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl p-6 w-full border border-white/20 mb-8",children:[O.jsxs("h2",{className:"text-2xl text-emerald-400 mb-4",children:["Equipos Conectados (",r.length,") ",i]}),r.length===0?O.jsx("div",{className:"text-gray-400 italic py-4",children:"Esperando jugadores..."}):O.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:r.map(d=>O.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg border border-slate-600 flex items-center gap-3 animate-fade-in-up hover:bg-slate-700 transition-colors",children:[O.jsx("span",{className:"text-3xl",children:d.avatar}),O.jsx("span",{className:"font-bold truncate text-sm md:text-base",children:d.name})]},d.id))})]}),O.jsx("div",{className:"mt-auto flex justify-center pb-8",children:O.jsx("button",{onClick:e,disabled:r.length===0,className:`px-12 py-4 rounded-full text-2xl font-bold shadow-lg transform transition-all 
              ${r.length>0?"bg-gradient-to-r from-yellow-400 to-orange-500 hover:scale-110 hover:shadow-orange-500/50 text-slate-900 cursor-pointer":"bg-gray-600 text-gray-400 cursor-not-allowed opacity-50"}`,children:"SALVAR EL BARRIO!"})})]}),O.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(0, 0, 0, 0.2);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.2);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.4);
        }
      `})]})},ki=[{id:1,type:"SELECT",title:"Nivel 1: El Ruido Nocturno",description:"La vecina del 4B grita porque el msico del 5B ensaya a las 11 PM.",question:"Cul es el INTERS REAL de la vecina (no su posicin)?",options:["Que echen al msico del edificio","Poder dormir y descansar en silencio","Que el msico venda su instrumento","Vengarse haciendo ruido a las 6 AM"],correctAnswer:"Poder dormir y descansar en silencio",points:100},{id:2,type:"SELECT",title:"Nivel 2: El Chisme",description:"Don Pepe dice que vio a alguien robarse los focos, pero no est seguro.",question:"Qu debe hacer un buen vecino antes de acusar?",options:["Publicarlo en el grupo de WhatsApp inmediatamente","Verificar los hechos antes de hablar","Gritarle al primer sospechoso que vea","Ignorar todo y dejar el barrio a oscuras"],correctAnswer:"Verificar los hechos antes de hablar",points:100},{id:3,type:"WORD",title:"Nivel 3: Limpieza Txica I",description:"Conflicto: Un vecino grita 'ERES UN CERDO ASQUEROSO!' por la basura.",question:"Limpia el lenguaje. Escribe la palabra clave que define el problema real (Sustantivo):",placeholder:"Escribe la palabra (Ej: BASURA)",correctAnswer:"SUCIEDAD",points:150},{id:4,type:"WORD",title:"Nivel 4: Limpieza Txica II",description:"Conflicto: 'Tu perro es una bestia salvaje que no para de ladrar!'",question:"Traduce esto a un hecho objetivo. Qu causa el problema?",placeholder:"Escribe la palabra (Ej: PERRO)",correctAnswer:"RUIDO",points:150},{id:5,type:"SELECT",title:"Nivel 5: La Fuga de Agua",description:"Hay una filtracin en el techo. El vecino de arriba no abre la puerta.",question:"Cul es la estrategia ms inteligente?",options:["Romper la puerta a patadas","Cortarle el agua a todo el edificio","Dejarle una nota amable proponiendo una hora de visita","Llamar a la polica diciendo que hay un crimen"],correctAnswer:"Dejarle una nota amable proponiendo una hora de visita",points:100},{id:6,type:"OPEN",title:"Nivel Final: El rbol de la Discordia",description:"Doa Juana ama su manzano. Don Pedro odia las hojas en su patio. Pedro quiere cortar el rbol.",question:"Propn una solucin CREATIVA donde AMBOS ganen (Juana conserva el rbol y Pedro tiene el patio limpio).",placeholder:"Escribe tu solucin detallada aqu...",points:300}],vT=({teams:r,commentary:e})=>{const i=[...r].sort((y,v)=>v.score-y.score),s=Se.useRef(null),o=ki.length,h=i[0],d=h?h.currentChallengeIndex+1:1;return O.jsxs("div",{className:"flex flex-col h-screen bg-slate-900 text-white p-4 md:p-8",children:[O.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-700 pb-4",children:[O.jsxs("div",{children:[O.jsx("h1",{className:"text-4xl text-yellow-400 display-font",children:"Barrio La Concordia: Control Central"}),O.jsx("p",{className:"text-slate-400 font-mono text-sm",children:"VISTA DE ADMINISTRADOR / PROYECTOR"})]}),O.jsx("div",{className:"text-right",children:O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Fase Actual"}),O.jsx("div",{className:"text-xl font-bold text-emerald-400",children:d>o?"FINALIZADO":`Nivel ${d}: ${ki[Math.min(d-1,o-1)].title}`})]}),O.jsx("div",{className:"h-10 w-10 bg-red-600 rounded-full animate-pulse flex items-center justify-center font-bold text-xs shadow-[0_0_15px_red]",children:"LIVE"})]})})]}),O.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-8 overflow-hidden",children:[O.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[O.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.slice(0,3).map((y,v)=>O.jsxs("div",{className:`bg-slate-800 rounded-2xl p-4 border-b-4 ${v===0?"border-yellow-400 bg-yellow-900/20":v===1?"border-slate-400":"border-amber-700"}`,children:[O.jsxs("div",{className:"flex justify-between items-start mb-2",children:[O.jsx("span",{className:"text-3xl",children:v===0?"":v===1?"":""}),O.jsx("span",{className:"font-mono font-bold text-2xl",children:y.score})]}),O.jsx("div",{className:"font-bold truncate text-lg",children:y.name}),O.jsx("div",{className:"w-full bg-slate-700 h-1 mt-2 rounded-full overflow-hidden",children:O.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-1000",style:{width:`${y.currentChallengeIndex/o*100}%`}})})]},y.id))}),O.jsxs("div",{className:"bg-slate-800 rounded-3xl p-6 shadow-2xl border border-slate-700 flex-1 overflow-y-auto",children:[O.jsx("h2",{className:"text-xl mb-4 font-bold text-slate-400 uppercase tracking-widest sticky top-0 bg-slate-800 py-2 z-10 border-b border-slate-700",children:"Tabla General de Posiciones"}),O.jsx("div",{className:"space-y-3",children:i.map((y,v)=>O.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-slate-700/40 border border-slate-600",children:[O.jsxs("div",{className:"w-8 font-mono text-slate-500 font-bold",children:["#",v+1]}),O.jsx("div",{className:"text-2xl mr-3",children:y.avatar}),O.jsxs("div",{className:"flex-1",children:[O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"font-bold",children:y.name}),O.jsxs("span",{className:"text-emerald-400 font-mono",children:[y.score," pts"]})]}),O.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-2 mt-1",children:[O.jsx("div",{className:"w-24 bg-slate-900 rounded-full h-1.5",children:O.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:`${y.currentChallengeIndex/o*100}%`}})}),O.jsx("span",{children:y.isFinished?" Meta":`Niv. ${y.currentChallengeIndex+1}`})]})]})]},y.id))})]})]}),O.jsxs("div",{className:"flex flex-col gap-6",children:[O.jsxs("div",{className:"bg-gradient-to-b from-indigo-800 to-indigo-950 rounded-3xl p-6 shadow-lg border border-indigo-500/30 flex-1 flex flex-col relative overflow-hidden",children:[O.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 opacity-20 flex items-end justify-center gap-1 pointer-events-none",children:[...Array(20)].map((y,v)=>O.jsx("div",{className:"w-2 bg-white animate-[pulse_0.5s_ease-in-out_infinite]",style:{height:`${Math.random()*100}%`,animationDelay:`${Math.random()}s`}},v))}),O.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[O.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center border-4 border-yellow-400 shadow-lg",children:O.jsx("span",{className:"text-3xl",children:""})}),O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-xl leading-none",children:"Comentarista"}),O.jsx("p",{className:"text-xs text-indigo-300 font-mono mt-1",children:"NARRANDO EN VIVO"})]})]}),O.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10",children:O.jsxs("p",{ref:s,className:"text-2xl md:text-3xl text-center font-bold text-white leading-tight drop-shadow-md transition-all duration-500 transform scale-100 hover:scale-105",children:['"',e,'"']})})]}),O.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-600",children:[O.jsx("h4",{className:"text-slate-400 text-xs uppercase mb-3",children:"Msica de Fondo"}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsxs("div",{className:"flex gap-1 h-4 items-end",children:[O.jsx("div",{className:"w-1 bg-green-500 h-2 animate-[bounce_1s_infinite]"}),O.jsx("div",{className:"w-1 bg-green-500 h-4 animate-[bounce_1.2s_infinite]"}),O.jsx("div",{className:"w-1 bg-green-500 h-3 animate-[bounce_0.8s_infinite]"})]}),O.jsx("span",{className:"text-sm font-bold text-green-400",children:"Reproduciendo: Suspenso Competitivo"})]})]})]})]})]})},Ry=["","","","","","","","","",""],ET=({onJoin:r})=>{const[e,i]=Se.useState(""),[s,o]=Se.useState(Ry[0]),h=d=>{d.preventDefault(),e.trim()&&r(e.trim(),s)};return O.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:O.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl p-6 shadow-2xl",children:[O.jsx("h2",{className:"text-3xl font-black text-center text-indigo-900 mb-2 display-font",children:"UNIRSE AL JUEGO"}),O.jsx("p",{className:"text-center text-slate-500 mb-6",children:"Elige tu identidad para salvar el barrio"}),O.jsxs("form",{onSubmit:h,className:"space-y-6",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nombre del Grupo"}),O.jsx("input",{type:"text",value:e,onChange:d=>i(d.target.value),placeholder:"Ej: Los Justicieros",className:"w-full p-4 border-2 border-slate-200 rounded-xl text-lg focus:border-indigo-500 outline-none bg-slate-50",maxLength:15,required:!0})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Elige un Avatar"}),O.jsx("div",{className:"grid grid-cols-5 gap-2",children:Ry.map(d=>O.jsx("button",{type:"button",onClick:()=>o(d),className:`text-3xl p-2 rounded-lg transition-transform ${s===d?"bg-indigo-100 ring-2 ring-indigo-500 scale-110":"hover:bg-slate-100"}`,children:d},d))})]}),O.jsx("button",{type:"submit",className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl text-xl shadow-lg shadow-indigo-200 transition-all active:scale-95",children:"ENTRAR AL BARRIO"})]})]})})},TT=()=>{};var wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},AT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],y=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,S=(h&3)<<4|y>>4;let D=(y&15)<<2|_>>6,H=_&63;v||(H=64,d||(D=64)),s.push(i[A],i[S],i[D],i[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(j_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):AT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||y==null||_==null||S==null)throw new bT;const D=h<<2|y>>4;if(s.push(D),_!==64){const H=y<<4&240|_>>2;if(s.push(H),S!==64){const J=_<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class bT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ST=function(r){const e=j_(r);return B_.encodeByteArray(e,!0)},tc=function(r){return ST(r).replace(/\./g,"")},RT=function(r){try{return B_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=()=>wT().__FIREBASE_DEFAULTS__,xT=()=>{if(typeof process>"u"||typeof wy>"u")return;const r=wy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&RT(r[1]);return e&&JSON.parse(e)},pd=()=>{try{return TT()||CT()||xT()||DT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},NT=r=>{var e,i;return(i=(e=pd())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},VT=r=>{const e=NT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},q_=()=>{var r;return(r=pd())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[tc(JSON.stringify(i)),tc(JSON.stringify(d)),""].join(".")}const Ql={};function zT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function UT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Cy=!1;function LT(r,e){if(typeof window>"u"||typeof document>"u"||!yd(window.location.host)||Ql[r]===e||Ql[r]||Cy)return;Ql[r]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=zT().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function y(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Cy=!0,d()},D}function A(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=UT(s),H=i("text"),J=document.getElementById(H)||document.createElement("span"),nt=i("learnmore"),et=document.getElementById(nt)||document.createElement("a"),gt=i("preprendIcon"),rt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ht=D.element;y(ht),A(et,nt);const qt=_();v(rt,gt),ht.append(rt,J,et,qt),document.body.appendChild(ht)}h?(J.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BT(){var e;const r=(e=pd())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qT(){return!BT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="FirebaseError";class Nr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=HT,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P_.prototype.create)}}class P_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?GT(h,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Nr(o,y,s)}}function GT(r,e){return r.replace(FT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FT=/\{\$([^}]+)}/g;function Jl(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(xy(h)&&xy(d)){if(!Jl(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function xy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(r){return r&&r._delegate?r._delegate:r}class $l{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new IT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KT(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YT(r){return r===ys?void 0:r}function KT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const ZT={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},JT=Ot.INFO,$T={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},WT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=$T[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k_{constructor(e){this.name=e,this._logLevel=JT,this._logHandler=WT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const t1=(r,e)=>e.some(i=>r instanceof i);let Dy,Ny;function e1(){return Dy||(Dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,Yf=new WeakMap,G_=new WeakMap,jf=new WeakMap,_d=new WeakMap;function i1(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ca(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&H_.set(i,r)}).catch(()=>{}),_d.set(e,r),e}function a1(r){if(Yf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Yf.set(r,e)}let Kf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Yf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||G_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ca(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function s1(r){Kf=r(Kf)}function r1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Bf(this),e,...i);return G_.set(s,e.sort?e.sort():[e]),Ca(s)}:n1().includes(r)?function(...e){return r.apply(Bf(this),e),Ca(H_.get(this))}:function(...e){return Ca(r.apply(Bf(this),e))}}function l1(r){return typeof r=="function"?r1(r):(r instanceof IDBTransaction&&a1(r),t1(r,e1())?new Proxy(r,Kf):r)}function Ca(r){if(r instanceof IDBRequest)return i1(r);if(jf.has(r))return jf.get(r);const e=l1(r);return e!==r&&(jf.set(r,e),_d.set(e,r)),e}const Bf=r=>_d.get(r);function o1(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),y=Ca(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Ca(d.result),v.oldVersion,v.newVersion,Ca(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const u1=["get","getKey","getAll","getAllKeys","count"],c1=["put","add","delete","clear"],qf=new Map;function Vy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=c1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||u1.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return qf.set(e,h),h}s1(r=>({...r,get:(e,i,s)=>Vy(e,i)||r.get(e,i,s),has:(e,i)=>!!Vy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(f1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function f1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",Iy="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new k_("@firebase/app"),d1="@firebase/app-compat",m1="@firebase/analytics-compat",g1="@firebase/analytics",p1="@firebase/app-check-compat",y1="@firebase/app-check",_1="@firebase/auth",v1="@firebase/auth-compat",E1="@firebase/database",T1="@firebase/data-connect",A1="@firebase/database-compat",b1="@firebase/functions",S1="@firebase/functions-compat",R1="@firebase/installations",w1="@firebase/installations-compat",C1="@firebase/messaging",x1="@firebase/messaging-compat",D1="@firebase/performance",N1="@firebase/performance-compat",V1="@firebase/remote-config",I1="@firebase/remote-config-compat",O1="@firebase/storage",M1="@firebase/storage-compat",z1="@firebase/firestore",U1="@firebase/ai",L1="@firebase/firestore-compat",j1="firebase",B1="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",q1={[Xf]:"fire-core",[d1]:"fire-core-compat",[g1]:"fire-analytics",[m1]:"fire-analytics-compat",[y1]:"fire-app-check",[p1]:"fire-app-check-compat",[_1]:"fire-auth",[v1]:"fire-auth-compat",[E1]:"fire-rtdb",[T1]:"fire-data-connect",[A1]:"fire-rtdb-compat",[b1]:"fire-fn",[S1]:"fire-fn-compat",[R1]:"fire-iid",[w1]:"fire-iid-compat",[C1]:"fire-fcm",[x1]:"fire-fcm-compat",[D1]:"fire-perf",[N1]:"fire-perf-compat",[V1]:"fire-rc",[I1]:"fire-rc-compat",[O1]:"fire-gcs",[M1]:"fire-gcs-compat",[z1]:"fire-fst",[L1]:"fire-fst-compat",[U1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,P1=new Map,Jf=new Map;function Oy(r,e){try{r.container.addComponent(e)}catch(i){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function nc(r){const e=r.name;if(Jf.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Jf.set(e,r);for(const i of ec.values())Oy(i,r);for(const i of P1.values())Oy(i,r);return!0}function k1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function H1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new P_("app","Firebase",G1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=B1;function F_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Zf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw xa.create("bad-app-name",{appName:String(o)});if(i||(i=q_()),!i)throw xa.create("no-options");const h=ec.get(o);if(h){if(Jl(i,h.options)&&Jl(s,h.config))return h;throw xa.create("duplicate-app",{appName:o})}const d=new XT(o);for(const v of Jf.values())d.addComponent(v);const y=new F1(i,s,d);return ec.set(o,y),y}function Y1(r=Zf){const e=ec.get(r);if(!e&&r===Zf&&q_())return F_();if(!e)throw xa.create("no-app",{appName:r});return e}function vr(r,e,i){let s=q1[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(d.join(" "));return}nc(new $l(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebase-heartbeat-database",X1=1,Wl="firebase-heartbeat-store";let Pf=null;function Q_(){return Pf||(Pf=o1(K1,X1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(i){console.warn(i)}}}}).catch(r=>{throw xa.create("idb-open",{originalErrorMessage:r.message})})),Pf}async function Z1(r){try{const i=(await Q_()).transaction(Wl),s=await i.objectStore(Wl).get(Y_(r));return await i.done,s}catch(e){if(e instanceof Nr)Gi.warn(e.message);else{const i=xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(i.message)}}}async function My(r,e){try{const s=(await Q_()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,Y_(r)),await s.done}catch(i){if(i instanceof Nr)Gi.warn(i.message);else{const s=xa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Gi.warn(s.message)}}}function Y_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=1024,$1=30;class W1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new eA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=zy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>$1){const d=nA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=zy(),{heartbeatsToSend:s,unsentEntries:o}=tA(this._heartbeatsCache.heartbeats),h=tc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Gi.warn(i),""}}}function zy(){return new Date().toISOString().substring(0,10)}function tA(r,e=J1){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Uy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Uy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class eA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Z1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return My(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return My(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uy(r){return tc(JSON.stringify({version:2,heartbeats:r})).length}function nA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(r){nc(new $l("platform-logger",e=>new h1(e),"PRIVATE")),nc(new $l("heartbeat",e=>new W1(e),"PRIVATE")),vr(Xf,Iy,r),vr(Xf,Iy,"esm2020"),vr("fire-js","")}iA("");var aA="firebase",sA="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(aA,sA,"app");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,K_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function C(){}C.prototype=b.prototype,x.F=b.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(M,V,U){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return b.prototype[V].apply(M,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,C){C||(C=0);const M=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)M[V]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(V=0;V<16;++V)M[V]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=x.g[0],C=x.g[1],V=x.g[2];let U=x.g[3],R;R=b+(U^C&(V^U))+M[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(V^b&(C^V))+M[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(C^U&(b^C))+M[2]+606105819&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(b^V&(U^b))+M[3]+3250441966&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(U^C&(V^U))+M[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(V^b&(C^V))+M[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(C^U&(b^C))+M[6]+2821735955&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(b^V&(U^b))+M[7]+4249261313&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(U^C&(V^U))+M[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(V^b&(C^V))+M[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(C^U&(b^C))+M[10]+4294925233&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(b^V&(U^b))+M[11]+2304563134&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(U^C&(V^U))+M[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(V^b&(C^V))+M[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=V+(C^U&(b^C))+M[14]+2792965006&4294967295,V=U+(R<<17&4294967295|R>>>15),R=C+(b^V&(U^b))+M[15]+1236535329&4294967295,C=V+(R<<22&4294967295|R>>>10),R=b+(V^U&(C^V))+M[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(b^C))+M[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(U^b))+M[11]+643717713&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(V^U))+M[0]+3921069994&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(V^U&(C^V))+M[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(b^C))+M[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(U^b))+M[15]+3634488961&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(V^U))+M[4]+3889429448&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(V^U&(C^V))+M[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(b^C))+M[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(U^b))+M[3]+4107603335&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(V^U))+M[8]+1163531501&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(V^U&(C^V))+M[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^V&(b^C))+M[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=V+(b^C&(U^b))+M[7]+1735328473&4294967295,V=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(V^U))+M[12]+2368359562&4294967295,C=V+(R<<20&4294967295|R>>>12),R=b+(C^V^U)+M[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^V)+M[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^C)+M[11]+1839030562&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^b)+M[14]+4259657740&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(C^V^U)+M[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^V)+M[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^C)+M[7]+4139469664&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^b)+M[10]+3200236656&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(C^V^U)+M[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^V)+M[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^C)+M[3]+3572445317&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^b)+M[6]+76029189&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(C^V^U)+M[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^V)+M[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=V+(U^b^C)+M[15]+530742520&4294967295,V=U+(R<<16&4294967295|R>>>16),R=C+(V^U^b)+M[2]+3299628645&4294967295,C=V+(R<<23&4294967295|R>>>9),R=b+(V^(C|~U))+M[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~V))+M[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~C))+M[14]+2878612391&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~b))+M[5]+4237533241&4294967295,C=V+(R<<21&4294967295|R>>>11),R=b+(V^(C|~U))+M[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~V))+M[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~C))+M[10]+4293915773&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~b))+M[1]+2240044497&4294967295,C=V+(R<<21&4294967295|R>>>11),R=b+(V^(C|~U))+M[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~V))+M[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~C))+M[6]+2734768916&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~b))+M[13]+1309151649&4294967295,C=V+(R<<21&4294967295|R>>>11),R=b+(V^(C|~U))+M[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~V))+M[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=V+(b^(U|~C))+M[2]+718787259&4294967295,V=U+(R<<15&4294967295|R>>>17),R=C+(U^(V|~b))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.v=function(x,b){b===void 0&&(b=x.length);const C=b-this.blockSize,M=this.C;let V=this.h,U=0;for(;U<b;){if(V==0)for(;U<=C;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<b;)if(M[V++]=x.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<b;)if(M[V++]=x[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=b},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;b=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=b&255,b/=256;for(this.v(x),x=Array(16),b=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)x[b++]=this.g[C]>>>M&255;return x};function h(x,b){var C=y;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=b(x)}function d(x,b){this.h=b;const C=[];let M=!0;for(let V=x.length-1;V>=0;V--){const U=x[V]|0;M&&U==b||(C[V]=U,M=!1)}this.g=C}var y={};function v(x){return-128<=x&&x<128?h(x,function(b){return new d([b|0],b<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return et(_(-x));const b=[];let C=1;for(let M=0;x>=C;M++)b[M]=x/C|0,C*=4294967296;return new d(b,0)}function A(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return et(A(x.substring(1),b));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let M=S;for(let U=0;U<x.length;U+=8){var V=Math.min(8,x.length-U);const R=parseInt(x.substring(U,U+V),b);V<8?(V=_(Math.pow(b,V)),M=M.j(V).add(_(R))):(M=M.j(C),M=M.add(_(R)))}return M}var S=v(0),D=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(nt(this))return-et(this).m();let x=0,b=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);x+=(M>=0?M:4294967296+M)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(J(this))return"0";if(nt(this))return"-"+et(this).toString(x);const b=_(Math.pow(x,6));var C=this;let M="";for(;;){const V=qt(C,b).g;C=gt(C,V.j(b));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=V,J(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function J(x){if(x.h!=0)return!1;for(let b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function nt(x){return x.h==-1}r.l=function(x){return x=gt(this,x),nt(x)?-1:J(x)?0:1};function et(x){const b=x.g.length,C=[];for(let M=0;M<b;M++)C[M]=~x.g[M];return new d(C,~x.h).add(D)}r.abs=function(){return nt(this)?et(this):this},r.add=function(x){const b=Math.max(this.g.length,x.g.length),C=[];let M=0;for(let V=0;V<=b;V++){let U=M+(this.i(V)&65535)+(x.i(V)&65535),R=(U>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);M=R>>>16,U&=65535,R&=65535,C[V]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function gt(x,b){return x.add(et(b))}r.j=function(x){if(J(this)||J(x))return S;if(nt(this))return nt(x)?et(this).j(et(x)):et(et(this).j(x));if(nt(x))return et(this.j(et(x)));if(this.l(H)<0&&x.l(H)<0)return _(this.m()*x.m());const b=this.g.length+x.g.length,C=[];for(var M=0;M<2*b;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<x.g.length;V++){const U=this.i(M)>>>16,R=this.i(M)&65535,ee=x.i(V)>>>16,Ce=x.i(V)&65535;C[2*M+2*V]+=R*Ce,rt(C,2*M+2*V),C[2*M+2*V+1]+=U*Ce,rt(C,2*M+2*V+1),C[2*M+2*V+1]+=R*ee,rt(C,2*M+2*V+1),C[2*M+2*V+2]+=U*ee,rt(C,2*M+2*V+2)}for(x=0;x<b;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=b;x<2*b;x++)C[x]=0;return new d(C,0)};function rt(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function ht(x,b){this.g=x,this.h=b}function qt(x,b){if(J(b))throw Error("division by zero");if(J(x))return new ht(S,S);if(nt(x))return b=qt(et(x),b),new ht(et(b.g),et(b.h));if(nt(b))return b=qt(x,et(b)),new ht(et(b.g),b.h);if(x.g.length>30){if(nt(x)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=D,M=b;M.l(x)<=0;)C=kt(C),M=kt(M);var V=Lt(C,1),U=Lt(M,1);for(M=Lt(M,2),C=Lt(C,2);!J(M);){var R=U.add(M);R.l(x)<=0&&(V=V.add(C),U=R),M=Lt(M,1),C=Lt(C,1)}return b=gt(x,V.j(b)),new ht(V,b)}for(V=S;x.l(b)>=0;){for(C=Math.max(1,Math.floor(x.m()/b.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(C),R=U.j(b);nt(R)||R.l(x)>0;)C-=M,U=_(C),R=U.j(b);J(U)&&(U=D),V=V.add(U),x=gt(x,R)}return new ht(V,x)}r.B=function(x){return qt(this,x).h},r.and=function(x){const b=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)&x.i(M);return new d(C,this.h&x.h)},r.or=function(x){const b=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)|x.i(M);return new d(C,this.h|x.h)},r.xor=function(x){const b=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)^x.i(M);return new d(C,this.h^x.h)};function kt(x){const b=x.g.length+1,C=[];for(let M=0;M<b;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new d(C,x.h)}function Lt(x,b){const C=b>>5;b%=32;const M=x.g.length-C,V=[];for(let U=0;U<M;U++)V[U]=b>0?x.i(U+C)>>>b|x.i(U+C+1)<<32-b:x.i(U+C);return new d(V,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,K_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Da=d}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X_,kl,Z_,Ku,$f,J_,$_,W_;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,L,P){for(var $=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)$[Et-2]=arguments[Et];return m.prototype[L].apply(T,$)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const P=L.length||0;u.length=p+P;for(let $=0;$<P;$++)u[p+$]=L[$]}else u.push(L)}}class nt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,p){const T=ht.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new nt(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let kt,Lt=!1,x=new rt,b=()=>{const u=Promise.resolve(void 0);kt=()=>{u.then(C)}};function C(){for(var u;u=gt();){try{u.h.call(u.g)}catch(p){et(p)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ee,V),ee.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),F=0;function W(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Mt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Ht(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function I(u){const m={};for(const p in u)m[p]=u[p];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let P=0;P<K.length;P++)p=K[P],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,p,T,L){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const $=At(u,m,T,L);return $>-1?(m=u[$],p||(m.fa=!1)):(m=new W(m,this.src,P,!!T,L),m.fa=p,u.push(m)),m};function pt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(T,L,1),P&&(ct(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function At(u,m,p,T){for(let L=0;L<u.length;++L){const P=u[L];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),xe={};function ne(u,m,p,T,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ne(u,m[P],p,T,L);return null}return p=Lr(p),u&&u[Ce]?u.J(m,p,y(T)?!!T.capture:!1,L):qa(u,m,p,!1,T,L)}function qa(u,m,p,T,L,P){if(!m)throw Error("Invalid event type");const $=y(L)?!!L.capture:!!L;let Et=Pa(u);if(Et||(u[Vt]=Et=new at(u)),p=Et.add(m,p,T,$,P),p.proxy)return p;if(T=Rs(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)U||(L=$),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Rs(){function u(p){return m.call(u.src,u.listener,p)}const m=zr;return u}function ws(u,m,p,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)ws(u,m[P],p,T,L);else T=y(T)?!!T.capture:!!T,p=Lr(p),u&&u[Ce]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],p=At(m,p,T,L),p>-1&&(ct(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=Pa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,p,T,L)),(p=u>-1?m[u]:null)&&Cs(p))}function Cs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])pt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Yn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Pa(m))?(pt(p,u),p.h==0&&(p.src=null,m[Vt]=null)):ct(u)}}}function Yn(u){return u in xe?xe[u]:xe[u]="on"+u}function zr(u,m){if(u.da)u=!0;else{m=new ee(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Cs(u),u=p.call(T,m)}return u}function Pa(u){return u=u[Vt],u instanceof at?u:null}var Ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lr(u){return typeof u=="function"?u:(u[Ur]||(u[Ur]=function(m){return u.handleEvent(m)}),u[Ur])}function me(){M.call(this),this.i=new at(this),this.M=this,this.G=null}S(me,M),me.prototype[Ce]=!0,me.prototype.removeEventListener=function(u,m,p,T){ws(this,u,m,p,T)};function De(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var L=m;m=new V(T,u),tt(m,L)}L=!0;let P,$;if(p)for($=p.length-1;$>=0;$--)P=m.g=p[$],L=Yi(P,T,!0,m)&&L;if(P=m.g=u,L=Yi(P,T,!0,m)&&L,L=Yi(P,T,!1,m)&&L,p)for($=0;$<p.length;$++)P=m.g=p[$],L=Yi(P,T,!1,m)&&L}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ct(p[T]);delete u.g[m],u.h--}}this.G=null},me.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},me.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Yi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const $=m[P];if($&&!$.da&&$.capture==p){const Et=$.listener,ce=$.ha||$.src;$.fa&&pt(u.i,$),L=Et.call(ce,T)!==!1&&L}}return L&&!T.defaultPrevented}function Oc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function mo(u){u.g=Oc(()=>{u.g=null,u.i&&(u.i=!1,mo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(u){M.call(this),this.h=u,this.g={}}S(ka,M);var jr=[];function Br(u){Mt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Cs(m)},u),u.g={}}ka.prototype.N=function(){ka.Z.N.call(this),Br(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=d.JSON.stringify,Mc=d.JSON.parse,go=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function po(){}function yo(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){V.call(this,"d")}S(Le,V);function vn(){V.call(this,"c")}S(vn,V);var ue={},_o=null;function xs(){return _o=_o||new me}ue.Ia="serverreachability";function vo(u){V.call(this,ue.Ia,u)}S(vo,V);function Kn(u){const m=xs();De(m,new vo(m))}ue.STAT_EVENT="statevent";function Ha(u,m){V.call(this,ue.STAT_EVENT,u),this.stat=m}S(Ha,V);function ge(u){const m=xs();De(m,new Ha(m,u))}ue.Ja="timingevent";function Xn(u,m){V.call(this,ue.Ja,u),this.size=m}S(Xn,V);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function zc(u,m,p,T,L,P){u.info(function(){if(u.g)if(P){var $="",Et=P.split("&");for(let jt=0;jt<Et.length;jt++){var ce=Et[jt].split("=");if(ce.length>1){const ie=ce[0];ce=ce[1];const bn=ie.split("_");$=bn.length>=2&&bn[1]=="type"?$+(ie+"="+ce+"&"):$+(ie+"=redacted&")}}}else $=null;else $=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+$})}function Eo(u,m,p,T,L,P,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+P+" "+$})}function Jn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uc(u,p)+(T?" "+T:"")})}function Ga(u,m){u.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function Uc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var p=P[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return Ki(P)}catch{return m}}var Fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pr;function Qa(){}S(Qa,po),Qa.prototype.g=function(){return new XMLHttpRequest},Pr=new Qa;function bi(u){return encodeURIComponent(String(u))}function To(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function zn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new ka(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var pe={},Oe={};function $n(u,m,p){u.M=1,u.A=Ya(_e(m)),u.u=p,u.R=!0,Ds(u,null)}function Ds(u,m){u.F=Date.now(),Wn(u),u.B=_e(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Os(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Un,u.g=Uo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(jr[0]=L.toString()),L=jr);for(let P=0;P<L.length;P++){const $=ne(p,L[P],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Kn(),zc(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=Bn(this.g),ce=this.g.ya(),jt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Et!=4||ce==7||(ce==8||jt<=0?Kn(3):Kn(2)),ti(this);var m=this.g.ca();this.X=m;var p=Lc(this);if(this.o=m==200,Eo(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var P=T;break e}}P=null}if(u=P)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,ge(12),un(this),En(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<p.length;)if(ie=bo(this,p),ie==Oe){Et==4&&(this.m=4,ge(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==pe){this.m=4,ge(15),Jn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,ie,null),ei(this,ie);if(Ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||p.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),nl($),$.P=!0,ge(11))}}else Jn(this.i,this.l,p,null),ei(this,p);Et==4&&un(this),this.o&&!this.K&&(Et==4?Io(this.j,this):(this.o=!1,Wn(this)))}else Ri(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),un(this),En(this)}}}catch{}finally{}};function Lc(u){if(!Ao(u))return u.g.la();const m=je(u.g);if(m==="")return"";let p="";const T=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),En(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<T;P++)u.h.h=!0,p+=u.h.i.decode(m[P],{stream:!(L&&P==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function Ao(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function bo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Oe:(p=Number(m.substring(p,T)),isNaN(p)?pe:(T+=1,T+p>m.length?Oe:(m=m.slice(T,T+p),u.C=T+p,m)))}zn.prototype.cancel=function(){this.K=!0,un(this)};function Wn(u){u.T=Date.now()+u.H,Ns(u,u.H)}function Ns(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(_(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ga(this.i,this.B),this.M!=2&&(Kn(),ge(17)),un(this),this.m=2,En(this)):Ns(this,this.T-u)};function En(u){u.j.I==0||u.K||Io(u.j,u)}function un(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Br(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ii(p.h,u))){if(!u.L&&ii(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)js(p),na(p);else break t;ts(p),ge(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Zn(_(p.Va,p),6e3));ni(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((u.L||p.g==u)&&js(p),!R(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const ie=jt[0];if(!(ie<=p.K))if(p.K=ie,jt=jt[1],p.I==2)if(jt[0]=="c"){p.M=jt[1],p.ba=jt[2];const bn=jt[3];bn!=null&&(p.ka=bn,p.j.info("VER="+p.ka));const ci=jt[4];ci!=null&&(p.za=ci,p.j.info("SVER="+p.za));const qn=jt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Pn=u.g;if(Pn){const es=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var P=T.h;P.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Gr(P,P.h),P.h=null))}if(T.G){const Bs=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(T.wa=Bs,Gt(T.J,T.G,Bs))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var $=u;if(T.na=zo(T,T.L?T.ba:null,T.W),$.L){Fr(T.h,$);var Et=$,ce=T.O;ce&&(Et.H=ce),Et.D&&(ti(Et),Wn(Et)),T.g=$}else No(T);p.i.length>0&&oi(p)}else jt[0]!="stop"&&jt[0]!="close"||ui(p,7);else p.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?ui(p,7):tl(p):jt[0]!="noop"&&p.l&&p.l.qa(jt),p.A=0)}}Kn(4)}catch{}}var ye=class{constructor(u,m){this.g=u,this.map=m}};function kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gr(u,m){u.g?u.g.add(m):u.h=m}function Fr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}kr.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return H(u.i)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let L,P=null;T>=0?(L=u[p].substring(0,T),P=u[p].substring(T+1)):L=u[p],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Xi(this,u.u),this.h=u.h,Yr(this,xo(u.i)),this.m=u.m):u&&(m=String(u).match(So))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Xi(this,m[4]),this.h=ai(m[5]||"",!0),Yr(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Ji(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ka(m,Is,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ka(m,Is,!0),"@"),u.push(bi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ka(p,p.charAt(0)=="/"?Kr:Ro,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ka(p,wo)),u.join("")},cn.prototype.resolve=function(u){const m=_e(this);let p=!!u.j;p?Me(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Xi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let $=0;$<L.length;){const Et=L[$++];Et=="."?T&&$==L.length&&P.push(""):Et==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&$==L.length&&P.push("")):(P.push(Et),T=!0)}T=P.join("/")}else T=L}return p?m.h=T:p=u.i.toString()!=="",p?Yr(m,xo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function _e(u){return new cn(u)}function Me(u,m,p){u.j=p?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yr(u,m,p){m instanceof Ji?(u.i=m,Ms(u.i,u.l)):(p||(m=Ka(m,Zi)),u.i=new Ji(m,u.l))}function Gt(u,m,p){u.i.set(m,p)}function Ya(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ka(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Is=/[#\/\?@]/g,Ro=/[#\?:]/g,Kr=/[#\?]/g,Zi=/[#\?@]/g,wo=/#/g;function Ji(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Vs(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Ji.prototype,r.add=function(u,m){tn(this),this.i=null,u=$i(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Co(u,m){tn(u),m=$i(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Xr(u,m){return tn(u),m=$i(u,m),u.g.has(m)}r.forEach=function(u,m){tn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Zr(u,m){tn(u);let p=[];if(typeof m=="string")Xr(u,m)&&(p=p.concat(u.g.get($i(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}r.set=function(u,m){return tn(this),this.i=null,u=$i(this,u),Xr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Zr(this,u),u.length>0?String(u[0]):m):m};function Os(u,m,p){Co(u,m),p.length>0&&(u.i=null,u.g.set($i(u,m),H(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=bi(p);p=Zr(this,p);for(let P=0;P<p.length;P++){let $=L;p[P]!==""&&($+="="+bi(p[P])),u.push($)}}return this.i=u.join("&")};function xo(u){const m=new Ji;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function $i(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ms(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(Co(this,T),Os(this,L,p))},u)),u.j=m}function Ln(u,m){const p=new Mn;if(d.Image){const T=new Image;T.onload=A(Tn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Jr(u,m){const p=new Mn,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(p,"TestPingServer: error",!1,m)})}function Tn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Wi(){this.g=new go}function si(u){this.i=u.Sb||null,this.h=u.ab||!1}S(si,po),si.prototype.g=function(){return new Xa(this.i,this.h)};function Xa(u,m){me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Xa,me),r=Xa.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function zs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ta(this):jn(this),this.readyState==3&&zs(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ta(this))},r.Na=function(u){this.g&&(this.response=u,ta(this))},r.ga=function(){this.g&&ta(this)};function ta(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Mt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Za(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=An(p),typeof u=="string"?p!=null&&bi(p):Gt(u,m,p))}function Yt(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,me);var ri=/^https?$/i,$r=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pr.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){Ja(this,P);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call($r,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,$]of p)this.g.setRequestHeader(P,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){Ja(this,P)}};function Ja(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Wr(u),Si(u)}function Wr(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?$a(this):this.Xa())},r.Xa=function(){$a(this)};function $a(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let $=String(u.D).match(So)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!ri.test($?$.toLowerCase():"")}p=T}if(p)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Wr(u)}}finally{Si(u)}}}}function Si(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||De(u,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mc(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var p=To(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[L]||[];m[L]=P,P.push(p)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ea(u){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new kr(u&&u.concurrentRequestLimit),this.Ba=new Wi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ea.prototype,r.ka=8,r.I=1,r.connect=function(u,m,p,T){ge(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=zo(this,null,this.W),oi(this)};function tl(u){if(Us(u),u.I==3){var m=u.V++,p=_e(u.J);if(Gt(p,"SID",u.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),Wa(u,p),m=new zn(u,u.j,m),m.M=2,m.A=Ya(_e(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Uo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}Mo(u)}function na(u){u.g&&(nl(u),u.g.cancel(),u.g=null)}function Us(u){na(u),u.v&&(d.clearTimeout(u.v),u.v=null),js(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!Hr(u.h)&&!u.m){u.m=!0;var m=u.Ea;kt||b(),Lt||(kt(),Lt=!0),x.add(m,u),u.D=0}}function Ls(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(_(u.Ea,u,m),Oo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new zn(this,this.j,u);let P=this.o;if(this.U&&(P?(P=I(P),tt(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Do(this,L,m),p=_e(this.J),Gt(p,"RID",u),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),Wa(this,p),P&&(this.R?m="headers="+bi(An(P))+"&"+m:this.u&&Za(p,this.u,P)),Gr(this.h,L),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),L.U=!0,$n(L,p,null)):$n(L,p,m),this.I=2}}else this.I==3&&(u?el(this,u):this.i.length==0||Hr(this.h)||el(this))};function el(u,m){var p;m?p=m.l:p=u.V++;const T=_e(u.J);Gt(T,"SID",u.M),Gt(T,"RID",p),Gt(T,"AID",u.K),Wa(u,T),u.u&&u.o&&Za(T,u.u,u.o),p=new zn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Do(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Gr(u.h,p),$n(p,T,m)}function Wa(u,m){u.H&&Mt(u.H,function(p,T){Gt(m,T,p)}),u.l&&Mt({},function(p,T){Gt(m,T,p)})}function Do(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const ce=["count="+p];Et==-1?p>0?(Et=L[0].g,ce.push("ofs="+Et)):Et=0:ce.push("ofs="+Et);let jt=!0;for(let ie=0;ie<p;ie++){var P=L[ie].g;const bn=L[ie].map;if(P-=Et,P<0)Et=Math.max(0,L[ie].g-100),jt=!1;else try{P="req"+P+"_"||"";try{var $=bn instanceof Map?bn:Object.entries(bn);for(const[ci,qn]of $){let Pn=qn;y(qn)&&(Pn=Ki(qn)),ce.push(P+ci+"="+encodeURIComponent(Pn))}}catch(ci){throw ce.push(P+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(bn)}}if(jt){$=ce.join("&");break t}}$=void 0}return u=u.i.splice(0,p),m.G=u,$}function No(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;kt||b(),Lt||(kt(),Lt=!0),x.add(m,u),u.A=0}}function ts(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(_(u.Da,u),Oo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Vo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),na(this),Vo(this))};function nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Vo(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=_e(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Wa(u,m),u.u&&u.o&&Za(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ya(_e(m)),p.u=null,p.R=!0,Ds(p,u)}r.Va=function(){this.C!=null&&(this.C=null,na(this),ts(this),ge(19))};function js(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Io(u,m){var p=null;if(u.g==m){js(u),nl(u),u.g=null;var T=2}else if(ii(u.h,m))p=m.G,Fr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=xs(),De(T,new Xn(T,p)),oi(u)}else No(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ls(u,m)||T==2&&ts(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Oo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),Ya(T),L?Ln(T.toString(),p):Jr(T.toString(),p)}else ge(2);u.I=0,u.l&&u.l.pa(m),Mo(u),Us(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Mo(u){if(u.I=0,u.ja=[],u.l){const m=Qr(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function zo(u,m,p){var T=p instanceof cn?_e(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Xi(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new cn(null);T&&Me(P,T),m&&(P.g=m),L&&Xi(P,L),p&&(P.h=p),T=P}return p=u.G,m=u.wa,p&&m&&Gt(T,p,m),Gt(T,"VER",u.ka),Wa(u,T),T}function Uo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new si({ab:p})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lo(){}r=Lo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ia(){}ia.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){me.call(this),this.g=new ea(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new wi(this)}S(Je,me),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){tl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Ki(u),u=p);m.i.push(new ye(m.Ya++,u)),m.I==3&&oi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Je.Z.N.call(this)};function jo(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(jo,Le);function Bo(){vn.call(this),this.status=1}S(Bo,vn);function wi(u){this.g=u}S(wi,Lo),wi.prototype.ra=function(){De(this.g,"a")},wi.prototype.qa=function(u){De(this.g,new jo(u))},wi.prototype.pa=function(u){De(this.g,new Bo)},wi.prototype.oa=function(){De(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,W_=function(){return new ia},$_=function(){return xs()},J_=ue,$f={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,Ku=Fa,qr.COMPLETE="complete",Z_=qr,yo.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",me.prototype.listen=me.prototype.J,kl=yo,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,X_=Yt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vr="12.9.0";function rA(r){Vr=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new k_("@firebase/firestore");function gr(){return Es.logLevel}function it(r,...e){if(Es.logLevel<=Ot.DEBUG){const i=e.map(vd);Es.debug(`Firestore (${Vr}): ${r}`,...i)}}function Fi(r,...e){if(Es.logLevel<=Ot.ERROR){const i=e.map(vd);Es.error(`Firestore (${Vr}): ${r}`,...i)}}function Ts(r,...e){if(Es.logLevel<=Ot.WARN){const i=e.map(vd);Es.warn(`Firestore (${Vr}): ${r}`,...i)}}function vd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,tv(r,s,i)}function tv(r,e,i){let s=`FIRESTORE (${Vr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Fi(s),new Error(s)}function Pt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||tv(e,o,s)}function vt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Nr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class oA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class uA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Pt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Na,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Na)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Pt(typeof s.accessToken=="string",31837,{l:s}),new ev(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class cA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new cA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,H1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Pt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Pt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new jy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function xt(r,e){return r<e?-1:r>e?1:0}function Wf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return kf(o)===kf(h)?xt(o,h):kf(o)?1:-1}return xt(r.length,e.length)}const mA=55296,gA=57343;function kf(r){const e=r.charCodeAt(0);return e>=mA&&e<=gA}function br(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="__name__";class gi{constructor(e,i,s){i===void 0?i=0:i>e.length&&mt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&mt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=gi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return xt(e.length,i.length)}static compareSegments(e,i){const s=gi.isNumericId(e),o=gi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):Wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class se extends gi{construct(e,i,s){return new se(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const pA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends gi{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return pA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===By}static keyField(){return new Ge([By])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(h(),o++)}if(h(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(se.fromString(e))}static fromName(e){return new ft(se.fromString(e).popFirst(5))}static empty(){return new ft(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return se.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(r,e,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _A(r,e,i,s){if(e===!0&&s===!0)throw new ot(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function qy(r){if(!ft.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Td(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Td(r);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,e){const i={typeString:r};return e&&(i.value=e),i}function lo(r,e){if(!nv(r))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ot(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=-62135596800,ky=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*ky);return new te(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Py)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ky}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lo(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Py;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Re("string",te._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new te(0,0))}static max(){return new yt(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=-1;function vA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Ia(o,ft.empty(),e)}function EA(r){return new Ia(r.readTime,r.key,to)}class Ia{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ia(yt.min(),ft.empty(),to)}static max(){return new Ia(yt.max(),ft.empty(),to)}}function TA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,e.documentKey),i!==0?i:xt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ir(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==AA)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,s)=>{i(e)}))}static reject(e){return new X(((i,s)=>{s(e)}))}static waitFor(e){return new X(((i,s)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next((o=>o?X.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new X(((s,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new X(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function SA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Or(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=-1;function pc(r){return r==null}function ic(r){return r===0&&1/r==-1/0}function RA(r){return typeof r=="number"&&Number.isInteger(r)&&!ic(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="";function wA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Hy(e)),e=CA(r.get(i),e);return Hy(e)}function CA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case iv:i+="";break;default:i+=h}}return i}function Hy(r){return r+iv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ja(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function av(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new He(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(e){return new Fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class Fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new _n([])}unionWith(e){let i=new Ie(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return br(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new sv("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const xA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(r){if(Pt(!!r,39018),typeof r=="string"){let e=0;const i=xA.exec(r);if(Pt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ma(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="server_timestamp",lv="__type__",ov="__previous_value__",uv="__local_write_time__";function bd(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[lv])==null?void 0:s.stringValue)===rv}function yc(r){const e=r.mapValue.fields[ov];return bd(e)?yc(e):e}function eo(r){const e=Oa(r.mapValue.fields[uv].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i,s,o,h,d,y,v,_,A,S){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=S}}const ac="(default)";class no{constructor(e,i){this.projectId=e,this.database=i||ac}static empty(){return new no("","")}get isDefaultDatabase(){return this.database===ac}isEqual(e){return e instanceof no&&e.projectId===this.projectId&&e.database===this.database}}function NA(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new no(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="__type__",VA="__max__",Fu={mapValue:{}},hv="__vector__",sc="value";function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bd(r)?4:OA(r)?9007199254740991:IA(r)?10:11:mt(28295,{value:r})}function Ti(r,e){if(r===e)return!0;const i=za(r);if(i!==za(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eo(r).isEqual(eo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Oa(o.timestampValue),y=Oa(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Ma(o.bytesValue).isEqual(Ma(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),y=de(h.doubleValue);return d===y?ic(d)===ic(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return br(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Gy(d)!==Gy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ti(d[v],y[v])))return!1;return!0})(r,e);default:return mt(52216,{left:r})}}function io(r,e){return(r.values||[]).find((i=>Ti(i,e)))!==void 0}function Sr(r,e){if(r===e)return 0;const i=za(r),s=za(e);if(i!==s)return xt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Qy(r.timestampValue,e.timestampValue);case 4:return Qy(eo(r),eo(e));case 5:return Wf(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=Ma(h),v=Ma(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=xt(y[_],v[_]);if(A!==0)return A}return xt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=xt(de(h.latitude),de(d.latitude));return y!==0?y:xt(de(h.longitude),de(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Yy(r.arrayValue,e.arrayValue);case 10:return(function(h,d){var D,H,J,nt;const y=h.fields||{},v=d.fields||{},_=(D=y[sc])==null?void 0:D.arrayValue,A=(H=v[sc])==null?void 0:H.arrayValue,S=xt(((J=_==null?void 0:_.values)==null?void 0:J.length)||0,((nt=A==null?void 0:A.values)==null?void 0:nt.length)||0);return S!==0?S:Yy(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Fu.mapValue&&d===Fu.mapValue)return 0;if(h===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const D=Wf(v[S],A[S]);if(D!==0)return D;const H=Sr(y[v[S]],_[A[S]]);if(H!==0)return H}return xt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw mt(23264,{he:i})}}function Qy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xt(r,e);const i=Oa(r),s=Oa(e),o=xt(i.seconds,s.seconds);return o!==0?o:xt(i.nanos,s.nanos)}function Yy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Sr(i[o],s[o]);if(h)return h}return xt(i.length,s.length)}function Rr(r){return td(r)}function td(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Oa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ma(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=td(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${td(i.fields[d])}`;return o+"}"})(r.mapValue):mt(61005,{value:r})}function Xu(r){switch(za(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(r);return e?16+Xu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ma(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Xu(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ja(s.fields,((h,d)=>{o+=h.length+Xu(d)})),o})(r.mapValue);default:throw mt(13486,{value:r})}}function ed(r){return!!r&&"integerValue"in r}function Sd(r){return!!r&&"arrayValue"in r}function Ky(r){return!!r&&"nullValue"in r}function Xy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zu(r){return!!r&&"mapValue"in r}function IA(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[cv])==null?void 0:s.stringValue)===hv}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ja(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yl(r.arrayValue.values[i]);return e}return{...r}}function OA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===VA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Zu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(i)}setAll(e){let i=Ge.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=y.popLast()}d?s[y.lastSegment()]=Yl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Zu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ja(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new on(Yl(this.value))}}function fv(r){const e=[];return ja(r.fields,((i,s)=>{const o=new Ge([i]);if(Zu(s)){const h=fv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xe(e,0,yt.min(),yt.min(),yt.min(),on.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,yt.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,yt.min(),yt.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,yt.min(),yt.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i){this.position=e,this.inclusive=i}}function Zy(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=Sr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ti(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i="asc"){this.field=e,this.dir=i}}function MA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{}class Ve extends dv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new UA(e,i,s):i==="array-contains"?new BA(e,s):i==="in"?new qA(e,s):i==="not-in"?new PA(e,s):i==="array-contains-any"?new kA(e,s):new Ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new LA(e,s):new jA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Sr(i,this.value)):i!==null&&za(this.value)===za(i)&&this.matchesComparison(Sr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends dv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ai(e,i)}matches(e){return mv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mv(r){return r.op==="and"}function gv(r){return zA(r)&&mv(r)}function zA(r){for(const e of r.filters)if(e instanceof Ai)return!1;return!0}function nd(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+Rr(r.value);if(gv(r))return r.filters.map((e=>nd(e))).join(",");{const e=r.filters.map((i=>nd(i))).join(",");return`${r.op}(${e})`}}function pv(r,e){return r instanceof Ve?(function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)})(r,e):r instanceof Ai?(function(s,o){return o instanceof Ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,y)=>h&&pv(d,o.filters[y])),!0):!1})(r,e):void mt(19439)}function yv(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Rr(i.value)}`})(r):r instanceof Ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(yv).join(" ,")+"}"})(r):"Filter"}class UA extends Ve{constructor(e,i,s){super(e,i,s),this.key=ft.fromName(s.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class LA extends Ve{constructor(e,i){super(e,"in",i),this.keys=_v("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class jA extends Ve{constructor(e,i){super(e,"not-in",i),this.keys=_v("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function _v(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>ft.fromName(s.referenceValue)))}class BA extends Ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Sd(i)&&io(i.arrayValue,this.value)}}class qA extends Ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&io(this.value.arrayValue,i)}}class PA extends Ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!io(this.value.arrayValue,i)}}class kA extends Ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Sd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>io(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i=null,s=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function $y(r,e=null,i=[],s=[],o=null,h=null,d=null){return new HA(r,e,i,s,o,h,d)}function Rd(r){const e=vt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>nd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Rr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Rr(s))).join(",")),e.Te=i}return e.Te}function wd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!MA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!pv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Jy(r.startAt,e.startAt)&&Jy(r.endAt,e.endAt)}function id(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i=null,s=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function GA(r,e,i,s,o,h,d,y){return new _c(r,e,i,s,o,h,d,y)}function vc(r){return new _c(r)}function Wy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function FA(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function QA(r){return r.collectionGroup!==null}function Kl(r){const e=vt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ie(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new lc(h,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new lc(Ge.keyField(),s))}return e.Ie}function yi(r){const e=vt(r);return e.Ee||(e.Ee=YA(e,Kl(r))),e.Ee}function YA(r,e){if(r.limitType==="F")return $y(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new lc(o.field,h)}));const i=r.endAt?new rc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new rc(r.startAt.position,r.startAt.inclusive):null;return $y(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ad(r,e,i){return new _c(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ec(r,e){return wd(yi(r),yi(e))&&r.limitType===e.limitType}function vv(r){return`${Rd(yi(r))}|lt:${r.limitType}`}function pr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>yv(o))).join(", ")}]`),pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Rr(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Rr(o))).join(",")),`Target(${s})`})(yi(r))}; limitType=${r.limitType})`}function Tc(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ft.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of Kl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,v){const _=Zy(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(d,y,v){const _=Zy(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,Kl(s),o))})(r,e)}function KA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ev(r){return(e,i)=>{let s=!1;for(const o of Kl(r)){const h=XA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function XA(r,e,i){const s=r.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Sr(v,_):mt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return av(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new re(ft.comparator);function Qi(){return ZA}const Tv=new re(ft.comparator);function Hl(...r){let e=Tv;for(const i of r)e=e.insert(i.key,i);return e}function Av(r){let e=Tv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function _s(){return Xl()}function bv(){return Xl()}function Xl(){return new bs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const JA=new re(ft.comparator),$A=new Ie(ft.comparator);function Dt(...r){let e=$A;for(const i of r)e=e.add(i);return e}const WA=new Ie(xt);function tb(){return WA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function Sv(r){return{integerValue:""+r}}function eb(r,e){return RA(e)?Sv(e):Cd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this._=void 0}}function nb(r,e,i){return r instanceof oc?(function(o,h){const d={fields:{[lv]:{stringValue:rv},[uv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&bd(h)&&(h=yc(h)),h&&(d.fields[ov]=h),{mapValue:d}})(i,e):r instanceof wr?wv(r,e):r instanceof ao?Cv(r,e):(function(o,h){const d=Rv(o,h),y=t_(d)+t_(o.Ae);return ed(d)&&ed(o.Ae)?Sv(y):Cd(o.serializer,y)})(r,e)}function ib(r,e,i){return r instanceof wr?wv(r,e):r instanceof ao?Cv(r,e):i}function Rv(r,e){return r instanceof uc?(function(s){return ed(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class oc extends Ac{}class wr extends Ac{constructor(e){super(),this.elements=e}}function wv(r,e){const i=xv(e);for(const s of r.elements)i.some((o=>Ti(o,s)))||i.push(s);return{arrayValue:{values:i}}}class ao extends Ac{constructor(e){super(),this.elements=e}}function Cv(r,e){let i=xv(e);for(const s of r.elements)i=i.filter((o=>!Ti(o,s)));return{arrayValue:{values:i}}}class uc extends Ac{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function t_(r){return de(r.integerValue||r.doubleValue)}function xv(r){return Sd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,i){this.field=e,this.transform=i}}function sb(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof wr&&o instanceof wr||s instanceof ao&&o instanceof ao?br(s.elements,o.elements,Ti):s instanceof uc&&o instanceof uc?Ti(s.Ae,o.Ae):s instanceof oc&&o instanceof oc})(r.transform,e.transform)}class rb{constructor(e,i){this.version=e,this.transformResults=i}}class _i{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class bc{}function Dv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Vv(r.key,_i.none()):new oo(r.key,r.data,_i.none());{const i=r.data,s=on.empty();let o=new Ie(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ba(r.key,s,new _n(o.toArray()),_i.none())}}function lb(r,e,i){r instanceof oo?(function(o,h,d){const y=o.value.clone(),v=n_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Ba?(function(o,h,d){if(!Ju(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=n_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Nv(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Zl(r,e,i,s){return r instanceof oo?(function(h,d,y,v){if(!Ju(h.precondition,d))return y;const _=h.value.clone(),A=i_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ba?(function(h,d,y,v){if(!Ju(h.precondition,d))return y;const _=i_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Nv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(h,d,y){return Ju(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function ob(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Rv(s.transform,o||null);h!=null&&(i===null&&(i=on.empty()),i.set(s.field,h))}return i||null}function e_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&br(s,o,((h,d)=>sb(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class oo extends bc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ba extends bc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Nv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function n_(r,e,i){const s=new Map;Pt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,y=e.data.field(h.field);s.set(h.field,ib(d,y,i[o]))}return s}function i_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,nb(h,d,e))}return s}class Vv extends bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ub extends bc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&lb(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=bv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=Dv(d,y);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&br(this.mutations,e.mutations,((i,s)=>e_(i,s)))&&br(this.baseMutations,e.baseMutations,((i,s)=>e_(i,s)))}}class xd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Pt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return JA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new xd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,It;function db(r){switch(r){case Z.OK:return mt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function Iv(r){if(r===void 0)return Fi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case be.OK:return Z.OK;case be.CANCELLED:return Z.CANCELLED;case be.UNKNOWN:return Z.UNKNOWN;case be.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case be.INTERNAL:return Z.INTERNAL;case be.UNAVAILABLE:return Z.UNAVAILABLE;case be.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case be.NOT_FOUND:return Z.NOT_FOUND;case be.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case be.ABORTED:return Z.ABORTED;case be.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case be.DATA_LOSS:return Z.DATA_LOSS;default:return mt(39323,{code:r})}}(It=be||(be={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Da([4294967295,4294967295],0);function a_(r){const e=mb().encode(r),i=new K_;return i.update(e),new Uint8Array(i.digest())}function s_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Da([i,s],0),new Da([o,h],0)]}class Dd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Gl(`Invalid padding: ${i}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Da.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Da.fromNumber(s)));return o.compare(gb)===1&&(o=new Da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=a_(e),[s,o]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Dd(h,o,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=a_(e),[s,o]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,uo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Sc(yt.min(),o,new re(xt),Qi(),Dt())}}class uo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new uo(s,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Ov{constructor(e,i){this.targetId=e,this.Ce=i}}class Mv{constructor(e,i,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class r_{constructor(){this.ve=0,this.Fe=l_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),i=Dt(),s=Dt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:mt(38017,{changeType:h})}})),new uo(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=l_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.He=Qu(),this.Je=Qu(),this.Ze=new re(xt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:mt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(id(h))if(s===0){const d=new ft(h.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else Pt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Ma(s).toUint8Array()}catch(v){if(v instanceof sv)return Ts("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Dd(d,o,h)}catch(v){return Ts(v instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&id(y.target)){const v=new ft(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let s=Dt();this.Je.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Sc(e,i,this.Ze,this.je,s);return this.je=Qi(),this.He=Qu(),this.Je=Qu(),this.Ze=new re(xt),o}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new r_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ie(xt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ie(xt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new r_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Qu(){return new re(ft.comparator)}function l_(){return new re(ft.comparator)}const yb={asc:"ASCENDING",desc:"DESCENDING"},_b={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vb={and:"AND",or:"OR"};class Eb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sd(r,e){return r.useProto3Json||pc(e)?e:{value:e}}function cc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Tb(r,e){return cc(r,e.toTimestamp())}function vi(r){return Pt(!!r,49232),yt.fromTimestamp((function(i){const s=Oa(i);return new te(s.seconds,s.nanos)})(r))}function Nd(r,e){return rd(r,e).canonicalString()}function rd(r,e){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Uv(r){const e=se.fromString(r);return Pt(Pv(e),10190,{key:e.toString()}),e}function ld(r,e){return Nd(r.databaseId,e.path)}function Hf(r,e){const i=Uv(e);if(i.get(1)!==r.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(jv(i))}function Lv(r,e){return Nd(r.databaseId,e)}function Ab(r){const e=Uv(r);return e.length===4?se.emptyPath():jv(e)}function od(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function jv(r){return Pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function o_(r,e,i){return{name:ld(r,e),fields:i.value.mapValue.fields}}function bb(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Pt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(Pt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:Iv(_.code);return new ot(A,_.message||"")})(d);i=new Mv(s,o,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hf(r,s.document.name),h=vi(s.document.updateTime),d=s.document.createTime?vi(s.document.createTime):yt.min(),y=new on({mapValue:{fields:s.document.fields}}),v=Xe.newFoundDocument(o,h,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new $u(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hf(r,s.document),h=s.readTime?vi(s.readTime):yt.min(),d=Xe.newNoDocument(o,h),y=s.removedTargetIds||[];i=new $u([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hf(r,s.document),h=s.removedTargetIds||[];i=new $u([],h,o,null)}else{if(!("filter"in e))return mt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new fb(o,h),y=s.targetId;i=new Ov(y,d)}}return i}function Sb(r,e){let i;if(e instanceof oo)i={update:o_(r,e.key,e.value)};else if(e instanceof Vv)i={delete:ld(r,e.key)};else if(e instanceof Ba)i={update:o_(r,e.key,e.data),updateMask:Ob(e.fieldMask)};else{if(!(e instanceof ub))return mt(16599,{dt:e.type});i={verify:ld(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof wr)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof uc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:Tb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)})(r,e.precondition)),i}function Rb(r,e){return r&&r.length>0?(Pt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?vi(o.updateTime):vi(h);return d.isEqual(yt.min())&&(d=vi(h)),new rb(d,o.transformResults||[])})(i,e)))):[]}function wb(r,e){return{documents:[Lv(r,e.path)]}}function Cb(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Lv(r,o);const h=(function(_){if(_.length!==0)return qv(Ai.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(D){return{field:yr(D.field),direction:Nb(D.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=sd(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function xb(r){let e=Ab(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Pt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const D=Bv(S);return D instanceof Ai&&gv(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(J){return new lc(_r(J.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(D)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let D;return D=typeof S=="object"?S.value:S,pc(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(S){const D=!!S.before,H=S.values||[];return new rc(H,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const D=!S.before,H=S.values||[];return new rc(H,D)})(i.endAt)),GA(e,o,d,h,y,"F",v,_)}function Db(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Bv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=_r(i.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_r(i.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_r(i.unaryFilter.field);return Ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_r(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(_r(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ai.create(i.compositeFilter.filters.map((s=>Bv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function Nb(r){return yb[r]}function Vb(r){return _b[r]}function Ib(r){return vb[r]}function yr(r){return{fieldPath:r.canonicalString()}}function _r(r){return Ge.fromServerFormat(r.fieldPath)}function qv(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(Xy(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NAN"}};if(Ky(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Xy(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NOT_NAN"}};if(Ky(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yr(i.field),op:Vb(i.op),value:i.value}}})(r):r instanceof Ai?(function(i){const s=i.getFilters().map((o=>qv(o)));return s.length===1?s[0]:{compositeFilter:{op:Ib(i.op),filters:s}}})(r):mt(54877,{filter:r})}function Ob(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Pv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function kv(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,i,s,o,h=yt.min(),d=yt.min(),y=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.yt=e}}function zb(r){const e=xb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.Sn=new Lb}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Ia.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class Lb{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ie(se.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ie(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hv=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Hv,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Cr(0)}static ar(){return new Cr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="LruGarbageCollector",jb=1048576;function h_([r,e],[i,s]){const o=xt(r,i);return o===0?xt(e,s):o}class Bb{constructor(e){this.Pr=e,this.buffer=new Ie(h_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();h_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){it(c_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Or(i)?it(c_,"Ignoring IndexedDB error during garbage collection: ",i):await Ir(i)}await this.Ar(3e5)}))}}class Pb{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(gc.ce);const s=new Bb(i);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(u_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,y=Date.now(),this.removeTargets(e,s,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(_=Date.now(),gr()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function kb(r,e){return new Pb(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.changes=new bs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Zl(s.mutation,o,_n.empty(),te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Dt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Dt()){const o=_s();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Hl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=_s();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Dt())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,o){let h=Qi();const d=Xl(),y=(function(){return Xl()})();return i.forEach(((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Ba)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Zl(A.mutation,_,A.mutation.getFieldMask(),te.now())):d.set(_.key,_n.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new Gb(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Xl();let o=new re(((d,y)=>d-y)),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||_n.empty();A=y.applyToLocalView(_,A),s.set(v,A);const S=(o.get(y.batchId)||Dt()).add(v);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,S=bv();A.forEach((D=>{if(!h.has(D)){const H=Dv(i.get(D),s.get(D));H!==null&&S.set(D,H),h=h.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return FA(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):QA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):X.resolve(_s());let y=to,v=h;return d.next((_=>X.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((D=>{v=v.insert(A,D)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Dt()))).next((A=>({batchId:y,changes:Av(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Hl();return this.indexManager.getCollectionParents(e,h).next((y=>X.forEach(y,(v=>{const _=(function(S,D){return new _c(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((A=>{A.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let y=Hl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Zl(A.mutation,_,_n.empty(),te.now()),Tc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:zb(o.bundledQuery),readTime:vi(o.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.overlays=new re(ft.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=_s();return X.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.bt(e,i,h)})),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=_s(),h=i.length+1,d=new ft(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new re(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=_s(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=_s(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return X.resolve(y)}bt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new hb(i,s));let h=this.Lr.get(i);h===void 0&&(h=Dt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.kr=new Ie(Ue.Kr),this.qr=new Ie(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new Ue(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new ft(new se([])),s=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ft(new se([])),s=new Ue(i,e),o=new Ue(i,e+1);let h=Dt();return this.qr.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ft.comparator(e.key,i.key)||xt(e.Hr,i.Hr)}static Ur(e,i){return xt(e.Hr,i.Hr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ie(Ue.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cb(h,i,s,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ad:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([s,o],(d=>{const y=this.Zr(d.Hr);h.push(y)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(xt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(y=>{s=s.add(y.Hr)}))})),X.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ft(h),0);let y=new Ie(xt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Pt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return X.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new Ue(i,0),o=this.Jr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.ti=e,this.docs=(function(){return new re(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Qi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Qi();const d=i.path,y=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||TA(EA(A),s)<=0||(o.has(A.key)||Tc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,s,o){mt(9500)}ni(e,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new Jb(this)}getSize(e){return X.resolve(this.size)}}class Jb extends Hb{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.persistence=e,this.ri=new bs((i=>Rd(i)),wd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new Vd,this.targetCount=0,this.oi=Cr._r()}forEachTarget(e,i){return this.ri.forEach(((s,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Cr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),X.waitFor(h).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,i){this._i={},this.overlays={},this.ai=new gc(0),this.ui=!1,this.ui=!0,this.ci=new Kb,this.referenceDelegate=e(this),this.li=new $b(this),this.indexManager=new Ub,this.remoteDocumentCache=(function(o){return new Zb(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Mb(i),this.Pi=new Qb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Yb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new Xb(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const o=new Wb(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return X.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class Wb extends bA{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.Ri=new Vd,this.Ai=null}static Vi(e){return new Id(e)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(s=>{const o=ft.fromPath(s);return this.mi(e,o).next((h=>{h||i.removeEntry(o,yt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class hc{constructor(e,i){this.persistence=e,this.fi=new bs((s=>wA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=kb(this,i)}static Vi(e,i){return new hc(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((h=>h?X.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(s++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xu(e.data.value)),i}wr(e,i,s){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=o}static Es(e,i){let s=Dt(),o=Dt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Od(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return qT()?8:SA(jT())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new tS;return this.ys(e,i,d).next((y=>{if(h.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>h.result))}ws(e,i,s,o){return s.documentReadCount<this.Vs?(gr()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",pr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(gr()<=Ot.DEBUG&&it("QueryEngine","Query:",pr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(gr()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",pr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):X.resolve())}gs(e,i){if(Wy(i))return X.resolve(null);let s=yi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ad(i,null,"F"),s=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Dt(...h);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.bs(i,y);return this.Ss(i,_,d,v.readTime)?this.gs(e,ad(i,null,"F")):this.Ds(e,_,i,v)}))))})))))}ps(e,i,s,o){return Wy(i)||o.isEqual(yt.min())?X.resolve(null):this.fs.getDocuments(e,s).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,s,o)?X.resolve(null):(gr()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pr(i)),this.Ds(e,d,i,vA(o,to)).next((y=>y)))}))}bs(e,i){let s=new Ie(Ev(e));return i.forEach(((o,h)=>{Tc(e,h)&&(s=s.add(h))})),s}Ss(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,s){return gr()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",pr(i)),this.fs.getDocumentsMatchingQuery(e,i,Ia.min(),s)}Ds(e,i,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="LocalStore",nS=3e8;class iS{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new re(xt),this.Fs=new bs((h=>Rd(h)),wd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fb(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function aS(r,e,i,s){return new iS(r,e,i,s)}async function Fv(r,e){const i=vt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=Dt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function sS(r,e){const i=vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const S=_.batch,D=S.keys();let H=X.resolve();return D.forEach((J=>{H=H.next((()=>A.getEntry(v,J))).next((nt=>{const et=_.docVersions.get(J);Pt(et!==null,48541),nt.version.compareTo(et)<0&&(S.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Dt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function Qv(r){const e=vt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function rS(r,e){const i=vt(r),s=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((A,S)=>{const D=o.get(S);if(!D)return;y.push(i.li.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(h,A.addedDocuments,S))));let H=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),o=o.insert(S,H),(function(nt,et,gt){return nt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=nS?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(D,H,A)&&y.push(i.li.updateTargetData(h,H))}));let v=Qi(),_=Dt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(lS(h,d,e.documentUpdates).next((A=>{v=A.Bs,_=A.Ls}))),!s.isEqual(yt.min())){const A=i.li.getLastRemoteSnapshotVersion(h).next((S=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(A)}return X.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=o,h)))}function lS(r,e,i){let s=Dt(),o=Dt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Qi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(Md,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function oS(r,e){const i=vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ad),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function uS(r,e){const i=vt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.li.getTargetData(s,e).next((h=>h?(o=h,X.resolve(o)):i.li.allocateTargetId(s).next((d=>(o=new wa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function ud(r,e,i){const s=vt(r),o=s.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Or(d))throw d;it(Md,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function f_(r,e,i){const s=vt(r);let o=yt.min(),h=Dt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=vt(v),D=S.Fs.get(A);return D!==void 0?X.resolve(S.vs.get(D)):S.li.getTargetData(_,A)})(s,d,yi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?h:Dt()))).next((y=>(cS(s,KA(e),y),{documents:y,ks:h})))))}function cS(r,e,i){let s=r.Ms.get(e)||yt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Ms.set(e,s)}class d_{constructor(){this.activeTargetIds=tb()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hS{constructor(){this.vo=new d_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new d_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="ConnectivityMonitor";class g_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(m_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){it(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function cd(){return Yu===null?Yu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="RestConnection",dS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class mS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===ac?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,h){const d=cd(),y=this.Qo(e,i.toUriEncodedString());it(Gf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,h);const{host:_}=new URL(y),A=yd(_);return this.zo(e,y,v,s,A).then((S=>(it(Gf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Ts(Gf,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",s),S}))}jo(e,i,s,o,h,d){return this.Wo(e,i,s,o,h)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const s=dS[e];let o=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection",Pl=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Er extends mS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Er.c_){const e=$_();Pl(e,J_.STAT_EVENT,(i=>{i.stat===$f.PROXY?it(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===$f.NOPROXY&&it(Ye,"STAT_EVENT: detected no buffering proxy")})),Er.c_=!0}}zo(e,i,s,o,h){const d=cd();return new Promise(((y,v)=>{const _=new X_;_.setWithCredentials(!0),_.listenOnce(Z_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Ku.NO_ERROR:const S=_.getResponseJson();it(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Ku.TIMEOUT:it(Ye,`RPC '${e}' ${d} timed out`),v(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const D=_.getStatus();if(it(Ye,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H==null?void 0:H.error;if(J&&J.status&&J.message){const nt=(function(gt){const rt=gt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(rt)>=0?rt:Z.UNKNOWN})(J.status);v(new ot(nt,J.message))}else v(new ot(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);it(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=cd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const _=h.join("");it(Ye,`Creating RPC '${e}' stream ${o}: ${_}`,y);const A=d.createWebChannel(_,y);this.I_(A);let S=!1,D=!1;const H=new gS({Ho:J=>{D?it(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(S||(it(Ye,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),it(Ye,`RPC '${e}' stream ${o} sending:`,J),A.send(J))},Jo:()=>A.close()});return Pl(A,kl.EventType.OPEN,(()=>{D||(it(Ye,`RPC '${e}' stream ${o} transport opened.`),H.i_())})),Pl(A,kl.EventType.CLOSE,(()=>{D||(D=!0,it(Ye,`RPC '${e}' stream ${o} transport closed`),H.o_(),this.E_(A))})),Pl(A,kl.EventType.ERROR,(J=>{D||(D=!0,Ts(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),H.o_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))})),Pl(A,kl.EventType.MESSAGE,(J=>{var nt;if(!D){const et=J.data[0];Pt(!!et,16349);const gt=et,rt=(gt==null?void 0:gt.error)||((nt=gt[0])==null?void 0:nt.error);if(rt){it(Ye,`RPC '${e}' stream ${o} received error:`,rt);const ht=rt.status;let qt=(function(x){const b=be[x];if(b!==void 0)return Iv(b)})(ht),kt=rt.message;ht==="NOT_FOUND"&&kt.includes("database")&&kt.includes("does not exist")&&kt.includes(this.databaseId.database)&&Ts(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),qt===void 0&&(qt=Z.INTERNAL,kt="Unknown error status: "+ht+" with message "+rt.message),D=!0,H.o_(new ot(qt,kt)),A.close()}else it(Ye,`RPC '${e}' stream ${o} received:`,et),H.__(et)}})),Er.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return W_()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(r){return new Er(r)}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(r){return new Eb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er.c_=!1;class Yv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="PersistentStream";class Kv{constructor(e,i,s,o,h,d,y,v){this.Ci=e,this.b_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Yv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ot(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(p_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(it(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yS extends Kv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=bb(this.serializer,e),s=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?vi(d.readTime):yt.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=od(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=id(v)?{documents:wb(h,v)}:{query:Cb(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=zv(h,d.resumeToken);const _=sd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){y.readTime=cc(h,d.snapshotVersion.toTimestamp());const _=sd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=Db(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=od(this.serializer),i.removeTarget=e,this.K_(i)}}class _S extends Kv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Rb(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=od(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>Sb(this.serializer,s)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{}class ES extends vS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,rd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(Z.UNKNOWN,h.toString())}))}jo(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,rd(i,s),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function TS(r,e,i,s){return new ES(r,e,i,s)}class AS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="RemoteStore";class bS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Ss(this)&&(it(As,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await co(_),_.Va.set("Unknown"),_.Ea.delete(4),await wc(_)})(this))}))})),this.Va=new AS(s,o)}}async function wc(r){if(Ss(r))for(const e of r.Ra)await e(!0)}async function co(r){for(const e of r.Ra)await e(!1)}function Xv(r,e){const i=vt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),jd(i)?Ld(i):Mr(i).O_()&&Ud(i,e))}function zd(r,e){const i=vt(r),s=Mr(i);i.Ia.delete(e),s.O_()&&Zv(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ss(i)&&i.Va.set("Unknown"))}function Ud(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Mr(r).Z_(e)}function Zv(r,e){r.da.$e(e),Mr(r).X_(e)}function Ld(r){r.da=new pb({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mr(r).start(),r.Va.ua()}function jd(r){return Ss(r)&&!Mr(r).x_()&&r.Ia.size>0}function Ss(r){return vt(r).Ea.size===0}function Jv(r){r.da=void 0}async function SS(r){r.Va.set("Online")}async function RS(r){r.Ia.forEach(((e,i)=>{Ud(r,e)}))}async function wS(r,e){Jv(r),jd(r)?(r.Va.ha(e),Ld(r)):r.Va.set("Unknown")}async function CS(r,e,i){if(r.Va.set("Online"),e instanceof Mv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(r,e)}catch(s){it(As,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fc(r,s)}else if(e instanceof $u?r.da.Xe(e):e instanceof Ov?r.da.st(e):r.da.tt(e),!i.isEqual(yt.min()))try{const s=await Qv(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.da.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),Zv(h,v);const S=new wa(A.target,v,_,A.sequenceNumber);Ud(h,S)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){it(As,"Failed to raise snapshot:",s),await fc(r,s)}}async function fc(r,e,i){if(!Or(e))throw e;r.Ea.add(1),await co(r),r.Va.set("Offline"),i||(i=()=>Qv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(As,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wc(r)}))}function $v(r,e){return e().catch((i=>fc(r,i,e)))}async function Cc(r){const e=vt(r),i=Ua(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ad;for(;xS(e);)try{const o=await oS(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,DS(e,o)}catch(o){await fc(e,o)}Wv(e)&&t0(e)}function xS(r){return Ss(r)&&r.Ta.length<10}function DS(r,e){r.Ta.push(e);const i=Ua(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function Wv(r){return Ss(r)&&!Ua(r).x_()&&r.Ta.length>0}function t0(r){Ua(r).start()}async function NS(r){Ua(r).ra()}async function VS(r){const e=Ua(r);for(const i of r.Ta)e.ea(i.mutations)}async function IS(r,e,i){const s=r.Ta.shift(),o=xd.from(s,e,i);await $v(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Cc(r)}async function OS(r,e){e&&Ua(r).Y_&&await(async function(s,o){if((function(d){return db(d)&&d!==Z.ABORTED})(o.code)){const h=s.Ta.shift();Ua(s).B_(),await $v(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Cc(s)}})(r,e),Wv(r)&&t0(r)}async function y_(r,e){const i=vt(r);i.asyncQueue.verifyOperationInProgress(),it(As,"RemoteStore received new credentials");const s=Ss(i);i.Ea.add(3),await co(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wc(i)}async function MS(r,e){const i=vt(r);e?(i.Ea.delete(2),await wc(i)):e||(i.Ea.add(2),await co(i),i.Va.set("Unknown"))}function Mr(r){return r.ma||(r.ma=(function(i,s,o){const h=vt(i);return h.sa(),new yS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:SS.bind(null,r),Yo:RS.bind(null,r),t_:wS.bind(null,r),J_:CS.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),jd(r)?Ld(r):r.Va.set("Unknown")):(await r.ma.stop(),Jv(r))}))),r.ma}function Ua(r){return r.fa||(r.fa=(function(i,s,o){const h=vt(i);return h.sa(),new _S(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:NS.bind(null,r),t_:OS.bind(null,r),ta:VS.bind(null,r),na:IS.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Cc(r)):(await r.fa.stop(),r.Ta.length>0&&(it(As,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,y=new Bd(e,i,d,o,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(r,e){if(Fi("AsyncQueue",`${e}: ${r}`),Or(r))return new ot(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{static emptySet(e){return new Tr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=Hl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Tr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.ga=new re(ft.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):mt(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class xr{constructor(e,i,s,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new xr(e,i,Tr.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class US{constructor(){this.queries=v_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=vt(i),h=o.queries;o.queries=v_(),h.forEach(((d,y)=>{for(const v of y.ba)v.onError(s)}))})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function v_(){return new bs((r=>vv(r)),Ec)}async function e0(r,e){const i=vt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(s=2):(h=new zS,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=qd(d,`Initialization of query '${pr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Pd(i)}async function n0(r,e){const i=vt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function LS(r,e){const i=vt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.ba)y.Fa(o)&&(s=!0);d.wa=o}}s&&Pd(i)}function jS(r,e,i){const s=vt(r),o=s.queries.get(e);if(o)for(const h of o.ba)h.onError(i);s.queries.delete(e)}function Pd(r){r.Ca.forEach((e=>{e.next()}))}var hd,E_;(E_=hd||(hd={})).Ma="default",E_.Cache="cache";class i0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=xr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.key=e}}class s0{constructor(e){this.key=e}}class BS{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Dt(),this.mutatedKeys=Dt(),this.eu=Ev(e),this.tu=new Tr(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new __,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const D=o.get(A),H=Tc(this.query,S)?S:null,J=!!D&&this.mutatedKeys.has(D.key),nt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let et=!1;D&&H?D.data.isEqual(H.data)?J!==nt&&(s.track({type:3,doc:H}),et=!0):this.su(D,H)||(s.track({type:2,doc:H}),et=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(y=!0)):!D&&H?(s.track({type:0,doc:H}),et=!0):D&&!H&&(s.track({type:1,doc:D}),et=!0,(v||_)&&(y=!0)),et&&(H?(d=d.add(H),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Ss:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(H,J){const nt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:et})}};return nt(H)-nt(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),o=o??!1;const y=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new xr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new __,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Dt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new s0(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new a0(s))})),i}cu(e){this.Za=e.ks,this.Ya=Dt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return xr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const kd="SyncEngine";class qS{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class PS{constructor(e){this.key=e,this.hu=!1}}class kS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new bs((y=>vv(y)),Ec),this.Iu=new Map,this.Eu=new Set,this.Ru=new re(ft.comparator),this.Au=new Map,this.Vu=new Vd,this.du={},this.mu=new Map,this.fu=Cr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HS(r,e,i=!0){const s=h0(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await r0(s,e,i,!0),o}async function GS(r,e){const i=h0(r);await r0(i,e,!0,!1)}async function r0(r,e,i,s){const o=await uS(r.localStore,yi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await FS(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Xv(r.remoteStore,o),y}async function FS(r,e,i,s,o){r.pu=(S,D,H)=>(async function(nt,et,gt,rt){let ht=et.view.ru(gt);ht.Ss&&(ht=await f_(nt.localStore,et.query,!1).then((({documents:x})=>et.view.ru(x,ht))));const qt=rt&&rt.targetChanges.get(et.targetId),kt=rt&&rt.targetMismatches.get(et.targetId)!=null,Lt=et.view.applyChanges(ht,nt.isPrimaryClient,qt,kt);return A_(nt,et.targetId,Lt.au),Lt.snapshot})(r,S,D,H);const h=await f_(r.localStore,e,!0),d=new BS(e,h.ks),y=d.ru(h.documents),v=uo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,v);A_(r,i,_.au);const A=new qS(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function QS(r,e,i){const s=vt(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!Ec(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ud(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&zd(s.remoteStore,o.targetId),fd(s,o.targetId)})).catch(Ir)):(fd(s,o.targetId),await ud(s.localStore,o.targetId,!0))}async function YS(r,e){const i=vt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),zd(i.remoteStore,s.targetId))}async function KS(r,e,i){const s=e2(r);try{const o=await(function(d,y){const v=vt(d),_=te.now(),A=y.reduce(((H,J)=>H.add(J.key)),Dt());let S,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=Qi(),nt=Dt();return v.xs.getEntries(H,A).next((et=>{J=et,J.forEach(((gt,rt)=>{rt.isValidDocument()||(nt=nt.add(gt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,J))).next((et=>{S=et;const gt=[];for(const rt of y){const ht=ob(rt,S.get(rt.key).overlayedDocument);ht!=null&&gt.push(new Ba(rt.key,ht,fv(ht.value.mapValue),_i.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,gt,y)})).next((et=>{D=et;const gt=et.applyToLocalDocumentSet(S,nt);return v.documentOverlayCache.saveOverlays(H,et.batchId,gt)}))})).then((()=>({batchId:D.batchId,changes:Av(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.du[d.currentUser.toKey()];_||(_=new re(xt)),_=_.insert(y,v),d.du[d.currentUser.toKey()]=_})(s,o.batchId,i),await ho(s,o.changes),await Cc(s.remoteStore)}catch(o){const h=qd(o,"Failed to persist write");i.reject(h)}}async function l0(r,e){const i=vt(r);try{const s=await rS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Pt(d.hu,14607):o.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await ho(i,s,e)}catch(s){await Ir(s)}}function T_(r,e,i){const s=vt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=vt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,S)=>{for(const D of S.ba)D.va(y)&&(_=!0)})),_&&Pd(v)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XS(r,e,i){const s=vt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new re(ft.comparator);d=d.insert(h,Xe.newNoDocument(h,yt.min()));const y=Dt().add(h),v=new Sc(yt.min(),new Map,new re(xt),d,y);await l0(s,v),s.Ru=s.Ru.remove(h),s.Au.delete(e),Hd(s)}else await ud(s.localStore,e,!1).then((()=>fd(s,e,i))).catch(Ir)}async function ZS(r,e){const i=vt(r),s=e.batch.batchId;try{const o=await sS(i.localStore,e);u0(i,s,null),o0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ho(i,o)}catch(o){await Ir(o)}}async function JS(r,e,i){const s=vt(r);try{const o=await(function(d,y){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((S=>(Pt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);u0(s,e,i),o0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ho(s,o)}catch(o){await Ir(o)}}function o0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function u0(r,e,i){const s=vt(r);let o=s.du[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function fd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||c0(r,s)}))}function c0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(zd(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),Hd(r))}function A_(r,e,i){for(const s of i)s instanceof a0?(r.Vu.addReference(s.key,e),$S(r,s)):s instanceof s0?(it(kd,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||c0(r,s.key)):mt(19791,{wu:s})}function $S(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(it(kd,"New document in limbo: "+i),r.Eu.add(s),Hd(r))}function Hd(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ft(se.fromString(e)),s=r.fu.next();r.Au.set(s,new PS(i)),r.Ru=r.Ru.insert(i,s),Xv(r.remoteStore,new wa(yi(vc(i.path)),s,"TargetPurposeLimboResolution",gc.ce))}}async function ho(r,e,i){const s=vt(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{var A;if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Od.Es(v.targetId,_);h.push(S)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(D=>X.forEach(D.Ts,(H=>A.persistence.referenceDelegate.addReference(S,D.targetId,H))).next((()=>X.forEach(D.Is,(H=>A.persistence.referenceDelegate.removeReference(S,D.targetId,H)))))))))}catch(S){if(!Or(S))throw S;it(Md,"Failed to update sequence numbers: "+S)}for(const S of _){const D=S.targetId;if(!S.fromCache){const H=A.vs.get(D),J=H.snapshotVersion,nt=H.withLastLimboFreeSnapshotVersion(J);A.vs=A.vs.insert(D,nt)}}})(s.localStore,h))}async function WS(r,e){const i=vt(r);if(!i.currentUser.isEqual(e)){it(kd,"User change. New user:",e.toKey());const s=await Fv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new ot(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ho(i,s.Ns)}}function t2(r,e){const i=vt(r),s=i.Au.get(e);if(s&&s.hu)return Dt().add(s.key);{let o=Dt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function h0(r){const e=vt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=l0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XS.bind(null,e),e.Pu.J_=LS.bind(null,e.eventManager),e.Pu.yu=jS.bind(null,e.eventManager),e}function e2(r){const e=vt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JS.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return aS(this.persistence,new eS,e.initialUser,this.serializer)}Cu(e){return new Gv(Id.Vi,this.serializer)}Du(e){return new hS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class n2 extends dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Pt(this.persistence.referenceDelegate instanceof hc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new qb(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Gv((s=>hc.Vi(s,i)),this.serializer)}}class dd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WS.bind(null,this.syncEngine),await MS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new US})()}createDatastore(e){const i=Rc(e.databaseInfo.databaseId),s=pS(e.databaseInfo);return TS(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,y){return new bS(s,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>T_(this.syncEngine,i,0)),(function(){return g_.v()?new g_:new fS})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,A){const S=new kS(o,h,d,y,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=vt(o);it(As,"RemoteStore shutting down."),h.Ea.add(5),await co(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}dd.provider={build:()=>new dd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="FirestoreClient";class i2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{it(La,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(La,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=qd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Qf(r,e){r.asyncQueue.verifyOperationInProgress(),it(La,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Fv(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function b_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await a2(r);it(La,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>y_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>y_(e.remoteStore,o))),r._onlineComponents=e}async function a2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(La,"Using user provided OfflineComponentProvider");try{await Qf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Qf(r,new dc)}}else it(La,"Using default OfflineComponentProvider"),await Qf(r,new n2(void 0));return r._offlineComponents}async function d0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(La,"Using user provided OnlineComponentProvider"),await b_(r,r._uninitializedComponentsProvider._online)):(it(La,"Using default OnlineComponentProvider"),await b_(r,new dd))),r._onlineComponents}function s2(r){return d0(r).then((e=>e.syncEngine))}async function md(r){const e=await d0(r),i=e.eventManager;return i.onListen=HS.bind(null,e.syncEngine),i.onUnlisten=QS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YS.bind(null,e.syncEngine),i}function r2(r,e,i,s){const o=new f0(s),h=new i0(e,o,i);return r.asyncQueue.enqueueAndForget((async()=>e0(await md(r),h))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>n0(await md(r),h)))}}function l2(r,e,i={}){const s=new Na;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new f0({next:D=>{A.Nu(),d.enqueueAndForget((()=>n0(h,S)));const H=D.docs.has(y);!H&&D.fromCache?_.reject(new ot(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&D.fromCache&&v&&v.source==="server"?_.reject(new ot(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new i0(vc(y.path),A,{includeMetadataChanges:!0,Ka:!0});return e0(h,S)})(await md(r),r.asyncQueue,e,i,s))),s.promise}function o2(r,e){const i=new Na;return r.asyncQueue.enqueueAndForget((async()=>KS(await s2(r),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="ComponentProvider",S_=new Map;function c2(r,e,i,s,o){return new DA(r,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,m0(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="firestore.googleapis.com",R_=!0;class w_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g0,this.ssl=R_}else this.host=e.host,this.ssl=e.ssl??R_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jb)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_A("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new lA;switch(s.type){case"firstParty":return new hA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=S_.get(i);s&&(it(u2,"Removing Datastore"),S_.delete(i),s.terminate())})(this),Promise.resolve()}}function h2(r,e,i,s={}){var _;r=pi(r,Gd);const o=yd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(OT(`https://${y}`),LT("Firestore",!0)),h.host!==g0&&h.host!==y&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:s};if(!Jl(v,d)&&(r._setSettings(v),s.mockUserToken)){let A,S;if(typeof s.mockUserToken=="string")A=s.mockUserToken,S=Ke.MOCK_USER;else{A=MT(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ke(D)}r._authCredentials=new oA(new ev(A,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xc(this.firestore,e,this._query)}}class we{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(lo(i,we._jsonSchema))return new we(e,s||null,new ft(se.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Re("string",we._jsonSchemaVersion),referencePath:Re("string")};class so extends xc{constructor(e,i,s){super(e,i,vc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new ft(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function f2(r,e,...i){if(r=Va(r),arguments.length===1&&(e=Ed.newId()),yA("doc","path",e),r instanceof Gd){const s=se.fromString(e,...i);return qy(s),new we(r,null,new ft(s))}{if(!(r instanceof we||r instanceof so))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(e,...i));return qy(s),new we(r.firestore,r instanceof so?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="AsyncQueue";class x_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Yv(this,"async_queue_retry"),this._c=()=>{const s=Ff();s&&it(C_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Ff();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ff();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Or(e))throw e;it(C_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",D_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Bd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&mt(47125,{Pc:D_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function D_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Dr extends Gd{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new x_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x_(e),this._firestoreClient=void 0,await e}}}function d2(r,e){const i=typeof r=="object"?r:Y1(),s=typeof r=="string"?r:ac,o=k1(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=VT("firestore");h&&h2(o,...h)}return o}function Fd(r){if(r._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||m2(r),r._firestoreClient}function m2(r){var s,o,h,d;const e=r._freezeSettings(),i=c2(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,e);r._componentsProvider||(h=e.localCache)!=null&&h._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new i2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(v){const _=v==null?void 0:v._online.build();return{_offline:v==null?void 0:v._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Fe.fromBase64String(e))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new In(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lo(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:Re("string",In._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(lo(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:Re("string",Ei._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lo(e,Qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Qn(e.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qn._jsonSchemaVersion="firestore/vectorValue/1.0",Qn._jsonSchema={type:Re("string",Qn._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=/^__.*__$/;class p2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms):new oo(e,this.data,i,this.fieldTransforms)}}class p0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function y0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:r})}}class Nc{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Nc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return mc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(y0(this.dataSource)&&g2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class y2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Rc(e)}createContext(e,i,s,o=!1){return new Nc({dataSource:e,methodName:i,targetDoc:s,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _0(r){const e=r._freezeSettings(),i=Rc(r._databaseId);return new y2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function _2(r,e,i,s,o,h={}){const d=r.createContext(h.merge||h.mergeFields?2:0,e,i,o);Kd("Data must be an object, but it was:",d,s);const y=v0(s,d);let v,_;if(h.merge)v=new _n(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const D=ro(e,S,i);if(!d.contains(D))throw new ot(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);A0(A,D)||A.push(D)}v=new _n(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new p2(new on(y),v,_)}class Vc extends Dc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vc}}function v2(r,e,i){return new Nc({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Yd extends Dc{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=v2(this,e,!0),s=this.Ac.map((h=>fo(h,i))),o=new wr(s);return new ab(e.path,o)}isEqual(e){return e instanceof Yd&&Jl(this.Ac,e.Ac)}}function E2(r,e,i,s){const o=r.createContext(1,e,i);Kd("Data must be an object, but it was:",o,s);const h=[],d=on.empty();ja(s,((v,_)=>{const A=T0(e,v,i);_=Va(_);const S=o.childContextForFieldPath(A);if(_ instanceof Vc)h.push(A);else{const D=fo(_,S);D!=null&&(h.push(A),d.set(A,D))}}));const y=new _n(h);return new p0(d,y,o.fieldTransforms)}function T2(r,e,i,s,o,h){const d=r.createContext(1,e,i),y=[ro(e,s,i)],v=[o];if(h.length%2!=0)throw new ot(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)y.push(ro(e,h[D])),v.push(h[D+1]);const _=[],A=on.empty();for(let D=y.length-1;D>=0;--D)if(!A0(_,y[D])){const H=y[D];let J=v[D];J=Va(J);const nt=d.childContextForFieldPath(H);if(J instanceof Vc)_.push(H);else{const et=fo(J,nt);et!=null&&(_.push(H),A.set(H,et))}}const S=new _n(_);return new p0(A,S,d.fieldTransforms)}function fo(r,e){if(E0(r=Va(r)))return Kd("Unsupported field value:",e,r),v0(r,e);if(r instanceof Dc)return(function(s,o){if(!y0(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const y of s){let v=fo(y,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=Va(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=te.fromDate(s);return{timestampValue:cc(o.serializer,h)}}if(s instanceof te){const h=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cc(o.serializer,h)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:zv(o.serializer,s._byteString)};if(s instanceof we){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Nd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Qn)return(function(d,y){const v=d instanceof Qn?d.toArray():d;return{mapValue:{fields:{[cv]:{stringValue:hv},[sc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw y.createError("VectorValues must only contain numeric values.");return Cd(y.serializer,A)}))}}}}}})(s,o);if(kv(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Td(s)}`)})(r,e)}function v0(r,e){const i={};return av(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(r,((s,o)=>{const h=fo(o,e.childContextForField(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function E0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof Ei||r instanceof In||r instanceof we||r instanceof Dc||r instanceof Qn||kv(r))}function Kd(r,e,i){if(!E0(i)||!nv(i)){const s=Td(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function ro(r,e,i){if((e=Va(e))instanceof Qd)return e._internalPath;if(typeof e=="string")return T0(r,e);throw mc("Field path arguments must be of type string or ",r,!1,void 0,i)}const A2=new RegExp("[~\\*/\\[\\]]");function T0(r,e,i){if(e.search(A2)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Qd(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function mc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new ot(Z.INVALID_ARGUMENT,y+r+v)}function A0(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{convertValue(e,i="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ja(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){var s,o,h;const i=(h=(o=(s=e.fields)==null?void 0:s[sc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>de(d.doubleValue)));return new Qn(i)}convertGeoPoint(e){return new Ei(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=yc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(eo(e));default:return null}}convertTimestamp(e){const i=Oa(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=se.fromString(e);Pt(Pv(s),9688,{name:e});const o=new no(s.get(1),s.get(3)),h=new ft(s.popFirst(5));return o.isEqual(i)||Fi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends b2{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}function S2(...r){return new Yd("arrayUnion",r)}const N_="@firebase/firestore",V_="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(ro("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class R2 extends S0{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function C2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Fl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vs extends S0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(ro("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:Re("string",vs._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Wu extends vs{data(e={}){return super.data(e)}}class Ar{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Wu(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Wu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Fl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Wu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Fl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:x2(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ar._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar._jsonSchemaVersion="firestore/querySnapshot/1.0",Ar._jsonSchema={type:Re("string",Ar._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r){r=pi(r,we);const e=pi(r.firestore,Dr),i=Fd(e);return l2(i,r._key).then((s=>x0(e,r,s)))}function w0(r,e,i){r=pi(r,we);const s=pi(r.firestore,Dr),o=C2(r.converter,e),h=_0(s);return C0(s,[_2(h,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,_i.none())])}function Ic(r,e,i,...s){r=pi(r,we);const o=pi(r.firestore,Dr),h=_0(o);let d;return d=typeof(e=Va(e))=="string"||e instanceof Qd?T2(h,"updateDoc",r._key,e,i,s):E2(h,"updateDoc",r._key,e),C0(o,[d.toMutation(r._key,_i.exists(!0))])}function D2(r,...e){var _,A,S;r=Va(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||I_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(I_(e[s])){const D=e[s];e[s]=(_=D.next)==null?void 0:_.bind(D),e[s+1]=(A=D.error)==null?void 0:A.bind(D),e[s+2]=(S=D.complete)==null?void 0:S.bind(D)}let h,d,y;if(r instanceof we)d=pi(r.firestore,Dr),y=vc(r._key.path),h={next:D=>{e[s]&&e[s](x0(d,r,D))},error:e[s+1],complete:e[s+2]};else{const D=pi(r,xc);d=pi(D.firestore,Dr),y=D._query;const H=new b0(d);h={next:J=>{e[s]&&e[s](new Ar(d,H,D,J))},error:e[s+1],complete:e[s+2]},w2(r._query)}const v=Fd(d);return r2(v,y,o,h)}function C0(r,e){const i=Fd(r);return o2(i,e)}function x0(r,e,i){const s=i.docs.get(e._key),o=new b0(r);return new vs(r,o,e._key,s,new Fl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){rA(Q1),nc(new $l("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new Dr(new uA(s.getProvider("auth-internal")),new fA(d,s.getProvider("app-check-internal")),NA(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),vr(N_,V_,e),vr(N_,V_,"esm2020")})();const N2={apiKey:"AIzaSyDYx7-Z2v_m9C800pk_DR4EebxfWMALT4o",authDomain:"juego-mediacion.firebaseapp.com",projectId:"juego-mediacion",storageBucket:"juego-mediacion.firebasestorage.app",messagingSenderId:"1012471387747",appId:"1:1012471387747:web:ba91269ce26bbf7e000a56",measurementId:"G-BMD0EMW4S7"},V2=F_(N2),I2=d2(V2);var Fn=(r=>(r.LOBBY="LOBBY",r.PLAYING="PLAYING",r.PODIUM="PODIUM",r))(Fn||{});const O2="session_default",Hi=f2(I2,"games",O2),M2=async()=>{const r={phase:Fn.LOBBY,teams:[],commentary:"Bienvenidos a La Concordia! Esperando equipos..."};await w0(Hi,r)},O_=async r=>{await Ic(Hi,{phase:r})},z2=async r=>{await Ic(Hi,{commentary:r})},U2=async r=>{(await R0(Hi)).exists()?await Ic(Hi,{teams:S2(r)}):await w0(Hi,{phase:Fn.LOBBY,teams:[r],commentary:"Esperando al administrador..."})},M_=async(r,e)=>{const i=await R0(Hi);if(i.exists()){const o=i.data().teams.map(h=>h.id===r?{...h,...e}:h);await Ic(Hi,{teams:o})}},L2=r=>D2(Hi,e=>{e.exists()?r(e.data()):r({phase:Fn.LOBBY,teams:[],commentary:"Cargando..."})}),j2=({team:r,onEvaluateLevel3:e})=>{var gt;const[i,s]=Se.useState(""),[o,h]=Se.useState(!1),[d,y]=Se.useState(null),[v,_]=Se.useState(!1);if(!ki[r.currentChallengeIndex]&&!r.isFinished)return O.jsx("div",{className:"h-full flex items-center justify-center bg-slate-900 text-white p-6 text-center",children:O.jsxs("div",{className:"animate-pulse",children:[O.jsx("p",{className:"text-4xl mb-4",children:""}),O.jsx("h2",{className:"text-2xl font-bold",children:"Esperando al anfitrin..."}),O.jsx("p",{className:"text-slate-400 mt-2",children:"Mira la pantalla gigante"})]})});const A=ki[r.currentChallengeIndex]||ki[ki.length-1],S=rt=>{y({type:"error",msg:rt}),_(!0),setTimeout(()=>_(!1),500),setTimeout(()=>y(null),2e3)},D=(rt,ht)=>{y({type:"success",msg:rt}),setTimeout(()=>{y(null),ht()},1500)},H=async(rt,ht)=>{const qt=r.currentChallengeIndex+1,kt=qt>=ki.length;await M_(r.id,{currentChallengeIndex:qt,score:r.score+rt,answers:{...r.answers,[A.id]:ht},isFinished:kt}),s("")},J=rt=>{o||d||(rt===A.correctAnswer?D("Excelente Decisin!",()=>H(A.points,rt)):S("Esa no es la mejor estrategia. Intenta de nuevo."))},nt=()=>{if(!i.trim())return;const rt=i.trim().toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),ht=(A.correctAnswer||"").toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");rt===ht?D("Lenguaje Limpiado!",()=>H(A.points,rt)):S(`Incorrecto. Pista: Es una sola palabra relacionada con '${ht.substring(0,1)}...'`)},et=async()=>{if(i.length<15){S("La solucin es muy corta. Detalla ms para ganar.");return}h(!0);const rt=await e(i);h(!1),await M_(r.id,{currentChallengeIndex:r.currentChallengeIndex+1,isFinished:!0,score:r.score+rt.score,answers:{...r.answers,[A.id]:i},finalFeedback:rt.feedback})};return r.isFinished?O.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center bg-gradient-to-br from-emerald-800 to-teal-900 text-white animate-fade-in",children:[O.jsx("div",{className:"text-7xl mb-6 animate-bounce",children:""}),O.jsx("h2",{className:"text-4xl font-black mb-4 font-heading",children:"MISIN CUMPLIDA!"}),O.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Han salvado el barrio con sus habilidades de mediacin."}),O.jsxs("div",{className:"bg-black/20 p-6 rounded-2xl w-full border border-white/10 backdrop-blur-sm",children:[O.jsx("p",{className:"text-xs uppercase tracking-widest text-emerald-300 mb-2",children:"Evaluacin Final"}),O.jsxs("p",{className:"italic font-medium",children:['"',r.finalFeedback,'"']})]}),O.jsx("div",{className:"mt-12 animate-pulse",children:O.jsx("p",{className:"text-sm",children:"Miren la pantalla gigante para ver los ganadores..."})})]}):O.jsxs("div",{className:`h-full flex flex-col bg-slate-50 text-slate-900 overflow-hidden relative ${v?"animate-[shake_0.5s_ease-in-out]":""}`,children:[O.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
      `}),O.jsxs("div",{className:"bg-indigo-600 px-4 py-3 text-white shadow-lg z-10 flex justify-between items-center",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("span",{className:"text-2xl filter drop-shadow",children:r.avatar}),O.jsx("span",{className:"font-bold text-lg truncate max-w-[150px]",children:r.name})]}),O.jsxs("div",{className:"flex flex-col items-end",children:[O.jsx("span",{className:"text-xs text-indigo-200 uppercase font-bold",children:"Progreso"}),O.jsx("div",{className:"w-24 h-2 bg-indigo-900 rounded-full mt-1",children:O.jsx("div",{className:"h-full bg-yellow-400 rounded-full transition-all duration-500",style:{width:`${r.currentChallengeIndex/ki.length*100}%`}})})]})]}),O.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-20",children:O.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-b-4 border-slate-200 overflow-hidden",children:[O.jsxs("div",{className:"bg-slate-100 p-4 border-b border-slate-200 flex justify-between items-center",children:[O.jsxs("span",{className:"font-bold text-slate-500 uppercase text-xs tracking-wider",children:["Misin ",r.currentChallengeIndex+1," de ",ki.length]}),O.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-2 py-1 rounded text-xs font-bold",children:["+",A.points," pts"]})]}),O.jsxs("div",{className:"p-6",children:[O.jsx("h2",{className:"text-2xl font-black text-indigo-900 mb-2 leading-tight",children:A.title}),O.jsx("p",{className:"text-slate-600 mb-6 text-sm md:text-base",children:A.description}),O.jsx("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100 mb-6",children:O.jsxs("p",{className:"font-bold text-indigo-900 text-lg text-center",children:['"',A.question,'"']})}),O.jsxs("div",{className:"space-y-3",children:[A.type==="SELECT"&&((gt=A.options)==null?void 0:gt.map((rt,ht)=>O.jsx("button",{onClick:()=>J(rt),disabled:!!d,className:"w-full text-left p-4 rounded-xl bg-white border-2 border-slate-200 hover:border-indigo-500 hover:bg-indigo-50 active:scale-98 transition-all font-semibold text-slate-700 shadow-sm",children:rt},ht))),A.type==="WORD"&&O.jsxs("div",{className:"space-y-4",children:[O.jsx("input",{type:"text",value:i,onChange:rt=>s(rt.target.value),placeholder:A.placeholder,className:"w-full p-4 text-center text-xl font-bold border-2 border-slate-300 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 outline-none uppercase tracking-widest"}),O.jsx("button",{onClick:nt,className:"w-full py-4 bg-indigo-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 active:translate-y-1 transition-all",children:"ENVIAR RESPUESTA"})]}),A.type==="OPEN"&&O.jsxs("div",{className:"space-y-4",children:[O.jsx("textarea",{value:i,onChange:rt=>s(rt.target.value),placeholder:A.placeholder,className:"w-full h-32 p-4 text-base border-2 border-slate-300 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 outline-none resize-none"}),O.jsx("button",{onClick:et,disabled:o,className:"w-full py-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-bold rounded-xl shadow-lg shadow-emerald-200 active:translate-y-1 transition-all flex justify-center items-center",children:o?"ANALIZANDO...":"PRESENTAR SOLUCIN FINAL"})]})]})]})]})}),d&&O.jsx("div",{className:`absolute inset-0 z-50 flex items-center justify-center p-6 backdrop-blur-sm ${d.type==="success"?"bg-emerald-500/20":"bg-red-500/20"}`,children:O.jsxs("div",{className:`p-6 rounded-2xl shadow-2xl text-center transform scale-110 transition-all border-4 ${d.type==="success"?"bg-white border-emerald-500 text-emerald-700":"bg-white border-red-500 text-red-700"}`,children:[O.jsx("div",{className:"text-5xl mb-2",children:d.type==="success"?"":""}),O.jsx("h3",{className:"text-2xl font-black mb-1",children:d.type==="success"?"CORRECTO!":"OUCH!"}),O.jsx("p",{className:"font-medium",children:d.msg})]})})]})},B2=({teams:r,bestSolutions:e})=>{const[i,s]=Se.useState(!1),o=[...r].sort((d,y)=>y.score-d.score).slice(0,3),h=[o[1]||null,o[0]||null,o[2]||null];return Se.useEffect(()=>{s(!0)},[]),O.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[i&&O.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(50)].map((d,y)=>O.jsx("div",{className:"absolute w-2 h-2 bg-red-500",style:{left:`${Math.random()*100}%`,top:"-10px",backgroundColor:["#FFD700","#FF0000","#00FF00","#0000FF","#FF00FF"][Math.floor(Math.random()*5)],animation:`fall ${2+Math.random()*3}s linear infinite`,animationDelay:`${Math.random()*5}s`}},y))}),O.jsx("style",{children:`
        @keyframes fall {
          to { transform: translateY(100vh) rotate(360deg); }
        }
      `}),O.jsx("h1",{className:"text-5xl md:text-7xl text-yellow-400 display-font mb-8 text-center drop-shadow-lg z-10",children:"HROES DE LA CONVIVENCIA!"}),O.jsx("div",{className:"flex items-end justify-center gap-2 md:gap-8 mb-16 w-full max-w-4xl z-10",children:h.map((d,y)=>{if(!d)return O.jsx("div",{className:"w-1/3"},y);let v="h-32 md:h-48",_="bg-amber-700",A="3",S="scale-90";return y===0?(v="h-48 md:h-64",_="bg-slate-400",A="2",S="scale-95"):y===1&&(v="h-64 md:h-80",_="bg-yellow-500",A="1",S="scale-110 z-20"),O.jsxs("div",{className:`flex flex-col items-center flex-1 transition-transform ${S}`,children:[O.jsxs("div",{className:"mb-4 text-center animate-bounce",children:[O.jsx("span",{className:"text-4xl md:text-6xl filter drop-shadow-lg",children:d.avatar}),O.jsx("h3",{className:"font-bold text-lg md:text-2xl mt-2 text-white bg-black/50 px-3 rounded-full",children:d.name}),O.jsxs("p",{className:"text-yellow-300 font-mono",children:[d.score," pts"]})]}),O.jsxs("div",{className:`w-full ${v} ${_} rounded-t-lg shadow-2xl border-t-4 border-white/20 flex items-start justify-center pt-4 relative`,children:[O.jsx("span",{className:"text-6xl font-black text-black/20 select-none",children:A}),y===1&&O.jsx("div",{className:"absolute -top-16 text-yellow-400 text-6xl animate-pulse",children:""})]})]},d.id)})}),O.jsxs("div",{className:"w-full max-w-5xl bg-slate-800/80 rounded-2xl p-6 md:p-8 backdrop-blur z-10 border border-slate-600",children:[O.jsx("h2",{className:"text-2xl text-emerald-400 font-bold mb-6 text-center",children:" Soluciones que Transformaron el Barrio"}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((d,y)=>O.jsxs("div",{className:"bg-slate-700 p-4 rounded-xl border border-slate-500",children:[O.jsxs("div",{className:"flex justify-between mb-2",children:[O.jsxs("span",{className:"text-xs uppercase text-slate-400 font-bold",children:["Equipo: ",d.teamName]}),O.jsx("span",{className:"text-xs text-yellow-400",children:" Destacado"})]}),O.jsxs("p",{className:"text-white italic mb-3",children:['"',d.solution,'"']}),O.jsxs("div",{className:"text-sm text-emerald-300 border-t border-slate-600 pt-2",children:["Juez IA: ",d.feedback]})]},y))})]}),O.jsx("div",{className:"mt-8 text-center z-10",children:O.jsx("p",{className:"text-slate-400 text-sm",children:"El equipo ganador debe acercarse por sus dulces "})})]})},z_=["{LEADER} est liderando el cambio en el barrio con mano firme!","Increble velocidad de {LEADER}, pero {LAGGING} no se rinde!","La tensin se siente en el aire! Lograrn el acuerdo a tiempo?","Vamos equipos! La comunicacin efectiva es la clave del xito.","{LEADER} demuestra que hablar es mucho mejor que gritar!","Cuidado con las respuestas impulsivas, piensen en Ganar-Ganar!","Qu gran ejemplo de convivencia nos est dando {LEADER}!","An queda tiempo para remontar, vamos {LAGGING}, el barrio los necesita!","Esto es mediacin de alto nivel! Qu competencia!","{LEADER} va disparado hacia el podio de la paz!"],U_=["Excelente propuesta Ganar-Ganar!","Muy creativa solucin, ambos vecinos estarn felices.","Gran enfoque en los intereses de ambas partes.","Justo lo que el barrio necesitaba: dilogo.","Una solucin prctica y emptica. Bien hecho!"],q2=["acuerdo","turnos","compartir","limpiar","ayuda","ambos","dialogo","respeto","horario"],P2=async r=>{if(r.length===0)return"Bienvenidos a la competencia por la convivencia!";const e=[...r].sort((h,d)=>d.score-h.score),i=e[0],s=e[e.length-1];return z_[Math.floor(Math.random()*z_.length)].replace("{LEADER}",i.name).replace("{LAGGING}",s.name)},k2=async r=>{await new Promise(y=>setTimeout(y,1e3));const e=r.toLowerCase(),i=Math.min(r.length*2,100);let s=0;q2.forEach(y=>{e.includes(y)&&(s+=30)});const o=Math.floor(Math.random()*40),h=Math.min(100+i+s+o,300),d=U_[Math.floor(Math.random()*U_.length)];return{score:h,feedback:d}},H2=()=>{const[r,e]=Se.useState("landing"),[i,s]=Se.useState(Fn.LOBBY),[o,h]=Se.useState([]),[d,y]=Se.useState("Cargando..."),[v,_]=Se.useState(null);Se.useEffect(()=>{const H=L2(J=>{s(J.phase),h(J.teams||[]),y(J.commentary||"")});return()=>H()},[]),Se.useEffect(()=>{if(r!=="admin"||i!==Fn.PLAYING)return;if(o.length>0&&o.every(J=>J.isFinished)){setTimeout(()=>O_(Fn.PODIUM),4e3);return}const H=setInterval(async()=>{const J=await P2(o);z2(J)},1e4);return()=>clearInterval(H)},[r,i,o]);const A=async()=>{e("admin"),await M2()},S=()=>{O_(Fn.PLAYING)},D=async(H,J)=>{const nt={id:Math.random().toString(36).substr(2,9),name:H,avatar:J,currentChallengeIndex:0,score:0,answers:{},isFinished:!1};await U2(nt),_(nt.id)};if(r==="landing")return O.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center gap-8 p-4",children:[O.jsx("h1",{className:"text-4xl text-yellow-400 display-font mb-4 text-center",children:"Barrio La Concordia"}),O.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[O.jsxs("button",{onClick:A,className:"w-64 h-40 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl flex flex-col items-center justify-center gap-2 shadow-xl transition-transform hover:scale-105",children:[O.jsx("span",{className:"text-4xl",children:""}),O.jsx("span",{className:"font-bold text-xl",children:"PROYECTOR (Clase)"}),O.jsx("span",{className:"text-xs opacity-70",children:"Para el Docente"})]}),O.jsxs("button",{onClick:()=>e("player"),className:"w-64 h-40 bg-emerald-600 hover:bg-emerald-700 text-white rounded-2xl flex flex-col items-center justify-center gap-2 shadow-xl transition-transform hover:scale-105",children:[O.jsx("span",{className:"text-4xl",children:""}),O.jsx("span",{className:"font-bold text-xl",children:"SOY UN EQUIPO"}),O.jsx("span",{className:"text-xs opacity-70",children:"Para los Alumnos"})]})]})]});if(r==="admin"){if(i===Fn.LOBBY)return O.jsx(_T,{teams:o,onStart:S});if(i===Fn.PODIUM){const H=o.filter(J=>J.answers[6]).map(J=>({teamName:J.name,solution:J.answers[6]||"",feedback:J.finalFeedback||"Excelente"})).slice(0,3);return O.jsx(B2,{teams:o,bestSolutions:H})}return O.jsx(vT,{teams:o,commentary:d})}if(r==="player"){if(!v)return O.jsx(ET,{onJoin:D});const H=o.find(J=>J.id===v);return H?i===Fn.LOBBY?O.jsxs("div",{className:"min-h-screen bg-indigo-900 flex flex-col items-center justify-center text-white p-8 text-center animate-pulse",children:[O.jsx("div",{className:"text-6xl mb-4",children:H.avatar}),O.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Hola, ",H.name,"!"]}),O.jsx("p",{children:"Ya ests conectado."}),O.jsx("p",{className:"mt-4 text-emerald-300 font-bold",children:"Espera a que el profesor inicie el juego en la pantalla."})]}):O.jsx(j2,{team:H,onEvaluateLevel3:k2}):O.jsx("div",{className:"text-white p-8",children:"Error: Equipo no encontrado. Intenta recargar."})}return O.jsx("div",{children:"Error de estado"})},D0=document.getElementById("root");if(!D0)throw new Error("Could not find root element to mount to");const G2=yT.createRoot(D0);G2.render(O.jsx(uT.StrictMode,{children:O.jsx(H2,{})}));
