(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function L_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var If={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function rT(){if(gy)return Bl;gy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Bl.Fragment=e,Bl.jsx=i,Bl.jsxs=i,Bl}var py;function lT(){return py||(py=1,If.exports=rT()),If.exports}var R=lT(),Of={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function oT(){if(yy)return Tt;yy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=D&&O[D]||O["@@iterator"],typeof O=="function"?O:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function gt(O,K,at){this.props=O,this.context=K,this.refs=$,this.updater=at||et}gt.prototype.isReactComponent={},gt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},gt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function yt(){}yt.prototype=gt.prototype;function vt(O,K,at){this.props=O,this.context=K,this.refs=$,this.updater=at||et}var Bt=vt.prototype=new yt;Bt.constructor=vt,W(Bt,gt.prototype),Bt.isPureReactComponent=!0;var Pt=Array.isArray;function lt(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,K,at){var Q=at.ref;return{$$typeof:r,type:O,key:K,ref:Q!==void 0?Q:null,props:at}}function M(O,K){return C(O.type,K,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function j(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(at){return K[at]})}var x=/\/+/g;function Wt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):K.toString(36)}function oe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(lt,lt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,at,Q,tt){var ot=typeof O;(ot==="undefined"||ot==="boolean")&&(O=null);var _t=!1;if(O===null)_t=!0;else switch(ot){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(O.$$typeof){case r:case e:_t=!0;break;case b:return _t=O._init,G(_t(O._payload),K,at,Q,tt)}}if(_t)return tt=tt(O),_t=Q===""?"."+Wt(O,0):Q,Pt(tt)?(at="",_t!=null&&(at=_t.replace(x,"$&/")+"/"),G(tt,K,at,"",function(Pa){return Pa})):tt!=null&&(V(tt)&&(tt=M(tt,at+(tt.key==null||O&&O.key===tt.key?"":(""+tt.key).replace(x,"$&/")+"/")+_t)),K.push(tt)),1;_t=0;var he=Q===""?".":Q+":";if(Pt(O))for(var te=0;te<O.length;te++)Q=O[te],ot=he+Wt(Q,te),_t+=G(Q,K,at,ot,tt);else if(te=H(O),typeof te=="function")for(O=te.call(O),te=0;!(Q=O.next()).done;)Q=Q.value,ot=he+Wt(Q,te++),_t+=G(Q,K,at,ot,tt);else if(ot==="object"){if(typeof O.then=="function")return G(oe(O),K,at,Q,tt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function it(O,K,at){if(O==null)return O;var Q=[],tt=0;return G(O,Q,"","",function(ot){return K.call(at,ot,tt++)}),Q}function ht(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(at){(O._status===0||O._status===-1)&&(O._status=1,O._result=at)},function(at){(O._status===0||O._status===-1)&&(O._status=2,O._result=at)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var xt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},jt={map:it,forEach:function(O,K,at){it(O,function(){K.apply(this,arguments)},at)},count:function(O){var K=0;return it(O,function(){K++}),K},toArray:function(O){return it(O,function(K){return K})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=S,Tt.Children=jt,Tt.Component=gt,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=vt,Tt.StrictMode=s,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,K,at){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Q=W({},O.props),tt=O.key;if(K!=null)for(ot in K.key!==void 0&&(tt=""+K.key),K)!A.call(K,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&K.ref===void 0||(Q[ot]=K[ot]);var ot=arguments.length-2;if(ot===1)Q.children=at;else if(1<ot){for(var _t=Array(ot),he=0;he<ot;he++)_t[he]=arguments[he+2];Q.children=_t}return C(O.type,tt,Q)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},Tt.createElement=function(O,K,at){var Q,tt={},ot=null;if(K!=null)for(Q in K.key!==void 0&&(ot=""+K.key),K)A.call(K,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(tt[Q]=K[Q]);var _t=arguments.length-2;if(_t===1)tt.children=at;else if(1<_t){for(var he=Array(_t),te=0;te<_t;te++)he[te]=arguments[te+2];tt.children=he}if(O&&O.defaultProps)for(Q in _t=O.defaultProps,_t)tt[Q]===void 0&&(tt[Q]=_t[Q]);return C(O,ot,tt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:p,render:O}},Tt.isValidElement=V,Tt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ht}},Tt.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},Tt.startTransition=function(O){var K=N.T,at={};N.T=at;try{var Q=O(),tt=N.S;tt!==null&&tt(at,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(lt,xt)}catch(ot){xt(ot)}finally{K!==null&&at.types!==null&&(K.types=at.types),N.T=K}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(O){return N.H.use(O)},Tt.useActionState=function(O,K,at){return N.H.useActionState(O,K,at)},Tt.useCallback=function(O,K){return N.H.useCallback(O,K)},Tt.useContext=function(O){return N.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,K){return N.H.useDeferredValue(O,K)},Tt.useEffect=function(O,K){return N.H.useEffect(O,K)},Tt.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(O,K,at){return N.H.useImperativeHandle(O,K,at)},Tt.useInsertionEffect=function(O,K){return N.H.useInsertionEffect(O,K)},Tt.useLayoutEffect=function(O,K){return N.H.useLayoutEffect(O,K)},Tt.useMemo=function(O,K){return N.H.useMemo(O,K)},Tt.useOptimistic=function(O,K){return N.H.useOptimistic(O,K)},Tt.useReducer=function(O,K,at){return N.H.useReducer(O,K,at)},Tt.useRef=function(O){return N.H.useRef(O)},Tt.useState=function(O){return N.H.useState(O)},Tt.useSyncExternalStore=function(O,K,at){return N.H.useSyncExternalStore(O,K,at)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.4",Tt}var _y;function gd(){return _y||(_y=1,Of.exports=oT()),Of.exports}var Ht=gd();const uT=L_(Ht);var Mf={exports:{}},Pl={},zf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function cT(){return vy||(vy=1,(function(r){function e(G,it){var ht=G.length;G.push(it);t:for(;0<ht;){var xt=ht-1>>>1,jt=G[xt];if(0<o(jt,it))G[xt]=it,G[ht]=jt,ht=xt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var it=G[0],ht=G.pop();if(ht!==it){G[0]=ht;t:for(var xt=0,jt=G.length,O=jt>>>1;xt<O;){var K=2*(xt+1)-1,at=G[K],Q=K+1,tt=G[Q];if(0>o(at,ht))Q<jt&&0>o(tt,at)?(G[xt]=tt,G[Q]=ht,xt=Q):(G[xt]=at,G[K]=ht,xt=K);else if(Q<jt&&0>o(tt,ht))G[xt]=tt,G[Q]=ht,xt=Q;else break t}}return it}function o(G,it){var ht=G.sortIndex-it.sortIndex;return ht!==0?ht:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],b=1,S=null,D=3,H=!1,et=!1,W=!1,$=!1,gt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;function Bt(G){for(var it=i(_);it!==null;){if(it.callback===null)s(_);else if(it.startTime<=G)s(_),it.sortIndex=it.expirationTime,e(v,it);else break;it=i(_)}}function Pt(G){if(W=!1,Bt(G),!et)if(i(v)!==null)et=!0,lt||(lt=!0,j());else{var it=i(_);it!==null&&oe(Pt,it.startTime-G)}}var lt=!1,N=-1,A=5,C=-1;function M(){return $?!0:!(r.unstable_now()-C<A)}function V(){if($=!1,lt){var G=r.unstable_now();C=G;var it=!0;try{t:{et=!1,W&&(W=!1,yt(N),N=-1),H=!0;var ht=D;try{e:{for(Bt(G),S=i(v);S!==null&&!(S.expirationTime>G&&M());){var xt=S.callback;if(typeof xt=="function"){S.callback=null,D=S.priorityLevel;var jt=xt(S.expirationTime<=G);if(G=r.unstable_now(),typeof jt=="function"){S.callback=jt,Bt(G),it=!0;break e}S===i(v)&&s(v),Bt(G)}else s(v);S=i(v)}if(S!==null)it=!0;else{var O=i(_);O!==null&&oe(Pt,O.startTime-G),it=!1}}break t}finally{S=null,D=ht,H=!1}it=void 0}}finally{it?j():lt=!1}}}var j;if(typeof vt=="function")j=function(){vt(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Wt=x.port2;x.port1.onmessage=V,j=function(){Wt.postMessage(null)}}else j=function(){gt(V,0)};function oe(G,it){N=gt(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(G){switch(D){case 1:case 2:case 3:var it=3;break;default:it=D}var ht=D;D=it;try{return G()}finally{D=ht}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=D;D=G;try{return it()}finally{D=ht}},r.unstable_scheduleCallback=function(G,it,ht){var xt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?xt+ht:xt):ht=xt,G){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ht+jt,G={id:b++,callback:it,priorityLevel:G,startTime:ht,expirationTime:jt,sortIndex:-1},ht>xt?(G.sortIndex=ht,e(_,G),i(v)===null&&G===i(_)&&(W?(yt(N),N=-1):W=!0,oe(Pt,ht-xt))):(G.sortIndex=jt,e(v,G),et||H||(et=!0,lt||(lt=!0,j()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var it=D;return function(){var ht=D;D=it;try{return G.apply(this,arguments)}finally{D=ht}}}})(jf)),jf}var Ey;function hT(){return Ey||(Ey=1,zf.exports=cT()),zf.exports}var Lf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function fT(){if(Ty)return Qe;Ty=1;var r=gd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,b)},Qe.flushSync=function(v){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=b,s.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,S=p(b,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:H}):b==="script"&&s.d.X(v,{crossOrigin:S,integrity:D,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=p(b,_.crossOrigin);s.d.L(v,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=p(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Qe.requestFormReset=function(v){s.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.4",Qe}var by;function dT(){if(by)return Lf.exports;by=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lf.exports=fT(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function mT(){if(Ay)return Pl;Ay=1;var r=hT(),e=gd(),i=dT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),vt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Pt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Wt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case gt:return"Profiler";case $:return"StrictMode";case Pt:return"Suspense";case lt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case vt:return t.displayName||"Context";case yt:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Wt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Wt(t(n))}catch{}}return null}var oe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},xt=[],jt=-1;function O(t){return{current:t}}function K(t){0>jt||(t.current=xt[jt],xt[jt]=null,jt--)}function at(t,n){jt++,xt[jt]=t.current,t.current=n}var Q=O(null),tt=O(null),ot=O(null),_t=O(null);function he(t,n){switch(at(ot,n),at(tt,t),at(Q,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Up(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Up(n),t=Bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(Q),at(Q,t)}function te(){K(Q),K(tt),K(ot)}function Pa(t){t.memoizedState!==null&&at(_t,t);var n=Q.current,a=Bp(n,t.type);n!==a&&(at(tt,t),at(Q,a))}function Rs(t){tt.current===t&&(K(Q),K(tt)),_t.current===t&&(K(_t),zl._currentValue=ht)}var xs,ws;function Yn(t){if(xs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);xs=n&&n[1]||"",ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+t+ws}var zr=!1;function qa(t,n){if(!t||zr)return"";zr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(k){var P=k}Reflect.construct(t,[],X)}else{try{X.call()}catch(k){P=k}t.call(X.prototype)}}else{try{throw Error()}catch(k){P=k}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(k){if(k&&P&&typeof k.stack=="string")return[k.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var F=`
`+w[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{zr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function jr(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return qa(t.type,!1);case 11:return qa(t.type.render,!1);case 1:return qa(t.type,!0);case 31:return Yn("Activity");default:return""}}function Lr(t){try{var n="",a=null;do n+=jr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,Qi=r.unstable_cancelCallback,Oc=r.unstable_shouldYield,go=r.unstable_requestPaint,Ze=r.unstable_now,ka=r.unstable_getCurrentPriorityLevel,Ur=r.unstable_ImmediatePriority,Br=r.unstable_UserBlockingPriority,Yi=r.unstable_NormalPriority,Mc=r.unstable_LowPriority,po=r.unstable_IdlePriority,yo=r.log,_o=r.unstable_setDisableYieldValue,On=null,Le=null;function vn(t){if(typeof yo=="function"&&_o(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(On,t)}catch{}}var fe=Math.clz32?Math.clz32:Eo,vo=Math.log,Cs=Math.LN2;function Eo(t){return t>>>=0,t===0?32:31-(vo(t)/Cs|0)|0}var Kn=256,Ha=262144,_e=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):a||(a=E&~t,a!==0&&(c=Xn(a))))):(E=l&~f,E!==0?c=Xn(E):g!==0?c=Xn(g):a||(a=l&~t,a!==0&&(c=Xn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ga(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-fe(a),X=1<<F;E[F]=0,w[F]=-1;var P=B[F];if(P!==null)for(B[F]=null,F=0;F<P.length;F++){var k=P[F];k!==null&&(k.lane&=-536870913)}a&=~X}l!==0&&Fa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Fa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Pr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function qr(t,n){var a=n&-n;return a=(a&42)!==0?1:Qa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Si(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bo(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:oy(t.type))}function zn(t,n){var a=it.p;try{return it.p=t,n()}finally{it.p=a}}var jn=Math.random().toString(36).slice(2),ve="__reactFiber$"+jn,Oe="__reactProps$"+jn,$n="__reactContainer$"+jn,Ns="__reactEvents$"+jn,Lc="__reactListeners$"+jn,Ao="__reactHandles$"+jn,So="__reactResources$"+jn,Wn="__reactMarker$"+jn;function Ds(t){delete t[ve],delete t[Oe],delete t[Ns],delete t[Lc],delete t[Ao]}function ti(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Qp(t);t!==null;){if(a=t[ve])return a;t=Qp(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[ve]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ei(t){var n=t[So];return n||(n=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[Wn]=!0}var kr=new Set,Hr={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(Hr[t]=n,t=0;t<n.length;t++)kr.add(n[t])}var Gr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fr={},Qr={};function Ro(t){return ye.call(Qr,t)?!0:ye.call(Fr,t)?!1:Gr.test(t)?Qr[t]=!0:(Fr[t]=!0,!1)}function Vs(t,n,a){if(Ro(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Te(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Yr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=Ki(t)?"checked":"value";t._valueTracker=Yr(t,n,""+t[n])}}function Ya(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ki(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ka=/[\n"\\]/g;function We(t){return t.replace(Ka,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Is(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Kr(t,g,Me(n)):a!=null?Kr(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function xo(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function Kr(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function wo(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Zi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ft(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Co.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Zr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Xr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Xr(t,f,n[f])}function Os(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(t){return Ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var Jr=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $i=null,si=null;function Xa(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Is(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(s(90));Is(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ya(l)}break t;case"textarea":wo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xi(t,!!a.multiple,n,!1)}}}var zs=!1;function Wi(t,n,a){if(zs)return t(n,a);zs=!0;try{var l=t(n);return l}finally{if(zs=!1,($i!==null||si!==null)&&(bu(),$i&&(n=$i,t=si,si=$i=null,Xa(n),t)))for(n=0;n<t.length;n++)Xa(t[n])}}function Un(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Za=!1}var ri=null,$r=null,Ja=null;function Wr(){if(Ja)return Ja;var t,n=$r,a=n.length,l,c="value"in ri?ri.value:ri.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ja=c.slice(t,1<l?1-l:void 0)}function $a(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function Bn(){return!1}function Ue(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ri:Bn,this.isPropagationStopped=Bn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),n}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Ue(xi),ta=S({},xi,{view:0,detail:0}),tl=Ue(ta),ea,js,oi,Ls=S({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(ea=t.screenX-oi.screenX,js=t.screenY-oi.screenY):js=ea=0,oi=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:js}}),el=Ue(Ls),Wa=S({},Ls,{dataTransfer:0}),Do=Ue(Wa),Vo=S({},ta,{relatedTarget:0}),ts=Ue(Vo),nl=S({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=Ue(nl),Us=S({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oo=Ue(Us),Mo=S({},xi,{data:0}),ui=Ue(Mo),zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lo[t])?!!n[t]:!1}function na(){return Uo}var Je=S({},ta,{key:function(t){if(t.key){var n=zo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(t){return t.type==="keypress"?$a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bo=Ue(Je),Po=S({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=Ue(Po),u=S({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),m=Ue(u),y=S({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ue(y),L=S({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ue(L),nt=S({},xi,{newState:0,oldState:0}),At=Ue(nt),de=[9,13,27,32],qt=bn&&"CompositionEvent"in window,ae=null;bn&&"documentMode"in document&&(ae=document.documentMode);var An=bn&&"TextEvent"in window&&!ae,ci=bn&&(!qt||ae&&8<ae&&11>=ae),Pn=" ",qn=!1;function es(t,n){switch(t){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function Dv(t,n){switch(t){case"compositionend":return Bs(n);case"keypress":return n.which!==32?null:(qn=!0,Pn);case"textInput":return t=n.data,t===Pn&&qn?null:t;default:return null}}function Vv(t,n){if(Ps)return t==="compositionend"||!qt&&es(t,n)?(t=Wr(),Ja=$r=ri=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var Iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Iv[t.type]:n==="textarea"}function Zd(t,n,a,l){$i?si?si.push(l):si=[l]:$i=l,n=Nu(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var il=null,al=null;function Ov(t){Ip(t,0)}function qo(t){var n=un(t);if(Ya(n))return t}function Jd(t,n){if(t==="change")return n}var $d=!1;if(bn){var Uc;if(bn){var Bc="oninput"in document;if(!Bc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Bc=typeof Wd.oninput=="function"}Uc=Bc}else Uc=!1;$d=Uc&&(!document.documentMode||9<document.documentMode)}function tm(){il&&(il.detachEvent("onpropertychange",em),al=il=null)}function em(t){if(t.propertyName==="value"&&qo(al)){var n=[];Zd(n,al,t,Tn(t)),Wi(Ov,n)}}function Mv(t,n,a){t==="focusin"?(tm(),il=n,al=a,il.attachEvent("onpropertychange",em)):t==="focusout"&&tm()}function zv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qo(al)}function jv(t,n){if(t==="click")return qo(n)}function Lv(t,n){if(t==="input"||t==="change")return qo(n)}function Uv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:Uv;function sl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ye.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function im(t,n){var a=nm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=nm(a)}}function am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function Pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Bv=bn&&"documentMode"in document&&11>=document.documentMode,qs=null,qc=null,rl=null,kc=!1;function rm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||qs==null||qs!==ai(l)||(l=qs,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&sl(rl,l)||(rl=l,l=Nu(qc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=qs)))}function ns(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ks={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Hc={},lm={};bn&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function is(t){if(Hc[t])return Hc[t];if(!ks[t])return t;var n=ks[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in lm)return Hc[t]=n[a];return t}var om=is("animationend"),um=is("animationiteration"),cm=is("animationstart"),Pv=is("transitionrun"),qv=is("transitionstart"),kv=is("transitioncancel"),hm=is("transitionend"),fm=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function kn(t,n){fm.set(t,n),ni(n,[t])}var ko=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Hs=0,Fc=0;function Ho(){for(var t=Hs,n=Fc=Hs=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&dm(a,c,f)}}function Go(t,n,a,l){Sn[Hs++]=t,Sn[Hs++]=n,Sn[Hs++]=a,Sn[Hs++]=l,Fc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qc(t,n,a,l){return Go(t,n,a,l),Fo(t)}function as(t,n){return Go(t,null,null,n),Fo(t)}function dm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-fe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Fo(t){if(50<Cl)throw Cl=0,ef=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gs={};function Hv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new Hv(t,n,a,l)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function mm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Qo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Yc(t)&&(g=1);else if(typeof t=="string")g=KE(t,a,Q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=fn(31,a,n,c),t.elementType=C,t.lanes=f,t;case W:return ss(a.children,c,f,n);case $:g=8,c|=24;break;case gt:return t=fn(12,a,n,c|2),t.elementType=gt,t.lanes=f,t;case Pt:return t=fn(13,a,n,c),t.elementType=Pt,t.lanes=f,t;case lt:return t=fn(19,a,n,c),t.elementType=lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vt:g=10;break t;case yt:g=9;break t;case Bt:g=11;break t;case N:g=14;break t;case A:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ss(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function Kc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function gm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Xc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var pm=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var a=pm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Lr(n)},pm.set(t,n),n)}return{value:t,source:n,stack:Lr(n)}}var Fs=[],Qs=0,Yo=null,ll=0,xn=[],wn=0,ia=null,hi=1,fi="";function Ni(t,n){Fs[Qs++]=ll,Fs[Qs++]=Yo,Yo=t,ll=n}function ym(t,n,a){xn[wn++]=hi,xn[wn++]=fi,xn[wn++]=ia,ia=t;var l=hi;t=fi;var c=32-fe(l)-1;l&=~(1<<c),a+=1;var f=32-fe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-fe(n)+c|a<<c|l,fi=f+t}else hi=1<<f|a<<c|l,fi=t}function Zc(t){t.return!==null&&(Ni(t,1),ym(t,1,0))}function Jc(t){for(;t===Yo;)Yo=Fs[--Qs],Fs[Qs]=null,ll=Fs[--Qs],Fs[Qs]=null;for(;t===ia;)ia=xn[--wn],xn[wn]=null,fi=xn[--wn],xn[wn]=null,hi=xn[--wn],xn[wn]=null}function _m(t,n){xn[wn++]=hi,xn[wn++]=fi,xn[wn++]=ia,hi=n.id,fi=n.overflow,ia=t}var Be=null,ee=null,Ot=!1,aa=null,Cn=!1,$c=Error(s(519));function sa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(Rn(n,t)),$c}function vm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[Oe]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ct(Dl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),xo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Zi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||jp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||sa(t,!0)}function Em(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Be=Be.return}}function Ys(t){if(t!==Be)return!1;if(!Ot)return Em(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yf(t.type,t.memoizedProps)),a=!a),a&&ee&&sa(t),Em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=Fp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=Fp(t)}else n===27?(n=ee,va(t.type)?(t=bf,bf=null,ee=t):ee=n):ee=Be?Dn(t.stateNode.nextSibling):null;return!0}function rs(){ee=Be=null,Ot=!1}function Wc(){var t=aa;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),aa=null),t}function ol(t){aa===null?aa=[t]:aa.push(t)}var th=O(null),ls=null,Di=null;function ra(t,n,a){at(th,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=th.current,K(th)}function eh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function nh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),eh(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),eh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ks(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===_t.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}c=c.return}t!==null&&nh(n,t,a,l),n.flags|=262144}function Ko(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function os(t){ls=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pe(t){return Tm(ls,t)}function Xo(t,n){return ls===null&&os(t),Tm(t,n)}function Tm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var Gv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Fv=r.unstable_scheduleCallback,Qv=r.unstable_NormalPriority,be={$$typeof:vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new Gv,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&Fv(Qv,function(){t.controller.abort()})}var cl=null,ah=0,Xs=0,Zs=null;function Yv(t,n){if(cl===null){var a=cl=[];ah=0,Xs=of(),Zs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ah++,n.then(bm,bm),n}function bm(){if(--ah===0&&cl!==null){Zs!==null&&(Zs.status="fulfilled");var t=cl;cl=null,Xs=0,Zs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Kv(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Am=G.S;G.S=function(t,n){rp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Yv(t,n),Am!==null&&Am(t,n)};var us=O(null);function sh(){var t=us.current;return t!==null?t:$t.pooledCache}function Zo(t,n){n===null?at(us,us.current):at(us,n.pool)}function Sm(){var t=sh();return t===null?null:{parent:be._currentValue,pool:t}}var Js=Error(s(460)),rh=Error(s(474)),Jo=Error(s(542)),$o={then:function(){}};function Rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ln,Ln),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Cm(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Cm(t),t}throw hs=n,Js}}function cs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(hs=a,Js):a}}var hs=null;function wm(){if(hs===null)throw Error(s(459));var t=hs;return hs=null,t}function Cm(t){if(t===Js||t===Jo)throw Error(s(483))}var $s=null,hl=0;function Wo(t){var n=hl;return hl+=1,$s===null&&($s=[]),xm($s,t,n)}function fl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function tu(t,n){throw n.$$typeof===D?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Nm(t){function n(z,I){if(t){var U=z.deletions;U===null?(z.deletions=[I],z.flags|=16):U.push(I)}}function a(z,I){if(!t)return null;for(;I!==null;)n(z,I),I=I.sibling;return null}function l(z){for(var I=new Map;z!==null;)z.key!==null?I.set(z.key,z):I.set(z.index,z),z=z.sibling;return I}function c(z,I){return z=Ci(z,I),z.index=0,z.sibling=null,z}function f(z,I,U){return z.index=U,t?(U=z.alternate,U!==null?(U=U.index,U<I?(z.flags|=67108866,I):U):(z.flags|=67108866,I)):(z.flags|=1048576,I)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,I,U,Y){return I===null||I.tag!==6?(I=Kc(U,z.mode,Y),I.return=z,I):(I=c(I,U),I.return=z,I)}function w(z,I,U,Y){var ft=U.type;return ft===W?F(z,I,U.props.children,Y,U.key):I!==null&&(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&cs(ft)===I.type)?(I=c(I,U.props),fl(I,U),I.return=z,I):(I=Qo(U.type,U.key,U.props,null,z.mode,Y),fl(I,U),I.return=z,I)}function B(z,I,U,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==U.containerInfo||I.stateNode.implementation!==U.implementation?(I=Xc(U,z.mode,Y),I.return=z,I):(I=c(I,U.children||[]),I.return=z,I)}function F(z,I,U,Y,ft){return I===null||I.tag!==7?(I=ss(U,z.mode,Y,ft),I.return=z,I):(I=c(I,U),I.return=z,I)}function X(z,I,U){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Kc(""+I,z.mode,U),I.return=z,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case H:return U=Qo(I.type,I.key,I.props,null,z.mode,U),fl(U,I),U.return=z,U;case et:return I=Xc(I,z.mode,U),I.return=z,I;case A:return I=cs(I),X(z,I,U)}if(oe(I)||j(I))return I=ss(I,z.mode,U,null),I.return=z,I;if(typeof I.then=="function")return X(z,Wo(I),U);if(I.$$typeof===vt)return X(z,Xo(z,I),U);tu(z,I)}return null}function P(z,I,U,Y){var ft=I!==null?I.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ft!==null?null:E(z,I,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===ft?w(z,I,U,Y):null;case et:return U.key===ft?B(z,I,U,Y):null;case A:return U=cs(U),P(z,I,U,Y)}if(oe(U)||j(U))return ft!==null?null:F(z,I,U,Y,null);if(typeof U.then=="function")return P(z,I,Wo(U),Y);if(U.$$typeof===vt)return P(z,I,Xo(z,U),Y);tu(z,U)}return null}function k(z,I,U,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return z=z.get(U)||null,E(I,z,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return z=z.get(Y.key===null?U:Y.key)||null,w(I,z,Y,ft);case et:return z=z.get(Y.key===null?U:Y.key)||null,B(I,z,Y,ft);case A:return Y=cs(Y),k(z,I,U,Y,ft)}if(oe(Y)||j(Y))return z=z.get(U)||null,F(I,z,Y,ft,null);if(typeof Y.then=="function")return k(z,I,U,Wo(Y),ft);if(Y.$$typeof===vt)return k(z,I,U,Xo(I,Y),ft);tu(I,Y)}return null}function rt(z,I,U,Y){for(var ft=null,Lt=null,ut=I,Rt=I=0,Dt=null;ut!==null&&Rt<U.length;Rt++){ut.index>Rt?(Dt=ut,ut=null):Dt=ut.sibling;var Ut=P(z,ut,U[Rt],Y);if(Ut===null){ut===null&&(ut=Dt);break}t&&ut&&Ut.alternate===null&&n(z,ut),I=f(Ut,I,Rt),Lt===null?ft=Ut:Lt.sibling=Ut,Lt=Ut,ut=Dt}if(Rt===U.length)return a(z,ut),Ot&&Ni(z,Rt),ft;if(ut===null){for(;Rt<U.length;Rt++)ut=X(z,U[Rt],Y),ut!==null&&(I=f(ut,I,Rt),Lt===null?ft=ut:Lt.sibling=ut,Lt=ut);return Ot&&Ni(z,Rt),ft}for(ut=l(ut);Rt<U.length;Rt++)Dt=k(ut,z,Rt,U[Rt],Y),Dt!==null&&(t&&Dt.alternate!==null&&ut.delete(Dt.key===null?Rt:Dt.key),I=f(Dt,I,Rt),Lt===null?ft=Dt:Lt.sibling=Dt,Lt=Dt);return t&&ut.forEach(function(Sa){return n(z,Sa)}),Ot&&Ni(z,Rt),ft}function mt(z,I,U,Y){if(U==null)throw Error(s(151));for(var ft=null,Lt=null,ut=I,Rt=I=0,Dt=null,Ut=U.next();ut!==null&&!Ut.done;Rt++,Ut=U.next()){ut.index>Rt?(Dt=ut,ut=null):Dt=ut.sibling;var Sa=P(z,ut,Ut.value,Y);if(Sa===null){ut===null&&(ut=Dt);break}t&&ut&&Sa.alternate===null&&n(z,ut),I=f(Sa,I,Rt),Lt===null?ft=Sa:Lt.sibling=Sa,Lt=Sa,ut=Dt}if(Ut.done)return a(z,ut),Ot&&Ni(z,Rt),ft;if(ut===null){for(;!Ut.done;Rt++,Ut=U.next())Ut=X(z,Ut.value,Y),Ut!==null&&(I=f(Ut,I,Rt),Lt===null?ft=Ut:Lt.sibling=Ut,Lt=Ut);return Ot&&Ni(z,Rt),ft}for(ut=l(ut);!Ut.done;Rt++,Ut=U.next())Ut=k(ut,z,Rt,Ut.value,Y),Ut!==null&&(t&&Ut.alternate!==null&&ut.delete(Ut.key===null?Rt:Ut.key),I=f(Ut,I,Rt),Lt===null?ft=Ut:Lt.sibling=Ut,Lt=Ut);return t&&ut.forEach(function(sT){return n(z,sT)}),Ot&&Ni(z,Rt),ft}function Jt(z,I,U,Y){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:t:{for(var ft=U.key;I!==null;){if(I.key===ft){if(ft=U.type,ft===W){if(I.tag===7){a(z,I.sibling),Y=c(I,U.props.children),Y.return=z,z=Y;break t}}else if(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&cs(ft)===I.type){a(z,I.sibling),Y=c(I,U.props),fl(Y,U),Y.return=z,z=Y;break t}a(z,I);break}else n(z,I);I=I.sibling}U.type===W?(Y=ss(U.props.children,z.mode,Y,U.key),Y.return=z,z=Y):(Y=Qo(U.type,U.key,U.props,null,z.mode,Y),fl(Y,U),Y.return=z,z=Y)}return g(z);case et:t:{for(ft=U.key;I!==null;){if(I.key===ft)if(I.tag===4&&I.stateNode.containerInfo===U.containerInfo&&I.stateNode.implementation===U.implementation){a(z,I.sibling),Y=c(I,U.children||[]),Y.return=z,z=Y;break t}else{a(z,I);break}else n(z,I);I=I.sibling}Y=Xc(U,z.mode,Y),Y.return=z,z=Y}return g(z);case A:return U=cs(U),Jt(z,I,U,Y)}if(oe(U))return rt(z,I,U,Y);if(j(U)){if(ft=j(U),typeof ft!="function")throw Error(s(150));return U=ft.call(U),mt(z,I,U,Y)}if(typeof U.then=="function")return Jt(z,I,Wo(U),Y);if(U.$$typeof===vt)return Jt(z,I,Xo(z,U),Y);tu(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,I!==null&&I.tag===6?(a(z,I.sibling),Y=c(I,U),Y.return=z,z=Y):(a(z,I),Y=Kc(U,z.mode,Y),Y.return=z,z=Y),g(z)):a(z,I)}return function(z,I,U,Y){try{hl=0;var ft=Jt(z,I,U,Y);return $s=null,ft}catch(ut){if(ut===Js||ut===Jo)throw ut;var Lt=fn(29,ut,null,z.mode);return Lt.lanes=Y,Lt.return=z,Lt}finally{}}}var fs=Nm(!0),Dm=Nm(!1),la=!1;function lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Fo(t),dm(t,null,a),n}return Go(t,l,n,a),Fo(t)}function dl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Pr(t,a)}}function uh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ch=!1;function ml(){if(ch){var t=Zs;if(t!==null)throw t}}function gl(t,n,a,l){ch=!1;var c=t.updateQueue;la=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,g===null?f=B:g.next=B,g=w;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=B:E.next=B,F.lastBaseUpdate=w))}if(f!==null){var X=c.baseState;g=0,F=B=w=null,E=f;do{var P=E.lane&-536870913,k=P!==E.lane;if(k?(Nt&P)===P:(l&P)===P){P!==0&&P===Xs&&(ch=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,mt=E;P=n;var Jt=a;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){X=rt.call(Jt,X,P);break t}X=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,P=typeof rt=="function"?rt.call(Jt,X,P):rt,P==null)break t;X=S({},X,P);break t;case 2:la=!0}}P=E.callback,P!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[P]:k.push(P))}else k={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(B=F=k,w=X):F=F.next=k,g|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);F===null&&(w=X),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),ma|=g,t.lanes=g,t.memoizedState=X}}function Vm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Im(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Vm(a[t],n)}var Ws=O(null),eu=O(0);function Om(t,n){t=Pi,at(eu,t),at(Ws,n),Pi=t|n.baseLanes}function hh(){at(eu,Pi),at(Ws,Ws.current)}function fh(){Pi=eu.current,K(Ws),K(eu)}var dn=O(null),Nn=null;function ca(t){var n=t.alternate;at(me,me.current&1),at(dn,t),Nn===null&&(n===null||Ws.current!==null||n.memoizedState!==null)&&(Nn=t)}function dh(t){at(me,me.current),at(dn,t),Nn===null&&(Nn=t)}function Mm(t){t.tag===22?(at(me,me.current),at(dn,t),Nn===null&&(Nn=t)):ha()}function ha(){at(me,me.current),at(dn,dn.current)}function mn(t){K(dn),Nn===t&&(Nn=null),K(me)}var me=O(0);function nu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ef(a)||Tf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ii=0,St=null,Xt=null,Ae=null,iu=!1,tr=!1,ds=!1,au=0,pl=0,er=null,Xv=0;function ue(){throw Error(s(321))}function mh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function gh(t,n,a,l,c,f){return Ii=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?yg:Dh,ds=!1,f=a(l,c),ds=!1,tr&&(f=jm(n,a,l,c)),zm(t),f}function zm(t){G.H=vl;var n=Xt!==null&&Xt.next!==null;if(Ii=0,Ae=Xt=St=null,iu=!1,pl=0,er=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&Ko(t)&&(Se=!0))}function jm(t,n,a,l){St=t;var c=0;do{if(tr&&(er=null),pl=0,tr=!1,25<=c)throw Error(s(301));if(c+=1,Ae=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=_g,f=n(a,l)}while(tr);return f}function Zv(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(St.flags|=1024),n}function ph(){var t=au!==0;return au=0,t}function yh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _h(t){if(iu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}iu=!1}Ii=0,Ae=Xt=St=null,tr=!1,pl=au=0,er=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function ge(){if(Xt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?St.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,er===null&&(er=[]),t=xm(er,t,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?yg:Dh),t}function ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===vt)return Pe(t)}throw Error(s(438,String(t)))}function vh(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=su(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Oi(t,n){return typeof n=="function"?n(t):n}function lu(t){var n=ge();return Eh(n,Xt,t)}function Eh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,B=n,F=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(Nt&X)===X:(Ii&X)===X){var P=B.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Xs&&(F=!0);else if((Ii&P)===P){B=B.next,P===Xs&&(F=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=X,g=f):w=w.next=X,St.lanes|=P,ma|=P;X=B.action,ds&&a(f,X),f=B.hasEagerState?B.eagerState:a(f,X)}else P={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=P,g=f):w=w.next=P,St.lanes|=X,ma|=X;B=B.next}while(B!==null&&B!==n);if(w===null?g=f:w.next=E,!hn(f,t.memoizedState)&&(Se=!0,F&&(a=Zs,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Th(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Lm(t,n,a){var l=St,c=ge(),f=Ot;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!hn((Xt||c).memoizedState,a);if(g&&(c.memoizedState=a,Se=!0),c=c.queue,Sh(Pm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,nr(9,{destroy:void 0},Bm.bind(null,l,c,a,n),null),$t===null)throw Error(s(349));f||(Ii&127)!==0||Um(l,n,a)}return a}function Um(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=su(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Bm(t,n,a,l){n.value=a,n.getSnapshot=l,qm(n)&&km(t)}function Pm(t,n,a){return a(function(){qm(n)&&km(t)})}function qm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function km(t){var n=as(t,2);n!==null&&rn(n,t,2)}function bh(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),ds){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function Hm(t,n,a,l){return t.baseState=a,Eh(t,Xt,typeof l=="function"?l:Oi)}function Jv(t,n,a,l,c){if(cu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Gm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Gm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(c,l),w=G.S;w!==null&&w(g,E),Fm(t,n,E)}catch(B){Ah(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(c,l),Fm(t,n,f)}catch(B){Ah(t,n,B)}}function Fm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qm(t,n,l)},function(l){return Ah(t,n,l)}):Qm(t,n,a)}function Qm(t,n,a){n.status="fulfilled",n.value=a,Ym(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Gm(t,a)))}function Ah(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ym(n),n=n.next;while(n!==l)}t.action=null}function Ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Km(t,n){return n}function Xm(t,n){if(Ot){var a=$t.formState;if(a!==null){t:{var l=St;if(Ot){if(ee){e:{for(var c=ee,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=Dn(c.nextSibling),l=c.data==="F!";break t}}sa(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:n},a.queue=l,a=mg.bind(null,St,l),l.dispatch=a,l=bh(!1),f=Nh.bind(null,St,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=Jv.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Zm(t){var n=ge();return Jm(n,Xt,t)}function Jm(t,n,a){if(n=Eh(t,n,Km)[0],t=lu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(g){throw g===Js?Jo:g}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,nr(9,{destroy:void 0},$v.bind(null,c,a),null)),[l,f,t]}function $v(t,n){t.action=n}function $m(t){var n=ge(),a=Xt;if(a!==null)return Jm(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function nr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=su(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Wm(){return ge().memoizedState}function ou(t,n,a,l){var c=$e();St.flags|=t,c.memoizedState=nr(1|n,{destroy:void 0},a,l===void 0?null:l)}function uu(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&mh(l,Xt.memoizedState.deps)?c.memoizedState=nr(n,f,a,l):(St.flags|=t,c.memoizedState=nr(1|n,f,a,l))}function tg(t,n){ou(8390656,8,t,n)}function Sh(t,n){uu(2048,8,t,n)}function Wv(t){St.flags|=4;var n=St.updateQueue;if(n===null)n=su(),St.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function eg(t){var n=ge().memoizedState;return Wv({ref:n,nextImpl:t}),function(){if((kt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ng(t,n){return uu(4,2,t,n)}function ig(t,n){return uu(4,4,t,n)}function ag(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,uu(4,4,ag.bind(null,n,t),a)}function Rh(){}function rg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&mh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function lg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&mh(n,l[1]))return l[0];if(l=t(),ds){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function xh(t,n,a){return a===void 0||(Ii&1073741824)!==0&&(Nt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=op(),St.lanes|=t,ma|=t,a)}function og(t,n,a,l){return hn(a,n)?a:Ws.current!==null?(t=xh(t,a,l),hn(t,n)||(Se=!0),t):(Ii&42)===0||(Ii&1073741824)!==0&&(Nt&261930)===0?(Se=!0,t.memoizedState=a):(t=op(),St.lanes|=t,ma|=t,n)}function ug(t,n,a,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Nh(t,!1,n,a);try{var w=c(),B=G.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=Kv(w,l);_l(t,n,F,yn(t))}else _l(t,n,l,yn(t))}catch(X){_l(t,n,{then:function(){},status:"rejected",reason:X},yn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function tE(){}function wh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=cg(t).queue;ug(t,c,n,ht,a===null?tE:function(){return hg(t),a(l)})}function cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function hg(t){var n=cg(t);n.next===null&&(n=t.alternate.memoizedState),_l(t,n.next.queue,{},yn())}function Ch(){return Pe(zl)}function fg(){return ge().memoizedState}function dg(){return ge().memoizedState}function eE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=oa(a);var l=ua(n,t,a);l!==null&&(rn(l,n,a),dl(l,n,a)),n={cache:ih()},t.payload=n;return}n=n.return}}function nE(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cu(t)?gg(n,a):(a=Qc(t,n,a,l),a!==null&&(rn(a,t,l),pg(a,n,l)))}function mg(t,n,a){var l=yn();_l(t,n,a,l)}function _l(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cu(t))gg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Go(t,n,c,0),$t===null&&Ho(),!1}catch{}finally{}if(a=Qc(t,n,c,l),a!==null)return rn(a,t,l),pg(a,n,l),!0}return!1}function Nh(t,n,a,l){if(l={lane:2,revertLane:of(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cu(t)){if(n)throw Error(s(479))}else n=Qc(t,a,l,2),n!==null&&rn(n,t,2)}function cu(t){var n=t.alternate;return t===St||n!==null&&n===St}function gg(t,n){tr=iu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function pg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Pr(t,a)}}var vl={readContext:Pe,use:ru,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};vl.useEffectEvent=ue;var yg={readContext:Pe,use:ru,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Pe,useEffect:tg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ou(4194308,4,ag.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ou(4194308,4,t,n)},useInsertionEffect:function(t,n){ou(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(ds){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(ds){vn(!0);try{a(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=nE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=bh(t);var n=t.queue,a=mg.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rh,useDeferredValue:function(t,n){var a=$e();return xh(a,t,n)},useTransition:function(){var t=bh(!1);return t=ug.bind(null,St,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=$e();if(Ot){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));(Nt&127)!==0||Um(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,tg(Pm.bind(null,l,f,t),[t]),l.flags|=2048,nr(9,{destroy:void 0},Bm.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Ot){var a=fi,l=hi;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=au++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Xv++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ch,useFormState:Xm,useActionState:Xm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nh.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:vh,useCacheRefresh:function(){return $e().memoizedState=eE.bind(null,St)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Dh={readContext:Pe,use:ru,useCallback:rg,useContext:Pe,useEffect:Sh,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:lu,useRef:Wm,useState:function(){return lu(Oi)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=ge();return og(a,Xt.memoizedState,t,n)},useTransition:function(){var t=lu(Oi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Lm,useId:fg,useHostTransitionStatus:Ch,useFormState:Zm,useActionState:Zm,useOptimistic:function(t,n){var a=ge();return Hm(a,Xt,t,n)},useMemoCache:vh,useCacheRefresh:dg};Dh.useEffectEvent=eg;var _g={readContext:Pe,use:ru,useCallback:rg,useContext:Pe,useEffect:Sh,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:Th,useRef:Wm,useState:function(){return Th(Oi)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=ge();return Xt===null?xh(a,t,n):og(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Th(Oi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Lm,useId:fg,useHostTransitionStatus:Ch,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=ge();return Xt!==null?Hm(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vh,useCacheRefresh:dg};_g.useEffectEvent=eg;function Vh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ih={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=oa(l);c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(rn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=oa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(rn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=oa(a);l.tag=2,n!=null&&(l.callback=n),n=ua(t,l,a),n!==null&&(rn(n,t,a),dl(n,t,a))}};function vg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!sl(a,l)||!sl(c,f):!0}function Eg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Ih.enqueueReplaceState(n,n.state,null)}function ms(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Tg(t){ko(t)}function bg(t){console.error(t)}function Ag(t){ko(t)}function hu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Oh(t,n,a){return a=oa(a),a.tag=3,a.payload={element:null},a.callback=function(){hu(t,n)},a}function Rg(t){return t=oa(t),t.tag=3,t}function xg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Sg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Sg(n,a,l),typeof c!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function iE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ks(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?Au():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===$o?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),sf(t,l,c)),!1;case 22:return a.flags|=65536,l===$o?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),sf(t,l,c)),!1}throw Error(s(435,a.tag))}return sf(t,l,c),Au(),!1}if(Ot)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(s(422),{cause:l}),ol(Rn(t,a)))):(l!==$c&&(n=Error(s(423),{cause:l}),ol(Rn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Rn(l,a),c=Oh(t.stateNode,l,c),uh(t,c),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=Rn(f,a),wl===null?wl=[f]:wl.push(f),ce!==4&&(ce=2),n===null)return!0;l=Rn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Oh(a.stateNode,l,t),uh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ga===null||!ga.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Rg(c),xg(c,t,a,l),uh(a,c),!1}a=a.return}while(a!==null);return!1}var Mh=Error(s(461)),Se=!1;function qe(t,n,a,l){n.child=t===null?Dm(n,null,a,l):fs(n,t.child,a,l)}function wg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return os(n),l=gh(t,n,a,g,f,c),E=ph(),t!==null&&!Se?(yh(t,n,c),Mi(t,n,c)):(Ot&&E&&Zc(n),n.flags|=1,qe(t,n,l,c),n.child)}function Cg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Yc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ng(t,n,f,l,c)):(t=Qo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(g,l)&&t.ref===n.ref)return Mi(t,n,c)}return n.flags|=1,t=Ci(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ng(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(sl(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Mi(t,n,c)}return zh(t,n,a,l,c)}function Dg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Vg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(n,f!==null?f.cachePool:null),f!==null?Om(n,f):hh(),Mm(n);else return l=n.lanes=536870912,Vg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Zo(n,f.cachePool),Om(n,f),ha(),n.memoizedState=null):(t!==null&&Zo(n,null),hh(),ha());return qe(t,n,c,a),n.child}function El(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vg(t,n,a,l,c){var f=sh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Zo(n,null),hh(),Mm(n),t!==null&&Ks(t,n,l,!0),n.childLanes=c,null}function fu(t,n){return n=mu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ig(t,n,a){return fs(n,t.child,null,a),t=fu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function aE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=fu(n,l),n.lanes=536870912,El(null,t);if(dh(n),(t=ee)?(t=Gp(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ia!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=gm(t),a.return=n,n.child=a,Be=n,ee=null)):t=null,t===null)throw sa(n);return n.lanes=536870912,null}return fu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(dh(n),c)if(n.flags&256)n.flags&=-257,n=Ig(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||Ks(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=$t,l!==null&&(g=qr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,as(t,g),rn(l,t,g),Mh;Au(),n=Ig(t,n,a)}else t=f.treeContext,ee=Dn(g.nextSibling),Be=n,Ot=!0,aa=null,Cn=!1,t!==null&&_m(n,t),n=fu(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function du(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zh(t,n,a,l,c){return os(n),a=gh(t,n,a,l,void 0,c),l=ph(),t!==null&&!Se?(yh(t,n,c),Mi(t,n,c)):(Ot&&l&&Zc(n),n.flags|=1,qe(t,n,a,c),n.child)}function Og(t,n,a,l,c,f){return os(n),n.updateQueue=null,a=jm(n,l,a,c),zm(t),l=ph(),t!==null&&!Se?(yh(t,n,f),Mi(t,n,f)):(Ot&&l&&Zc(n),n.flags|=1,qe(t,n,a,f),n.child)}function Mg(t,n,a,l,c){if(os(n),n.stateNode===null){var f=Gs,g=a.contextType;typeof g=="object"&&g!==null&&(f=Pe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ih,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Pe(g):Gs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Vh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ih.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=ms(a,E);f.props=w;var B=f.context,F=a.contextType;g=Gs,typeof F=="object"&&F!==null&&(g=Pe(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Eg(n,f,l,g),la=!1;var P=n.memoizedState;f.state=P,gl(n,l,f,c),ml(),B=n.memoizedState,E||P!==B||la?(typeof X=="function"&&(Vh(n,a,X,l),B=n.memoizedState),(w=la||vg(n,a,w,l,P,B,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,oh(t,n),g=n.memoizedProps,F=ms(a,g),f.props=F,X=n.pendingProps,P=f.context,B=a.contextType,w=Gs,typeof B=="object"&&B!==null&&(w=Pe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||P!==w)&&Eg(n,f,l,w),la=!1,P=n.memoizedState,f.state=P,gl(n,l,f,c),ml();var k=n.memoizedState;g!==X||P!==k||la||t!==null&&t.dependencies!==null&&Ko(t.dependencies)?(typeof E=="function"&&(Vh(n,a,E,l),k=n.memoizedState),(F=la||vg(n,a,F,l,P,k,w)||t!==null&&t.dependencies!==null&&Ko(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=w,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,du(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=fs(n,t.child,null,c),n.child=fs(n,null,a,c)):qe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Mi(t,n,c),t}function zg(t,n,a,l){return rs(),n.flags|=256,qe(t,n,a,l),n.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(t){return{baseLanes:t,cachePool:Sm()}}function Uh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function jg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?ca(n):ha(),(t=ee)?(t=Gp(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ia!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=gm(t),a.return=n,n.child=a,Be=n,ee=null)):t=null,t===null)throw sa(n);return Tf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ha(),c=n.mode,E=mu({mode:"hidden",children:E},c),l=ss(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lh(a),l.childLanes=Uh(t,g,a),n.memoizedState=jh,El(null,l)):(ca(n),Bh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(ca(n),n.flags&=-257,n=Ph(t,n,a)):n.memoizedState!==null?(ha(),n.child=t.child,n.flags|=128,n=null):(ha(),E=l.fallback,c=n.mode,l=mu({mode:"visible",children:l.children},c),E=ss(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,fs(n,t.child,null,a),l=n.child,l.memoizedState=Lh(a),l.childLanes=Uh(t,g,a),n.memoizedState=jh,n=El(null,l));else if(ca(n),Tf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,ol({value:l,source:null,stack:null}),n=Ph(t,n,a)}else if(Se||Ks(t,n,a,!1),g=(a&t.childLanes)!==0,Se||g){if(g=$t,g!==null&&(l=qr(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,as(t,l),rn(g,t,l),Mh;Ef(E)||Au(),n=Ph(t,n,a)}else Ef(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,ee=Dn(E.nextSibling),Be=n,Ot=!0,aa=null,Cn=!1,t!==null&&_m(n,t),n=Bh(n,l.children),n.flags|=4096);return n}return c?(ha(),E=l.fallback,c=n.mode,w=t.child,B=w.sibling,l=Ci(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?E=Ci(B,E):(E=ss(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,El(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Lh(a):(c=E.cachePool,c!==null?(w=be._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Sm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Uh(t,g,a),n.memoizedState=jh,El(t.child,l)):(ca(n),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Bh(t,n){return n=mu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function mu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Ph(t,n,a){return fs(n,t.child,null,a),t=Bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),eh(t.return,n,a)}function qh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Ug(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,at(me,g),qe(t,n,l,a),l=Ot?ll:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,a,n);else if(t.tag===19)Lg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&nu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),qh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&nu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}qh(n,!0,a,null,f,l);break;case"together":qh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Mi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ma|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ks(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ci(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ko(t)))}function sE(t,n,a){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),ra(n,be,t.memoizedState.cache),rs();break;case 27:case 5:Pa(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:ra(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,dh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ca(n),n.flags|=128,null):(a&n.child.childLanes)!==0?jg(t,n,a):(ca(n),t=Mi(t,n,a),t!==null?t.sibling:null);ca(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ks(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Ug(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),at(me,me.current),l)break;return null;case 22:return n.lanes=0,Dg(t,n,a,n.pendingProps);case 24:ra(n,be,t.memoizedState.cache)}return Mi(t,n,a)}function Bg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!kh(t,a)&&(n.flags&128)===0)return Se=!1,sE(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Ot&&(n.flags&1048576)!==0&&ym(n,ll,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=cs(n.elementType),n.type=t,typeof t=="function")Yc(t)?(l=ms(t,l),n.tag=1,n=Mg(null,n,t,l,a)):(n.tag=0,n=zh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Bt){n.tag=11,n=wg(null,n,t,l,a);break t}else if(c===N){n.tag=14,n=Cg(null,n,t,l,a);break t}}throw n=Wt(t)||t,Error(s(306,n,""))}}return n;case 0:return zh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ms(l,n.pendingProps),Mg(t,n,l,c,a);case 3:t:{if(he(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,oh(t,n),gl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ra(n,be,l),l!==f.cache&&nh(n,[be],a,!0),ml(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zg(t,n,l,a);break t}else if(l!==c){c=Rn(Error(s(424)),n),ol(c),n=zg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=Dn(t.firstChild),Be=n,Ot=!0,aa=null,Cn=!0,a=Dm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rs(),l===c){n=Mi(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return du(t,n),t===null?(a=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=Du(ot.current).createElement(a),l[ve]=n,l[Oe]=t,ke(l,a,t),Ee(l),n.stateNode=l):n.memoizedState=Zp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pa(n),t===null&&Ot&&(l=n.stateNode=Yp(n.type,n.pendingProps,ot.current),Be=n,Cn=!0,c=ee,va(n.type)?(bf=c,ee=Dn(l.firstChild)):ee=c),qe(t,n,n.pendingProps.children,a),du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=ee)&&(l=zE(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,Be=n,ee=Dn(l.firstChild),Cn=!1,c=!0):c=!1),c||sa(n)),Pa(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,yf(c,f)?l=null:g!==null&&yf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=gh(t,n,Zv,null,null,a),zl._currentValue=c),du(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=ee)&&(a=jE(a,n.pendingProps,Cn),a!==null?(n.stateNode=a,Be=n,ee=null,t=!0):t=!1),t||sa(n)),null;case 13:return jg(t,n,a);case 4:return he(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=fs(n,null,l,a):qe(t,n,l,a),n.child;case 11:return wg(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ra(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,os(n),c=Pe(c),l=l(c),n.flags|=1,qe(t,n,l,a),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,a);case 15:return Ng(t,n,n.type,n.pendingProps,a);case 19:return Ug(t,n,a);case 31:return aE(t,n,a);case 22:return Dg(t,n,a,n.pendingProps);case 24:return os(n),l=Pe(be),t===null?(c=sh(),c===null&&(c=$t,f=ih(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},lh(n),ra(n,be,c)):((t.lanes&a)!==0&&(oh(t,n),gl(n,null,null,a),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ra(n,be,l)):(l=f.cache,ra(n,be,l),l!==c.cache&&nh(n,[be],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function zi(t){t.flags|=4}function Hh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(fp())t.flags|=8192;else throw hs=$o,rh}else t.flags&=-16777217}function Pg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ey(n))if(fp())t.flags|=8192;else throw hs=$o,rh}function gu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?To():536870912,t.lanes|=n,rr|=n)}function Tl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function rE(t,n,a){var l=n.pendingProps;switch(Jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(be),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wc())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(zi(n),f!==null?(ne(n),Pg(n,f)):(ne(n),Hh(n,c,null,l,a))):f?f!==t.memoizedState?(zi(n),ne(n),Pg(n,f)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&zi(n),ne(n),Hh(n,c,t,l,a)),null;case 27:if(Rs(n),a=ot.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=Q.current,Ys(n)?vm(n):(t=Yp(c,l,a),n.stateNode=t,zi(n))}return ne(n),null;case 5:if(Rs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(f=Q.current,Ys(n))vm(n);else{var g=Du(ot.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ve]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(ke(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(n)}}return ne(n),Hh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=ot.current,Ys(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jp(t.nodeValue,a)),t||sa(n,!0)}else t=Du(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ys(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ve]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ve]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),gu(n,n.updateQueue),ne(n),null);case 4:return te(),t===null&&ff(n.stateNode.containerInfo),ne(n),null;case 10:return Vi(n.type),ne(n),null;case 19:if(K(me),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Tl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=nu(t),f!==null){for(n.flags|=128,Tl(l,!1),t=f.updateQueue,n.updateQueue=t,gu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)mm(a,t),a=a.sibling;return at(me,me.current&1|2),Ot&&Ni(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Eu&&(n.flags|=128,c=!0,Tl(l,!1),n.lanes=4194304)}else{if(!c)if(t=nu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,gu(n,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return ne(n),null}else 2*Ze()-l.renderingStartTime>Eu&&a!==536870912&&(n.flags|=128,c=!0,Tl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=me.current,at(me,c?a&1|2:a&1),Ot&&Ni(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return mn(n),fh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&gu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&K(us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(be),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function lE(t,n){switch(Jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(be),te(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rs(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(s(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(me),null;case 4:return te(),null;case 10:return Vi(n.type),null;case 22:case 23:return mn(n),fh(),t!==null&&K(us),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(be),null;case 25:return null;default:return null}}function qg(t,n){switch(Jc(n),n.tag){case 3:Vi(be),te();break;case 26:case 27:case 5:Rs(n);break;case 4:te();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:K(me);break;case 10:Vi(n.type);break;case 22:case 23:mn(n),fh(),t!==null&&K(us);break;case 24:Vi(be)}}function bl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function fa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,B=E;try{B()}catch(F){Yt(c,w,F)}}}l=l.next}while(l!==f)}}catch(F){Yt(n,n.return,F)}}function kg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Im(n,a)}catch(l){Yt(t,t.return,l)}}}function Hg(t,n,a){a.props=ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Al(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Yt(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function Gg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function Gh(t,n,a){try{var l=t.stateNode;NE(l,t.type,a,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function Fg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&va(t.type)||t.tag===4}function Fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Fg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&va(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&va(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Qh(t,n,a),t=t.sibling;t!==null;)Qh(t,n,a),t=t.sibling}function pu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&va(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pu(t,n,a),t=t.sibling;t!==null;)pu(t,n,a),t=t.sibling}function Qg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,a),n[ve]=t,n[Oe]=a}catch(f){Yt(t,t.return,f)}}var ji=!1,Re=!1,Yh=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function oE(t,n){if(t=t.containerInfo,gf=Lu,t=sm(t),Pc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,B=0,F=0,X=t,P=null;e:for(;;){for(var k;X!==a||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(w=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(k=X.firstChild)!==null;)P=X,X=k;for(;;){if(X===t)break e;if(P===a&&++B===c&&(E=g),P===f&&++F===l&&(w=g),(k=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=k}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(pf={focusedElem:t,selectionRange:a},Lu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var rt=ms(a.type,c);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Yt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function Kg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(t,a),l&4&&bl(5,a);break;case 1:if(Ui(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var c=ms(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}l&64&&kg(a),l&512&&Al(a,a.return);break;case 3:if(Ui(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Im(t,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&l&4&&Qg(a);case 26:case 5:Ui(t,a),n===null&&l&4&&Gg(a),l&512&&Al(a,a.return);break;case 12:Ui(t,a);break;case 31:Ui(t,a),l&4&&Jg(t,a);break;case 13:Ui(t,a),l&4&&$g(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yE.bind(null,a),LE(t,a))));break;case 22:if(l=a.memoizedState!==null||ji,!l){n=n!==null&&n.memoizedState!==null||Re,c=ji;var f=Re;ji=l,(Re=n)&&!f?Bi(t,a,(a.subtreeFlags&8772)!==0):Ui(t,a),ji=c,Re=f}break;case 30:break;default:Ui(t,a)}}function Xg(t){var n=t.alternate;n!==null&&(t.alternate=null,Xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ds(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,en=!1;function Li(t,n,a){for(a=a.child;a!==null;)Zg(t,n,a),a=a.sibling}function Zg(t,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Re||di(a,n),Li(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||di(a,n);var l=se,c=en;va(a.type)&&(se=a.stateNode,en=!1),Li(t,n,a),Il(a.stateNode),se=l,en=c;break;case 5:Re||di(a,n);case 6:if(l=se,c=en,se=null,Li(t,n,a),se=l,en=c,se!==null)if(en)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{se.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:se!==null&&(en?(t=se,kp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),mr(t)):kp(se,a.stateNode));break;case 4:l=se,c=en,se=a.stateNode.containerInfo,en=!0,Li(t,n,a),se=l,en=c;break;case 0:case 11:case 14:case 15:fa(2,a,n),Re||fa(4,a,n),Li(t,n,a);break;case 1:Re||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hg(a,n,l)),Li(t,n,a);break;case 21:Li(t,n,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Li(t,n,a),Re=l;break;default:Li(t,n,a)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mr(t)}catch(a){Yt(n,n.return,a)}}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(a){Yt(n,n.return,a)}}function uE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Yg),n;default:throw Error(s(435,t.tag))}}function yu(t,n){var a=uE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=_E.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(va(E.type)){se=E.stateNode,en=!1;break t}break;case 5:se=E.stateNode,en=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(se===null)throw Error(s(160));Zg(f,g,c),se=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wg(n,t),n=n.sibling}var Hn=null;function Wg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(fa(3,t,t.return),bl(3,t),fa(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Re||a===null||di(a,a.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(nn(n,t),an(t),l&512&&(Re||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,a),f[ve]=t,Ee(f),l=f;break t;case"link":var g=Wp("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;case"meta":if(g=Wp("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,Ee(f),l=f}t.stateNode=l}else ty(c,t.type,t.stateNode);else t.stateNode=$p(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ty(c,t.type,t.stateNode):$p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Re||a===null||di(a,a.return)),a!==null&&l&4&&Gh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Re||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(rt){Yt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Gh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Yt(t,t.return,rt)}}break;case 3:if(Ou=null,c=Hn,Hn=Vu(n.containerInfo),nn(n,t),Hn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(n.containerInfo)}catch(rt){Yt(t,t.return,rt)}Yh&&(Yh=!1,tp(t));break;case 4:l=Hn,Hn=Vu(t.stateNode.containerInfo),nn(n,t),an(t),Hn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=ji,F=Re;if(ji=B||c,Re=F||w,nn(n,t),Re=F,ji=B,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||ji||Re||gs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var X=w.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(rt){Yt(w,w.return,rt)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(rt){Yt(w,w.return,rt)}}}else if(n.tag===18){if(a===null){w=n;try{var k=w.stateNode;c?Hp(k,!0):Hp(w.stateNode,!1)}catch(rt){Yt(w,w.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yu(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Fg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Fh(t);pu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=Fh(t);pu(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,B=Fh(t);Qh(t,B,w);break;default:throw Error(s(161))}}catch(F){Yt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ui(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kg(t,n.alternate,n),n=n.sibling}function gs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fa(4,n,n.return),gs(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Hg(n,n.return,a),gs(n);break;case 27:Il(n.stateNode);case 26:case 5:di(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}t=t.sibling}}function Bi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(c,f,a),bl(4,f);break;case 1:if(Bi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Vm(w[c],E)}catch(B){Yt(l,l.return,B)}}a&&g&64&&kg(f),Al(f,f.return);break;case 27:Qg(f);case 26:case 5:Bi(c,f,a),a&&l===null&&g&4&&Gg(f),Al(f,f.return);break;case 12:Bi(c,f,a);break;case 31:Bi(c,f,a),a&&g&4&&Jg(c,f);break;case 13:Bi(c,f,a),a&&g&4&&$g(c,f);break;case 22:f.memoizedState===null&&Bi(c,f,a),Al(f,f.return);break;case 30:break;default:Bi(c,f,a)}n=n.sibling}}function Kh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ep(t,n,a,l),n=n.sibling}function ep(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),c&2048&&bl(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){Gn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,a,l):Sl(t,n):f._visibility&2?Gn(t,n,a,l):(f._visibility|=2,ir(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Kh(g,n);break;case 24:Gn(t,n,a,l),c&2048&&Xh(n.alternate,n);break;default:Gn(t,n,a,l)}}function ir(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,w=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:ir(f,g,E,w,c),bl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?ir(f,g,E,w,c):Sl(f,g):(F._visibility|=2,ir(f,g,E,w,c)),c&&B&2048&&Kh(g.alternate,g);break;case 24:ir(f,g,E,w,c),c&&B&2048&&Xh(g.alternate,g);break;default:ir(f,g,E,w,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(a,l),c&2048&&Kh(l.alternate,l);break;case 24:Sl(a,l),c&2048&&Xh(l.alternate,l);break;default:Sl(a,l)}n=n.sibling}}var Rl=8192;function ar(t,n,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)np(t,n,a),t=t.sibling}function np(t,n,a){switch(t.tag){case 26:ar(t,n,a),t.flags&Rl&&t.memoizedState!==null&&XE(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:ar(t,n,a);break;case 3:case 4:var l=Hn;Hn=Vu(t.stateNode.containerInfo),ar(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,ar(t,n,a),Rl=l):ar(t,n,a));break;default:ar(t,n,a)}}function ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,sp(l,t)}ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&fa(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,_u(t)):xl(t);break;default:xl(t)}}function _u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,sp(l,t)}ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fa(8,n,n.return),_u(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,_u(n));break;default:_u(n)}t=t.sibling}}function sp(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:fa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(Xg(l),l===a){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var cE={getCacheForType:function(t){var n=Pe(be),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Pe(be).controller.signal}},hE=typeof WeakMap=="function"?WeakMap:Map,kt=0,$t=null,wt=null,Nt=0,Qt=0,gn=null,da=!1,sr=!1,Zh=!1,Pi=0,ce=0,ma=0,ps=0,Jh=0,pn=0,rr=0,wl=null,sn=null,$h=!1,vu=0,rp=0,Eu=1/0,Tu=null,ga=null,De=0,pa=null,lr=null,qi=0,Wh=0,tf=null,lp=null,Cl=0,ef=null;function yn(){return(kt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?of():bo()}function op(){if(pn===0)if((Nt&536870912)===0||Ot){var t=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function rn(t,n,a){(t===$t&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(or(t,0),ya(t,Nt,pn,!1)),Ga(t,a),((kt&2)===0||t!==$t)&&(t===$t&&((kt&2)===0&&(ps|=a),ce===4&&ya(t,Nt,pn,!1)),mi(t))}function up(t,n,a){if((kt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),c=l?mE(t,n):af(t,n,!0),f=l;do{if(c===0){sr&&!l&&ya(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!fE(a)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=wl;var w=E.current.memoizedState.isDehydrated;if(w&&(or(E,g).flags|=256),g=af(E,g,!1),g!==2){if(Zh&&!w){E.errorRecoveryDisabledLanes|=f,ps|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){or(t,0),ya(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ya(l,n,pn,!da);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=vu+300-Ze(),10<c)){if(ya(l,n,pn,!da),Zn(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=Pp(cp.bind(null,l,a,sn,Tu,$h,n,pn,ps,rr,da,f,"Throttled",-0,0),c);break t}cp(l,a,sn,Tu,$h,n,pn,ps,rr,da,f,null,-0,0)}}break}while(!0);mi(t)}function cp(t,n,a,l,c,f,g,E,w,B,F,X,P,k){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},np(n,f,X);var rt=(f&62914560)===f?vu-Ze():(f&4194048)===f?rp-Ze():0;if(rt=ZE(X,rt),rt!==null){qi=f,t.cancelPendingCommit=rt(_p.bind(null,t,n,f,a,l,c,g,E,w,F,X,null,P,k)),ya(t,f,g,!B);return}}_p(t,n,f,a,l,c,g,E,w)}function fE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ya(t,n,a,l){n&=~Jh,n&=~ps,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-fe(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Fa(t,a,n)}function bu(){return(kt&6)===0?(Nl(0),!1):!0}function nf(){if(wt!==null){if(Qt===0)var t=wt.return;else t=wt,Di=ls=null,_h(t),$s=null,hl=0,t=wt;for(;t!==null;)qg(t.alternate,t),t=t.return;wt=null}}function or(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qi=0,nf(),$t=t,wt=a=Ci(t.current,null),Nt=n,Qt=0,gn=null,da=!1,sr=Mn(t,n),Zh=!1,rr=pn=Jh=ps=ma=ce=0,sn=wl=null,$h=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-fe(l),f=1<<c;n|=t[c],l&=~f}return Pi=n,Ho(),a}function hp(t,n){St=null,G.H=vl,n===Js||n===Jo?(n=wm(),Qt=3):n===rh?(n=wm(),Qt=4):Qt=n===Mh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,wt===null&&(ce=1,hu(t,Rn(n,t.current)))}function fp(){var t=dn.current;return t===null?!0:(Nt&4194048)===Nt?Nn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?t===Nn:!1}function dp(){var t=G.H;return G.H=vl,t===null?vl:t}function mp(){var t=G.A;return G.A=cE,t}function Au(){ce=4,da||(Nt&4194048)!==Nt&&dn.current!==null||(sr=!0),(ma&134217727)===0&&(ps&134217727)===0||$t===null||ya($t,Nt,pn,!1)}function af(t,n,a){var l=kt;kt|=2;var c=dp(),f=mp();($t!==t||Nt!==n)&&(Tu=null,or(t,n)),n=!1;var g=ce;t:do try{if(Qt!==0&&wt!==null){var E=wt,w=gn;switch(Qt){case 8:nf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Qt;if(Qt=0,gn=null,ur(t,E,w,B),a&&sr){g=0;break t}break;default:B=Qt,Qt=0,gn=null,ur(t,E,w,B)}}dE(),g=ce;break}catch(F){hp(t,F)}while(!0);return n&&t.shellSuspendCounter++,Di=ls=null,kt=l,G.H=c,G.A=f,wt===null&&($t=null,Nt=0,Ho()),g}function dE(){for(;wt!==null;)gp(wt)}function mE(t,n){var a=kt;kt|=2;var l=dp(),c=mp();$t!==t||Nt!==n?(Tu=null,Eu=Ze()+500,or(t,n)):sr=Mn(t,n);t:do try{if(Qt!==0&&wt!==null){n=wt;var f=gn;e:switch(Qt){case 1:Qt=0,gn=null,ur(t,n,f,1);break;case 2:case 9:if(Rm(f)){Qt=0,gn=null,pp(n);break}n=function(){Qt!==2&&Qt!==9||$t!==t||(Qt=7),mi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Rm(f)?(Qt=0,gn=null,pp(n)):(Qt=0,gn=null,ur(t,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?ey(g):E.stateNode.complete){Qt=0,gn=null;var w=E.sibling;if(w!==null)wt=w;else{var B=E.return;B!==null?(wt=B,Su(B)):wt=null}break e}}Qt=0,gn=null,ur(t,n,f,5);break;case 6:Qt=0,gn=null,ur(t,n,f,6);break;case 8:nf(),ce=6;break t;default:throw Error(s(462))}}gE();break}catch(F){hp(t,F)}while(!0);return Di=ls=null,G.H=l,G.A=c,kt=a,wt!==null?0:($t=null,Nt=0,Ho(),ce)}function gE(){for(;wt!==null&&!Oc();)gp(wt)}function gp(t){var n=Bg(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?Su(t):wt=n}function pp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Og(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Og(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:_h(n);default:qg(a,n),n=wt=mm(n,Pi),n=Bg(a,n,Pi)}t.memoizedProps=t.pendingProps,n===null?Su(t):wt=n}function ur(t,n,a,l){Di=ls=null,_h(n),$s=null,hl=0;var c=n.return;try{if(iE(t,c,n,a,Nt)){ce=1,hu(t,Rn(a,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;ce=1,hu(t,Rn(a,t.current)),wt=null;return}n.flags&32768?(Ot||l===1?t=!0:sr||(Nt&536870912)!==0?t=!1:(da=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yp(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){yp(n,da);return}t=n.return;var a=rE(n.alternate,n,Pi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);ce===0&&(ce=5)}function yp(t,n){do{var a=lE(t.alternate,t);if(a!==null){a.flags&=32767,wt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=a}while(t!==null);ce=6,wt=null}function _p(t,n,a,l,c,f,g,E,w){t.cancelPendingCommit=null;do Ru();while(De!==0);if((kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Fc,jc(t,a,f,g,E,w),t===$t&&(wt=$t=null,Nt=0),lr=n,pa=t,qi=a,Wh=f,tf=c,lp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vE(Yi,function(){return Ap(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=it.p,it.p=2,g=kt,kt|=4;try{oE(t,n,a)}finally{kt=g,it.p=c,G.T=l}}De=1,vp(),Ep(),Tp()}}function vp(){if(De===1){De=0;var t=pa,n=lr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var c=kt;kt|=4;try{Wg(n,t);var f=pf,g=sm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&am(E.ownerDocument.documentElement,E)){if(w!==null&&Pc(E)){var B=w.start,F=w.end;if(F===void 0&&(F=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var k=P.getSelection(),rt=E.textContent.length,mt=Math.min(w.start,rt),Jt=w.end===void 0?mt:Math.min(w.end,rt);!k.extend&&mt>Jt&&(g=Jt,Jt=mt,mt=g);var z=im(E,mt),I=im(E,Jt);if(z&&I&&(k.rangeCount!==1||k.anchorNode!==z.node||k.anchorOffset!==z.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var U=X.createRange();U.setStart(z.node,z.offset),k.removeAllRanges(),mt>Jt?(k.addRange(U),k.extend(I.node,I.offset)):(U.setEnd(I.node,I.offset),k.addRange(U))}}}}for(X=[],k=E;k=k.parentNode;)k.nodeType===1&&X.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Lu=!!gf,pf=gf=null}finally{kt=c,it.p=l,G.T=a}}t.current=n,De=2}}function Ep(){if(De===2){De=0;var t=pa,n=lr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var c=kt;kt|=4;try{Kg(t,n.alternate,n)}finally{kt=c,it.p=l,G.T=a}}De=3}}function Tp(){if(De===4||De===3){De=0,go();var t=pa,n=lr,a=qi,l=lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,lr=pa=null,bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ga=null),Si(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=it.p,it.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=c}}(qi&3)!==0&&Ru(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===ef?Cl++:(Cl=0,ef=t):Cl=0,Nl(0)}}function bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Ru(){return vp(),Ep(),Tp(),Ap()}function Ap(){if(De!==5)return!1;var t=pa,n=Wh;Wh=0;var a=Si(qi),l=G.T,c=it.p;try{it.p=32>a?32:a,G.T=null,a=tf,tf=null;var f=pa,g=qi;if(De=0,lr=pa=null,qi=0,(kt&6)!==0)throw Error(s(331));var E=kt;if(kt|=4,ap(f.current),ep(f,f.current,g,a),kt=E,Nl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{it.p=c,G.T=l,bp(t,n)}}function Sp(t,n,a){n=Rn(a,n),n=Oh(t.stateNode,n,2),t=ua(t,n,2),t!==null&&(Ga(t,2),mi(t))}function Yt(t,n,a){if(t.tag===3)Sp(t,t,a);else for(;n!==null;){if(n.tag===3){Sp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){t=Rn(a,t),a=Rg(2),l=ua(n,a,2),l!==null&&(xg(a,l,n,t),Ga(l,2),mi(l));break}}n=n.return}}function sf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new hE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Zh=!0,c.add(a),t=pE.bind(null,t,n,a),n.then(t,t))}function pE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Nt&a)===a&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>Ze()-vu?(kt&2)===0&&or(t,0):Jh|=a,rr===Nt&&(rr=0)),mi(t)}function Rp(t,n){n===0&&(n=To()),t=as(t,n),t!==null&&(Ga(t,n),mi(t))}function yE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Rp(t,a)}function _E(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Rp(t,a)}function vE(t,n){return Ne(t,n)}var xu=null,cr=null,rf=!1,wu=!1,lf=!1,_a=0;function mi(t){t!==cr&&t.next===null&&(cr===null?xu=cr=t:cr=cr.next=t),wu=!0,rf||(rf=!0,TE())}function Nl(t,n){if(!lf&&wu){lf=!0;do for(var a=!1,l=xu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Np(l,f))}else f=Nt,f=Zn(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Mn(l,f)||(a=!0,Np(l,f));l=l.next}while(a);lf=!1}}function EE(){xp()}function xp(){wu=rf=!1;var t=0;_a!==0&&VE()&&(t=_a);for(var n=Ze(),a=null,l=xu;l!==null;){var c=l.next,f=wp(l,n);f===0?(l.next=null,a===null?xu=c:a.next=c,c===null&&(cr=a)):(a=l,(t!==0||(f&3)!==0)&&(wu=!0)),l=c}De!==0&&De!==5||Nl(t),_a!==0&&(_a=0)}function wp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=zc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Nt,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qi(l),Si(a)){case 2:case 8:a=Br;break;case 32:a=Yi;break;case 268435456:a=po;break;default:a=Yi}return l=Cp.bind(null,t),a=Ne(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qi(l),t.callbackPriority=2,t.callbackNode=null,2}function Cp(t,n){if(De!==0&&De!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ru()&&t.callbackNode!==a)return null;var l=Nt;return l=Zn(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(up(t,l,n),wp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?Cp.bind(null,t):null)}function Np(t,n){if(Ru())return null;up(t,n,!0)}function TE(){OE(function(){(kt&6)!==0?Ne(Ur,EE):xp()})}function of(){if(_a===0){var t=Xs;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),_a=t}return _a}function Dp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ms(""+t)}function Vp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function bE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Dp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Dp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var w=g?Vp(c,g):new FormData(c);wh(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Vp(c,g):new FormData(c),wh(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var uf=0;uf<Gc.length;uf++){var cf=Gc[uf],AE=cf.toLowerCase(),SE=cf[0].toUpperCase()+cf.slice(1);kn(AE,"on"+SE)}kn(om,"onAnimationEnd"),kn(um,"onAnimationIteration"),kn(cm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Pv,"onTransitionRun"),kn(qv,"onTransitionStart"),kn(kv,"onTransitionCancel"),kn(hm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Ip(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(F){ko(F)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(F){ko(F)}c.currentTarget=null,f=w}}}}function Ct(t,n){var a=n[Ns];a===void 0&&(a=n[Ns]=new Set);var l=t+"__bubble";a.has(l)||(Op(n,t,2,!1),a.add(l))}function hf(t,n,a){var l=0;n&&(l|=4),Op(a,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[Cu]){t[Cu]=!0,kr.forEach(function(a){a!=="selectionchange"&&(RE.has(a)||hf(a,!1,t),hf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,hf("selectionchange",!1,n))}}function Op(t,n,a,l){switch(oy(n)){case 2:var c=WE;break;case 8:c=tT;break;default:c=wf}a=c.bind(null,n,a,t),c=void 0,!Za||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function df(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Wi(function(){var B=f,F=Tn(a),X=[];t:{var P=fm.get(t);if(P!==void 0){var k=li,rt=t;switch(t){case"keypress":if($a(a)===0)break t;case"keydown":case"keyup":k=Bo;break;case"focusin":rt="focus",k=ts;break;case"focusout":rt="blur",k=ts;break;case"beforeblur":case"afterblur":k=ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Do;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case om:case um:case cm:k=Io;break;case hm:k=T;break;case"scroll":case"scrollend":k=tl;break;case"wheel":k=q;break;case"copy":case"cut":case"paste":k=Oo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=wi;break;case"toggle":case"beforetoggle":k=At}var mt=(n&4)!==0,Jt=!mt&&(t==="scroll"||t==="scrollend"),z=mt?P!==null?P+"Capture":null:P;mt=[];for(var I=B,U;I!==null;){var Y=I;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||z===null||(Y=Un(I,z),Y!=null&&mt.push(Vl(I,Y,U))),Jt)break;I=I.return}0<mt.length&&(P=new k(P,rt,null,a,F),X.push({event:P,listeners:mt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",P&&a!==Jr&&(rt=a.relatedTarget||a.fromElement)&&(ti(rt)||rt[$n]))break t;if((k||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,k?(rt=a.relatedTarget||a.toElement,k=B,rt=rt?ti(rt):null,rt!==null&&(Jt=h(rt),mt=rt.tag,rt!==Jt||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(k=null,rt=B),k!==rt)){if(mt=el,Y="onMouseLeave",z="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(mt=wi,Y="onPointerLeave",z="onPointerEnter",I="pointer"),Jt=k==null?P:un(k),U=rt==null?P:un(rt),P=new mt(Y,I+"leave",k,a,F),P.target=Jt,P.relatedTarget=U,Y=null,ti(F)===B&&(mt=new mt(z,I+"enter",rt,a,F),mt.target=U,mt.relatedTarget=Jt,Y=mt),Jt=Y,k&&rt)e:{for(mt=xE,z=k,I=rt,U=0,Y=z;Y;Y=mt(Y))U++;Y=0;for(var ft=I;ft;ft=mt(ft))Y++;for(;0<U-Y;)z=mt(z),U--;for(;0<Y-U;)I=mt(I),Y--;for(;U--;){if(z===I||I!==null&&z===I.alternate){mt=z;break e}z=mt(z),I=mt(I)}mt=null}else mt=null;k!==null&&Mp(X,P,k,mt,!1),rt!==null&&Jt!==null&&Mp(X,Jt,rt,mt,!0)}}t:{if(P=B?un(B):window,k=P.nodeName&&P.nodeName.toLowerCase(),k==="select"||k==="input"&&P.type==="file")var Lt=Jd;else if(Xd(P))if($d)Lt=Lv;else{Lt=zv;var ut=Mv}else k=P.nodeName,!k||k.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Os(B.elementType)&&(Lt=Jd):Lt=jv;if(Lt&&(Lt=Lt(t,B))){Zd(X,Lt,a,F);break t}ut&&ut(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&Kr(P,"number",P.value)}switch(ut=B?un(B):window,t){case"focusin":(Xd(ut)||ut.contentEditable==="true")&&(qs=ut,qc=B,rl=null);break;case"focusout":rl=qc=qs=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,rm(X,a,F);break;case"selectionchange":if(Bv)break;case"keydown":case"keyup":rm(X,a,F)}var Rt;if(qt)t:{switch(t){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Ps?es(t,a)&&(Dt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(ci&&a.locale!=="ko"&&(Ps||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Ps&&(Rt=Wr()):(ri=F,$r="value"in ri?ri.value:ri.textContent,Ps=!0)),ut=Nu(B,Dt),0<ut.length&&(Dt=new ui(Dt,t,null,a,F),X.push({event:Dt,listeners:ut}),Rt?Dt.data=Rt:(Rt=Bs(a),Rt!==null&&(Dt.data=Rt)))),(Rt=An?Dv(t,a):Vv(t,a))&&(Dt=Nu(B,"onBeforeInput"),0<Dt.length&&(ut=new ui("onBeforeInput","beforeinput",null,a,F),X.push({event:ut,listeners:Dt}),ut.data=Rt)),bE(X,t,B,a,F)}Ip(X,n)})}function Vl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Nu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Un(t,a),c!=null&&l.unshift(Vl(t,c,f)),c=Un(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function xE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=Un(a,f),B!=null&&g.unshift(Vl(a,B,w))):c||(B=Un(a,f),B!=null&&g.push(Vl(a,B,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var wE=/\r\n?/g,CE=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(wE,`
`).replace(CE,"")}function jp(t,n){return n=zp(n),zp(t)===n}function Zt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Zr(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ms(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ms(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ms(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Vs(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=No.get(a)||a,Vs(t,a,l))}}function mf(t,n,a,l,c,f){switch(a){case"style":Zr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Vs(t,a,l)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,f,g,a,null)}}c&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=g=c=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":w=F;break;case"defaultChecked":B=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Zt(t,n,l,F,a,null)}}xo(t,f,E,w,B,g,c,!1);return;case"select":Ct("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Zt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Xi(t,!!l,n,!1):a!=null&&Xi(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(t,n,g,E,a,null)}Zi(t,l,c,f);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,w,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ct(Dl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,B,l,a,null)}return;default:if(Os(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&mf(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(t,n,E,l,a,null))}function NE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,B=null,F=null;for(k in a){var X=a[k];if(a.hasOwnProperty(k)&&X!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(k)||Zt(t,n,k,null,l,X)}}for(var P in l){var k=l[P];if(X=a[P],l.hasOwnProperty(P)&&(k!=null||X!=null))switch(P){case"type":f=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":F=k;break;case"value":g=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==X&&Zt(t,n,P,k,l,X)}}Is(t,g,E,w,B,F,f,c);return;case"select":k=g=E=P=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":k=w;default:l.hasOwnProperty(f)||Zt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Zt(t,n,c,f,l,w)}n=E,a=g,l=k,P!=null?Xi(t,!!a,P,!1):!!l!=!!a&&(n!=null?Xi(t,!!a,n,!0):Xi(t,!!a,a?[]:"",!1));return;case"textarea":k=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":P=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Zt(t,n,g,c,l,f)}wo(t,P,k);return;case"option":for(var rt in a)if(P=a[rt],a.hasOwnProperty(rt)&&P!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Zt(t,n,rt,null,l,P)}for(w in l)if(P=l[w],k=a[w],l.hasOwnProperty(w)&&P!==k&&(P!=null||k!=null))switch(w){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Zt(t,n,w,P,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)P=a[mt],a.hasOwnProperty(mt)&&P!=null&&!l.hasOwnProperty(mt)&&Zt(t,n,mt,null,l,P);for(B in l)if(P=l[B],k=a[B],l.hasOwnProperty(B)&&P!==k&&(P!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Zt(t,n,B,P,l,k)}return;default:if(Os(n)){for(var Jt in a)P=a[Jt],a.hasOwnProperty(Jt)&&P!==void 0&&!l.hasOwnProperty(Jt)&&mf(t,n,Jt,void 0,l,P);for(F in l)P=l[F],k=a[F],!l.hasOwnProperty(F)||P===k||P===void 0&&k===void 0||mf(t,n,F,P,l,k);return}}for(var z in a)P=a[z],a.hasOwnProperty(z)&&P!=null&&!l.hasOwnProperty(z)&&Zt(t,n,z,null,l,P);for(X in l)P=l[X],k=a[X],!l.hasOwnProperty(X)||P===k||P==null&&k==null||Zt(t,n,X,P,l,k)}function Lp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Lp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],B=w.startTime;if(B>E)break;var F=w.transferSize,X=w.initiatorType;F&&Lp(X)&&(w=w.responseEnd,g+=F*(w<E?1:(E-B)/(w-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gf=null,pf=null;function Du(t){return t.nodeType===9?t:t.ownerDocument}function Up(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function VE(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var Pp=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(t){return qp.resolve(null).then(t).catch(ME)}:Pp;function ME(t){setTimeout(function(){throw t})}function va(t){return t==="head"}function kp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),mr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Il(t.ownerDocument.body);a=c}while(a);mr(n)}function Hp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),Ds(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function jE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function Gp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function Ef(t){return t.data==="$?"||t.data==="$~"}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function LE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bf=null;function Fp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Dn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Qp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Yp(t,n,a){switch(n=Du(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ds(t)}var Vn=new Map,Kp=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=it.d;it.d={f:UE,r:BE,D:PE,C:qE,L:kE,m:HE,X:FE,S:GE,M:QE};function UE(){var t=ki.f(),n=bu();return t||n}function BE(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?hg(n):ki.r(t)}var hr=typeof document>"u"?null:document;function Xp(t,n,a){var l=hr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Kp.has(c)||(Kp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),Ee(n),l.head.appendChild(n)))}}function PE(t){ki.D(t),Xp("dns-prefetch",t,null)}function qE(t,n){ki.C(t,n),Xp("preconnect",t,n)}function kE(t,n,a){ki.L(t,n,a);var l=hr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=fr(t);break;case"script":f=dr(t)}Vn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ol(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),ke(n,"link",t),Ee(n),l.head.appendChild(n)))}}function HE(t,n){ki.m(t,n);var a=hr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=dr(t)}if(!Vn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),ke(l,"link",t),Ee(l),a.head.appendChild(l)}}}function GE(t,n,a){ki.S(t,n,a);var l=hr;if(l&&t){var c=ei(l).hoistableStyles,f=fr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ol(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&Af(t,a);var w=g=l.createElement("link");Ee(w),ke(w,"link",t),w._p=new Promise(function(B,F){w.onload=B,w.onerror=F}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Iu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function FE(t,n){ki.X(t,n);var a=hr;if(a&&t){var l=ei(a).hoistableScripts,c=dr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=S({src:t,async:!0},n),(n=Vn.get(c))&&Sf(t,n),f=a.createElement("script"),Ee(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function QE(t,n){ki.M(t,n);var a=hr;if(a&&t){var l=ei(a).hoistableScripts,c=dr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&Sf(t,n),f=a.createElement("script"),Ee(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Zp(t,n,a,l){var c=(c=ot.current)?Vu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=fr(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fr(a.href);var f=ei(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Ol(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||YE(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=dr(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fr(t){return'href="'+We(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Jp(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function YE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),Ee(n),t.head.appendChild(n))}function dr(t){return'[src="'+We(t)+'"]'}function Ml(t){return"script[async]"+t}function $p(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,Ee(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),ke(l,"style",c),Iu(l,a.precedence,t),n.instance=l;case"stylesheet":c=fr(a.href);var f=t.querySelector(Ol(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=Jp(a),(c=Vn.get(c))&&Af(l,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),ke(f,"link",l),n.state.loading|=4,Iu(f,a.precedence,t),n.instance=f;case"script":return f=dr(a.src),(c=t.querySelector(Ml(f)))?(n.instance=c,Ee(c),c):(l=a,(c=Vn.get(f))&&(l=S({},a),Sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Iu(l,a.precedence,t));return n.instance}function Iu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ou=null;function Wp(t,n,a){if(Ou===null){var l=new Map,c=Ou=new Map;c.set(a,l)}else c=Ou,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Wn]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ty(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function KE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ey(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function XE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=fr(l.href),f=n.querySelector(Ol(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Mu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,l=Jp(l),(c=Vn.get(c))&&Af(l,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),ke(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Rf=0;function ZE(t,n){return t.stylesheets&&t.count===0&&ju(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ju(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Rf===0&&(Rf=62500*DE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ju(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Rf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Mu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ju(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function ju(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,n.forEach(JE,t),zu=null,Mu.call(t))}function JE(t,n){if(!(n.state.loading&4)){var a=zu.get(t);if(a)var l=a.get(null);else{a=new Map,zu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Mu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var zl={$$typeof:vt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function $E(t,n,a,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function ny(t,n,a,l,c,f,g,E,w,B,F,X){return t=new $E(t,n,a,g,w,B,F,X,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=ih(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},lh(f),t}function iy(t){return t?(t=Gs,t):Gs}function ay(t,n,a,l,c,f){c=iy(c),l.context===null?l.context=c:l.pendingContext=c,l=oa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ua(t,l,n),a!==null&&(rn(a,t,n),dl(a,t,n))}function sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function xf(t,n){sy(t,n),(t=t.alternate)&&sy(t,n)}function ry(t){if(t.tag===13||t.tag===31){var n=as(t,67108864);n!==null&&rn(n,t,67108864),xf(t,67108864)}}function ly(t){if(t.tag===13||t.tag===31){var n=yn();n=Qa(n);var a=as(t,n);a!==null&&rn(a,t,n),xf(t,n)}}var Lu=!0;function WE(t,n,a,l){var c=G.T;G.T=null;var f=it.p;try{it.p=2,wf(t,n,a,l)}finally{it.p=f,G.T=c}}function tT(t,n,a,l){var c=G.T;G.T=null;var f=it.p;try{it.p=8,wf(t,n,a,l)}finally{it.p=f,G.T=c}}function wf(t,n,a,l){if(Lu){var c=Cf(l);if(c===null)df(t,n,l,Uu,a),uy(t,l);else if(nT(c,t,n,a,l))l.stopPropagation();else if(uy(t,l),n&4&&-1<eT.indexOf(t)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Xn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-fe(g);E.entanglements[1]|=w,g&=~w}mi(f),(kt&6)===0&&(Eu=Ze()+500,Nl(0))}}break;case 31:case 13:E=as(f,2),E!==null&&rn(E,f,2),bu(),xf(f,2)}if(f=Cf(l),f===null&&df(t,n,l,Uu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else df(t,n,l,null,a)}}function Cf(t){return t=Tn(t),Nf(t)}var Uu=null;function Nf(t){if(Uu=null,t=ti(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uu=t,null}function oy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case Ur:return 2;case Br:return 8;case Yi:case Mc:return 32;case po:return 268435456;default:return 32}default:return 32}}var Df=!1,Ea=null,Ta=null,ba=null,jl=new Map,Ll=new Map,Aa=[],eT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(t,n){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function nT(t,n,a,l,c){switch(n){case"focusin":return Ea=Ul(Ea,t,n,a,l,c),!0;case"dragenter":return Ta=Ul(Ta,t,n,a,l,c),!0;case"mouseover":return ba=Ul(ba,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return jl.set(f,Ul(jl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ll.set(f,Ul(Ll.get(f)||null,t,n,a,l,c)),!0}return!1}function cy(t){var n=ti(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){ly(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,zn(t.priority,function(){ly(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Cf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Jr=l,a.target.dispatchEvent(l),Jr=null}else return n=En(a),n!==null&&ry(n),t.blockedOn=a,!1;n.shift()}return!0}function hy(t,n,a){Bu(t)&&a.delete(n)}function iT(){Df=!1,Ea!==null&&Bu(Ea)&&(Ea=null),Ta!==null&&Bu(Ta)&&(Ta=null),ba!==null&&Bu(ba)&&(ba=null),jl.forEach(hy),Ll.forEach(hy)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,Df||(Df=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iT)))}var qu=null;function fy(t){qu!==t&&(qu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qu===t&&(qu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Nf(l||a)===null)continue;break}var f=En(a);f!==null&&(t.splice(n,3),n-=3,wh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function mr(t){function n(w){return Pu(w,t)}Ea!==null&&Pu(Ea,t),Ta!==null&&Pu(Ta,t),ba!==null&&Pu(ba,t),jl.forEach(n),Ll.forEach(n);for(var a=0;a<Aa.length;a++){var l=Aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Aa.length&&(a=Aa[0],a.blockedOn===null);)cy(a),a.blockedOn===null&&Aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||fy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Nf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),fy(a)}}}function dy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Vf(t){this._internalRoot=t}ku.prototype.render=Vf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=yn();ay(a,l,t,n,null,null)},ku.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ay(t.current,2,null,t,null,null),bu(),n[$n]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=bo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Aa.length&&n!==0&&n<Aa[a].priority;a++);Aa.splice(a,0,t),a===0&&cy(t)}};var my=e.version;if(my!=="19.2.4")throw Error(s(527,my,"19.2.4"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var aT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{On=Hu.inject(aT),Le=Hu}catch{}}return Pl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Tg,f=bg,g=Ag;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ny(t,1,!1,null,null,a,l,null,c,f,g,dy),t[$n]=n.current,ff(t),new Vf(n)},Pl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Tg,g=bg,E=Ag,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=ny(t,1,!0,n,a??null,l,c,w,f,g,E,dy),n.context=iy(null),a=n.current,l=yn(),l=Qa(l),c=oa(l),c.callback=null,ua(a,c,l),a=l,n.current.lanes=a,Ga(n,a),mi(n),t[$n]=n.current,ff(t),new ku(n)},Pl.version="19.2.4",Pl}var Sy;function gT(){if(Sy)return Mf.exports;Sy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mf.exports=mT(),Mf.exports}var pT=gT();const yT=L_(pT),_T=({settings:r,onUpdate:e,onClose:i})=>R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:R.jsxs("div",{className:"bg-slate-800 border-2 border-slate-600 rounded-2xl w-full max-w-md p-6 shadow-2xl text-white",children:[R.jsx("h2",{className:"text-3xl display-font text-yellow-400 mb-6 text-center",children:"Configuracin del Juego"}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block font-bold text-slate-300 mb-2",children:" Tiempo por Pregunta (Segundos)"}),R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("input",{type:"range",min:"10",max:"90",step:"5",value:r.timeLimitSeconds,onChange:s=>e({...r,timeLimitSeconds:parseInt(s.target.value)}),className:"flex-1 accent-indigo-500 h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer"}),R.jsxs("span",{className:"text-2xl font-mono font-bold w-16 text-right",children:[r.timeLimitSeconds,"s"]})]}),R.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Ms corto = Ms intenso. Si se acaba el tiempo, pierden los puntos."})]}),R.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 p-4 rounded-xl",children:[R.jsxs("div",{children:[R.jsx("label",{className:"font-bold text-slate-200",children:" Bonus de Velocidad"}),R.jsx("p",{className:"text-xs text-slate-400",children:"Dar ms puntos por responder rpido."})]}),R.jsx("button",{onClick:()=>e({...r,speedBonusEnabled:!r.speedBonusEnabled}),className:`w-14 h-8 rounded-full relative transition-colors ${r.speedBonusEnabled?"bg-emerald-500":"bg-slate-500"}`,children:R.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition-transform ${r.speedBonusEnabled?"left-7":"left-1"}`})})]})]}),R.jsx("div",{className:"mt-8 flex justify-end",children:R.jsx("button",{onClick:i,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg transition-transform active:scale-95",children:"GUARDAR Y CERRAR"})})]})}),vT=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ET=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,b=h>>2,S=(h&3)<<4|p>>4;let D=(p&15)<<2|_>>6,H=_&63;v||(H=64,d||(D=64)),s.push(i[b],i[S],i[D],i[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(U_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ET(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||_==null||S==null)throw new TT;const D=h<<2|p>>4;if(s.push(D),_!==64){const H=p<<4&240|_>>2;if(s.push(H),S!==64){const et=_<<6&192|S;s.push(et)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class TT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bT=function(r){const e=U_(r);return B_.encodeByteArray(e,!0)},ec=function(r){return bT(r).replace(/\./g,"")},AT=function(r){try{return B_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=()=>ST().__FIREBASE_DEFAULTS__,xT=()=>{if(typeof process>"u"||typeof Ry>"u")return;const r=Ry.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&AT(r[1]);return e&&JSON.parse(e)},pd=()=>{try{return vT()||RT()||xT()||wT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},CT=r=>{var e,i;return(i=(e=pd())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},NT=r=>{const e=CT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},P_=()=>{var r;return(r=pd())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ec(JSON.stringify(i)),ec(JSON.stringify(d)),""].join(".")}const Ql={};function OT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function MT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let xy=!1;function zT(r,e){if(typeof window>"u"||typeof document>"u"||!yd(window.location.host)||Ql[r]===e||Ql[r]||xy)return;Ql[r]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=OT().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{xy=!0,d()},D}function b(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=MT(s),H=i("text"),et=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),$=document.getElementById(W)||document.createElement("a"),gt=i("preprendIcon"),yt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const vt=D.element;p(vt),b($,W);const Bt=_();v(yt,gt),vt.append(yt,et,$,Bt),document.body.appendChild(vt)}h?(et.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LT(){var e;const r=(e=pd())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UT(){return!LT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BT(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="FirebaseError";class Dr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=qT,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q_.prototype.create)}}class q_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?kT(h,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Dr(o,p,s)}}function kT(r,e){return r.replace(HT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const HT=/\{\$([^}]+)}/g;function Jl(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(wy(h)&&wy(d)){if(!Jl(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function wy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(r){return r&&r._delegate?r._delegate:r}class $l{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new DT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QT(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FT(r){return r===ys?void 0:r}function QT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new GT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const KT={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},XT=zt.INFO,ZT={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},JT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ZT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k_{constructor(e){this.name=e,this._logLevel=XT,this._logHandler=JT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const $T=(r,e)=>e.some(i=>r instanceof i);let Cy,Ny;function WT(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,Yf=new WeakMap,G_=new WeakMap,Uf=new WeakMap,_d=new WeakMap;function e1(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(wa(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&H_.set(i,r)}).catch(()=>{}),_d.set(e,r),e}function n1(r){if(Yf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Yf.set(r,e)}let Kf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Yf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||G_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function i1(r){Kf=r(Kf)}function a1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Bf(this),e,...i);return G_.set(s,e.sort?e.sort():[e]),wa(s)}:t1().includes(r)?function(...e){return r.apply(Bf(this),e),wa(H_.get(this))}:function(...e){return wa(r.apply(Bf(this),e))}}function s1(r){return typeof r=="function"?a1(r):(r instanceof IDBTransaction&&n1(r),$T(r,WT())?new Proxy(r,Kf):r)}function wa(r){if(r instanceof IDBRequest)return e1(r);if(Uf.has(r))return Uf.get(r);const e=s1(r);return e!==r&&(Uf.set(r,e),_d.set(e,r)),e}const Bf=r=>_d.get(r);function r1(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),p=wa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(wa(d.result),v.oldVersion,v.newVersion,wa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const l1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],Pf=new Map;function Dy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=o1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||l1.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Pf.set(e,h),h}i1(r=>({...r,get:(e,i,s)=>Dy(e,i)||r.get(e,i,s),has:(e,i)=>!!Dy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(c1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function c1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",Vy="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new k_("@firebase/app"),h1="@firebase/app-compat",f1="@firebase/analytics-compat",d1="@firebase/analytics",m1="@firebase/app-check-compat",g1="@firebase/app-check",p1="@firebase/auth",y1="@firebase/auth-compat",_1="@firebase/database",v1="@firebase/data-connect",E1="@firebase/database-compat",T1="@firebase/functions",b1="@firebase/functions-compat",A1="@firebase/installations",S1="@firebase/installations-compat",R1="@firebase/messaging",x1="@firebase/messaging-compat",w1="@firebase/performance",C1="@firebase/performance-compat",N1="@firebase/remote-config",D1="@firebase/remote-config-compat",V1="@firebase/storage",I1="@firebase/storage-compat",O1="@firebase/firestore",M1="@firebase/ai",z1="@firebase/firestore-compat",j1="firebase",L1="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",U1={[Xf]:"fire-core",[h1]:"fire-core-compat",[d1]:"fire-analytics",[f1]:"fire-analytics-compat",[g1]:"fire-app-check",[m1]:"fire-app-check-compat",[p1]:"fire-auth",[y1]:"fire-auth-compat",[_1]:"fire-rtdb",[v1]:"fire-data-connect",[E1]:"fire-rtdb-compat",[T1]:"fire-fn",[b1]:"fire-fn-compat",[A1]:"fire-iid",[S1]:"fire-iid-compat",[R1]:"fire-fcm",[x1]:"fire-fcm-compat",[w1]:"fire-perf",[C1]:"fire-perf-compat",[N1]:"fire-rc",[D1]:"fire-rc-compat",[V1]:"fire-gcs",[I1]:"fire-gcs-compat",[O1]:"fire-fst",[z1]:"fire-fst-compat",[M1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,B1=new Map,Jf=new Map;function Iy(r,e){try{r.container.addComponent(e)}catch(i){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ic(r){const e=r.name;if(Jf.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Jf.set(e,r);for(const i of nc.values())Iy(i,r);for(const i of B1.values())Iy(i,r);return!0}function P1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function q1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new q_("app","Firebase",k1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=L1;function F_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Zf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ca.create("bad-app-name",{appName:String(o)});if(i||(i=P_()),!i)throw Ca.create("no-options");const h=nc.get(o);if(h){if(Jl(i,h.options)&&Jl(s,h.config))return h;throw Ca.create("duplicate-app",{appName:o})}const d=new YT(o);for(const v of Jf.values())d.addComponent(v);const p=new H1(i,s,d);return nc.set(o,p),p}function F1(r=Zf){const e=nc.get(r);if(!e&&r===Zf&&P_())return F_();if(!e)throw Ca.create("no-app",{appName:r});return e}function vr(r,e,i){let s=U1[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}ic(new $l(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebase-heartbeat-database",Y1=1,Wl="firebase-heartbeat-store";let qf=null;function Q_(){return qf||(qf=r1(Q1,Y1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ca.create("idb-open",{originalErrorMessage:r.message})})),qf}async function K1(r){try{const i=(await Q_()).transaction(Wl),s=await i.objectStore(Wl).get(Y_(r));return await i.done,s}catch(e){if(e instanceof Dr)Hi.warn(e.message);else{const i=Ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(i.message)}}}async function Oy(r,e){try{const s=(await Q_()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,Y_(r)),await s.done}catch(i){if(i instanceof Dr)Hi.warn(i.message);else{const s=Ca.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Hi.warn(s.message)}}}function Y_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=1024,Z1=30;class J1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new W1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=My();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>Z1){const d=tb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=My(),{heartbeatsToSend:s,unsentEntries:o}=$1(this._heartbeatsCache.heartbeats),h=ec(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Hi.warn(i),""}}}function My(){return new Date().toISOString().substring(0,10)}function $1(r,e=X1){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),zy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),zy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class W1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BT()?PT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await K1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zy(r){return ec(JSON.stringify({version:2,heartbeats:r})).length}function tb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(r){ic(new $l("platform-logger",e=>new u1(e),"PRIVATE")),ic(new $l("heartbeat",e=>new J1(e),"PRIVATE")),vr(Xf,Vy,r),vr(Xf,Vy,"esm2020"),vr("fire-js","")}eb("");var nb="firebase",ib="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(nb,ib,"app");var jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Na,K_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function C(){}C.prototype=A.prototype,N.F=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,V,j){for(var x=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)x[Wt-2]=arguments[Wt];return A.prototype[V].apply(M,x)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)M[V]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(V=0;V<16;++V)M[V]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],V=N.g[2];let j=N.g[3],x;x=A+(j^C&(V^j))+M[0]+3614090360&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(V^A&(C^V))+M[1]+3905402710&4294967295,j=A+(x<<12&4294967295|x>>>20),x=V+(C^j&(A^C))+M[2]+606105819&4294967295,V=j+(x<<17&4294967295|x>>>15),x=C+(A^V&(j^A))+M[3]+3250441966&4294967295,C=V+(x<<22&4294967295|x>>>10),x=A+(j^C&(V^j))+M[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(V^A&(C^V))+M[5]+1200080426&4294967295,j=A+(x<<12&4294967295|x>>>20),x=V+(C^j&(A^C))+M[6]+2821735955&4294967295,V=j+(x<<17&4294967295|x>>>15),x=C+(A^V&(j^A))+M[7]+4249261313&4294967295,C=V+(x<<22&4294967295|x>>>10),x=A+(j^C&(V^j))+M[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(V^A&(C^V))+M[9]+2336552879&4294967295,j=A+(x<<12&4294967295|x>>>20),x=V+(C^j&(A^C))+M[10]+4294925233&4294967295,V=j+(x<<17&4294967295|x>>>15),x=C+(A^V&(j^A))+M[11]+2304563134&4294967295,C=V+(x<<22&4294967295|x>>>10),x=A+(j^C&(V^j))+M[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(V^A&(C^V))+M[13]+4254626195&4294967295,j=A+(x<<12&4294967295|x>>>20),x=V+(C^j&(A^C))+M[14]+2792965006&4294967295,V=j+(x<<17&4294967295|x>>>15),x=C+(A^V&(j^A))+M[15]+1236535329&4294967295,C=V+(x<<22&4294967295|x>>>10),x=A+(V^j&(C^V))+M[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^V&(A^C))+M[6]+3225465664&4294967295,j=A+(x<<9&4294967295|x>>>23),x=V+(A^C&(j^A))+M[11]+643717713&4294967295,V=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(V^j))+M[0]+3921069994&4294967295,C=V+(x<<20&4294967295|x>>>12),x=A+(V^j&(C^V))+M[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^V&(A^C))+M[10]+38016083&4294967295,j=A+(x<<9&4294967295|x>>>23),x=V+(A^C&(j^A))+M[15]+3634488961&4294967295,V=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(V^j))+M[4]+3889429448&4294967295,C=V+(x<<20&4294967295|x>>>12),x=A+(V^j&(C^V))+M[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^V&(A^C))+M[14]+3275163606&4294967295,j=A+(x<<9&4294967295|x>>>23),x=V+(A^C&(j^A))+M[3]+4107603335&4294967295,V=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(V^j))+M[8]+1163531501&4294967295,C=V+(x<<20&4294967295|x>>>12),x=A+(V^j&(C^V))+M[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^V&(A^C))+M[2]+4243563512&4294967295,j=A+(x<<9&4294967295|x>>>23),x=V+(A^C&(j^A))+M[7]+1735328473&4294967295,V=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(V^j))+M[12]+2368359562&4294967295,C=V+(x<<20&4294967295|x>>>12),x=A+(C^V^j)+M[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^V)+M[8]+2272392833&4294967295,j=A+(x<<11&4294967295|x>>>21),x=V+(j^A^C)+M[11]+1839030562&4294967295,V=j+(x<<16&4294967295|x>>>16),x=C+(V^j^A)+M[14]+4259657740&4294967295,C=V+(x<<23&4294967295|x>>>9),x=A+(C^V^j)+M[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^V)+M[4]+1272893353&4294967295,j=A+(x<<11&4294967295|x>>>21),x=V+(j^A^C)+M[7]+4139469664&4294967295,V=j+(x<<16&4294967295|x>>>16),x=C+(V^j^A)+M[10]+3200236656&4294967295,C=V+(x<<23&4294967295|x>>>9),x=A+(C^V^j)+M[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^V)+M[0]+3936430074&4294967295,j=A+(x<<11&4294967295|x>>>21),x=V+(j^A^C)+M[3]+3572445317&4294967295,V=j+(x<<16&4294967295|x>>>16),x=C+(V^j^A)+M[6]+76029189&4294967295,C=V+(x<<23&4294967295|x>>>9),x=A+(C^V^j)+M[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^V)+M[12]+3873151461&4294967295,j=A+(x<<11&4294967295|x>>>21),x=V+(j^A^C)+M[15]+530742520&4294967295,V=j+(x<<16&4294967295|x>>>16),x=C+(V^j^A)+M[2]+3299628645&4294967295,C=V+(x<<23&4294967295|x>>>9),x=A+(V^(C|~j))+M[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~V))+M[7]+1126891415&4294967295,j=A+(x<<10&4294967295|x>>>22),x=V+(A^(j|~C))+M[14]+2878612391&4294967295,V=j+(x<<15&4294967295|x>>>17),x=C+(j^(V|~A))+M[5]+4237533241&4294967295,C=V+(x<<21&4294967295|x>>>11),x=A+(V^(C|~j))+M[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~V))+M[3]+2399980690&4294967295,j=A+(x<<10&4294967295|x>>>22),x=V+(A^(j|~C))+M[10]+4293915773&4294967295,V=j+(x<<15&4294967295|x>>>17),x=C+(j^(V|~A))+M[1]+2240044497&4294967295,C=V+(x<<21&4294967295|x>>>11),x=A+(V^(C|~j))+M[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~V))+M[15]+4264355552&4294967295,j=A+(x<<10&4294967295|x>>>22),x=V+(A^(j|~C))+M[6]+2734768916&4294967295,V=j+(x<<15&4294967295|x>>>17),x=C+(j^(V|~A))+M[13]+1309151649&4294967295,C=V+(x<<21&4294967295|x>>>11),x=A+(V^(C|~j))+M[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~V))+M[11]+3174756917&4294967295,j=A+(x<<10&4294967295|x>>>22),x=V+(A^(j|~C))+M[2]+718787259&4294967295,V=j+(x<<15&4294967295|x>>>17),x=C+(j^(V|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const C=A-this.blockSize,M=this.C;let V=this.h,j=0;for(;j<A;){if(V==0)for(;j<=C;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(M[V++]=N.charCodeAt(j++),V==this.blockSize){o(this,M),V=0;break}}else for(;j<A;)if(M[V++]=N[j++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[A++]=this.g[C]>>>M&255;return N};function h(N,A){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function d(N,A){this.h=A;const C=[];let M=!0;for(let V=N.length-1;V>=0;V--){const j=N[V]|0;M&&j==A||(C[V]=j,M=!1)}this.g=C}var p={};function v(N){return-128<=N&&N<128?h(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return $(_(-N));const A=[];let C=1;for(let M=0;N>=C;M++)A[M]=N/C|0,C*=4294967296;return new d(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return $(b(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let M=S;for(let j=0;j<N.length;j+=8){var V=Math.min(8,N.length-j);const x=parseInt(N.substring(j,j+V),A);V<8?(V=_(Math.pow(A,V)),M=M.j(V).add(_(x))):(M=M.j(C),M=M.add(_(x)))}return M}var S=v(0),D=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-$(this).m();let N=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(et(this))return"0";if(W(this))return"-"+$(this).toString(N);const A=_(Math.pow(N,6));var C=this;let M="";for(;;){const V=Bt(C,A).g;C=gt(C,V.j(A));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=V,et(C))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function et(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=gt(this,N),W(N)?-1:et(N)?0:1};function $(N){const A=N.g.length,C=[];for(let M=0;M<A;M++)C[M]=~N.g[M];return new d(C,~N.h).add(D)}r.abs=function(){return W(this)?$(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let V=0;V<=A;V++){let j=M+(this.i(V)&65535)+(N.i(V)&65535),x=(j>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);M=x>>>16,j&=65535,x&=65535,C[V]=x<<16|j}return new d(C,C[C.length-1]&-2147483648?-1:0)};function gt(N,A){return N.add($(A))}r.j=function(N){if(et(this)||et(N))return S;if(W(this))return W(N)?$(this).j($(N)):$($(this).j(N));if(W(N))return $(this.j($(N)));if(this.l(H)<0&&N.l(H)<0)return _(this.m()*N.m());const A=this.g.length+N.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let V=0;V<N.g.length;V++){const j=this.i(M)>>>16,x=this.i(M)&65535,Wt=N.i(V)>>>16,oe=N.i(V)&65535;C[2*M+2*V]+=x*oe,yt(C,2*M+2*V),C[2*M+2*V+1]+=j*oe,yt(C,2*M+2*V+1),C[2*M+2*V+1]+=x*Wt,yt(C,2*M+2*V+1),C[2*M+2*V+2]+=j*Wt,yt(C,2*M+2*V+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new d(C,0)};function yt(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function vt(N,A){this.g=N,this.h=A}function Bt(N,A){if(et(A))throw Error("division by zero");if(et(N))return new vt(S,S);if(W(N))return A=Bt($(N),A),new vt($(A.g),$(A.h));if(W(A))return A=Bt(N,$(A)),new vt($(A.g),A.h);if(N.g.length>30){if(W(N)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var C=D,M=A;M.l(N)<=0;)C=Pt(C),M=Pt(M);var V=lt(C,1),j=lt(M,1);for(M=lt(M,2),C=lt(C,2);!et(M);){var x=j.add(M);x.l(N)<=0&&(V=V.add(C),j=x),M=lt(M,1),C=lt(C,1)}return A=gt(N,V.j(A)),new vt(V,A)}for(V=S;N.l(A)>=0;){for(C=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=_(C),x=j.j(A);W(x)||x.l(N)>0;)C-=M,j=_(C),x=j.j(A);et(j)&&(j=D),V=V.add(j),N=gt(N,x)}return new vt(V,N)}r.B=function(N){return Bt(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function Pt(N){const A=N.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function lt(N,A){const C=A>>5;A%=32;const M=N.g.length-C,V=[];for(let j=0;j<M;j++)V[j]=A>0?N.i(j+C)>>>A|N.i(j+C+1)<<32-A:N.i(j+C);return new d(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,K_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Na=d}).apply(typeof jy<"u"?jy:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X_,kl,Z_,Xu,$f,J_,$_,W_;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var nt=Array(arguments.length-2),At=2;At<arguments.length;At++)nt[At-2]=arguments[At];return m.prototype[L].apply(T,nt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const q=L.length||0;u.length=y+q;for(let nt=0;nt<q;nt++)u[y+nt]=L[nt]}else u.push(L)}}class W{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,y){const T=vt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var vt=new W(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Pt,lt=!1,N=new yt,A=()=>{const u=Promise.resolve(void 0);Pt=()=>{u.then(C)}};function C(){for(var u;u=gt();){try{u.h.call(u.g)}catch(y){$(y)}var m=vt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}lt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Wt,V),Wt.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function jt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let q=0;q<K.length;q++)y=K[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function Q(u){this.src=u,this.g={},this.h=0}Q.prototype.add=function(u,m,y,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=ot(u,m,T,L);return nt>-1?(m=u[nt],y||(m.fa=!1)):(m=new it(m,this.src,q,!!T,L),m.fa=y,u.push(m)),m};function tt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ot(u,m,y,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return L}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),he={};function te(u,m,y,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)te(u,m[q],y,T,L);return null}return y=Lr(y),u&&u[oe]?u.J(m,y,p(T)?!!T.capture:!1,L):Pa(u,m,y,!1,T,L)}function Pa(u,m,y,T,L,q){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let At=qa(u);if(At||(u[_t]=At=new Q(u)),y=At.add(m,y,T,nt,q),y.proxy)return y;if(T=Rs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)j||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Rs(){function u(y){return m.call(u.src,u.listener,y)}const m=zr;return u}function xs(u,m,y,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)xs(u,m[q],y,T,L);else T=p(T)?!!T.capture:!!T,y=Lr(y),u&&u[oe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=ot(m,y,T,L),y>-1&&(ht(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=qa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ot(m,y,T,L)),(y=u>-1?m[u]:null)&&ws(y))}function ws(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[oe])tt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Yn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=qa(m))?(tt(y,u),y.h==0&&(y.src=null,m[_t]=null)):ht(u)}}}function Yn(u){return u in he?he[u]:he[u]="on"+u}function zr(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&ws(u),u=y.call(T,m)}return u}function qa(u){return u=u[_t],u instanceof Q?u:null}var jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lr(u){return typeof u=="function"?u:(u[jr]||(u[jr]=function(m){return u.handleEvent(m)}),u[jr])}function ye(){M.call(this),this.i=new Q(this),this.M=this,this.G=null}S(ye,M),ye.prototype[oe]=!0,ye.prototype.removeEventListener=function(u,m,y,T){xs(this,u,m,y,T)};function Ne(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var L=m;m=new V(T,u),at(m,L)}L=!0;let q,nt;if(y)for(nt=y.length-1;nt>=0;nt--)q=m.g=y[nt],L=Qi(q,T,!0,m)&&L;if(q=m.g=u,L=Qi(q,T,!0,m)&&L,L=Qi(q,T,!1,m)&&L,y)for(nt=0;nt<y.length;nt++)q=m.g=y[nt],L=Qi(q,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ht(y[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ye.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Qi(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==y){const At=nt.listener,de=nt.ha||nt.src;nt.fa&&tt(u.i,nt),L=At.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function Oc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function go(u){u.g=Oc(()=>{u.g=null,u.i&&(u.i=!1,go(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:go(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(u){M.call(this),this.h=u,this.g={}}S(ka,M);var Ur=[];function Br(u){xt(u.g,function(m,y){this.g.hasOwnProperty(y)&&ws(m)},u),u.g={}}ka.prototype.N=function(){ka.Z.N.call(this),Br(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yi=d.JSON.stringify,Mc=d.JSON.parse,po=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function yo(){}function _o(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){V.call(this,"d")}S(Le,V);function vn(){V.call(this,"c")}S(vn,V);var fe={},vo=null;function Cs(){return vo=vo||new ye}fe.Ia="serverreachability";function Eo(u){V.call(this,fe.Ia,u)}S(Eo,V);function Kn(u){const m=Cs();Ne(m,new Eo(m))}fe.STAT_EVENT="statevent";function Ha(u,m){V.call(this,fe.STAT_EVENT,u),this.stat=m}S(Ha,V);function _e(u){const m=Cs();Ne(m,new Ha(m,u))}fe.Ja="timingevent";function Xn(u,m){V.call(this,fe.Ja,u),this.size=m}S(Xn,V);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function zc(u,m,y,T,L,q){u.info(function(){if(u.g)if(q){var nt="",At=q.split("&");for(let qt=0;qt<At.length;qt++){var de=At[qt].split("=");if(de.length>1){const ae=de[0];de=de[1];const An=ae.split("_");nt=An.length>=2&&An[1]=="type"?nt+(ae+"="+de+"&"):nt+(ae+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+nt})}function To(u,m,y,T,L,q,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+q+" "+nt})}function Jn(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jc(u,y)+(T?" "+T:"")})}function Ga(u,m){u.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function jc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return Yi(q)}catch{return m}}var Fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qr;function Qa(){}S(Qa,yo),Qa.prototype.g=function(){return new XMLHttpRequest},qr=new Qa;function Si(u){return encodeURIComponent(String(u))}function bo(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function zn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new ka(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var ve={},Oe={};function $n(u,m,y){u.M=1,u.A=Ya(Te(m)),u.u=y,u.R=!0,Ns(u,null)}function Ns(u,m){u.F=Date.now(),Wn(u),u.B=Te(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Os(y.i,"t",T),u.C=0,y=u.j.L,u.h=new jn,u.g=Lo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ur[0]=L.toString()),L=Ur);for(let q=0;q<L.length;q++){const nt=te(y,L[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Kn(),zc(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Bn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Ue(this.g)))){this.K||At!=4||de==7||(de==8||qt<=0?Kn(3):Kn(2)),ti(this);var m=this.g.ca();this.X=m;var y=Lc(this);if(this.o=m==200,To(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var q=T;break e}}q=null}if(u=q)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,_e(12),un(this),En(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<y.length;)if(ae=So(this,y),ae==Oe){At==4&&(this.m=4,_e(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),Jn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,ae,null),ei(this,ae);if(Ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||y.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,y,"[Invalid Chunked Response]"),un(this),En(this);else if(y.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),nl(nt),nt.P=!0,_e(11))}}else Jn(this.i,this.l,y,null),ei(this,y);At==4&&un(this),this.o&&!this.K&&(At==4?Oo(this.j,this):(this.o=!1,Wn(this)))}else xi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),un(this),En(this)}}}catch{}finally{}};function Lc(u){if(!Ao(u))return u.g.la();const m=Ue(u.g);if(m==="")return"";let y="";const T=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),En(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Ao(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function So(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Oe:(y=Number(m.substring(y,T)),isNaN(y)?ve:(T+=1,T+y>m.length?Oe:(m=m.slice(T,T+y),u.C=T+y,m)))}zn.prototype.cancel=function(){this.K=!0,un(this)};function Wn(u){u.T=Date.now()+u.H,Ds(u,u.H)}function Ds(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(_(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ga(this.i,this.B),this.M!=2&&(Kn(),_e(17)),un(this),this.m=2,En(this)):Ds(this,this.T-u)};function En(u){u.j.I==0||u.K||Oo(u.j,u)}function un(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Br(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ii(y.h,u))){if(!u.L&&ii(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Us(y),ea(y);else break t;ts(y),_e(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Zn(_(y.Va,y),6e3));ni(y.h)<=1&&y.ta&&(y.ta=void 0)}else ui(y,11)}else if((u.L||y.g==u)&&Us(y),!x(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const ae=qt[0];if(!(ae<=y.K))if(y.K=ae,qt=qt[1],y.I==2)if(qt[0]=="c"){y.M=qt[1],y.ba=qt[2];const An=qt[3];An!=null&&(y.ka=An,y.j.info("VER="+y.ka));const ci=qt[4];ci!=null&&(y.za=ci,y.j.info("SVER="+y.za));const Pn=qt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const qn=u.g;if(qn){const es=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var q=T.h;q.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Gr(q,q.h),q.h=null))}if(T.G){const Bs=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(T.wa=Bs,Ft(T.J,T.G,Bs))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var nt=u;if(T.na=jo(T,T.L?T.ba:null,T.W),nt.L){Fr(T.h,nt);var At=nt,de=T.O;de&&(At.H=de),At.D&&(ti(At),Wn(At)),T.g=nt}else Vo(T);y.i.length>0&&oi(y)}else qt[0]!="stop"&&qt[0]!="close"||ui(y,7);else y.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ui(y,7):tl(y):qt[0]!="noop"&&y.l&&y.l.qa(qt),y.A=0)}}Kn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gr(u,m){u.g?u.g.add(m):u.h=m}function Fr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}kr.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return H(u.i)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,q=null;T>=0?(L=u[y].substring(0,T),q=u[y].substring(T+1)):L=u[y],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.u),this.h=u.h,Yr(this,No(u.i)),this.m=u.m):u&&(m=String(u).match(Ro))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Ki(this,m[4]),this.h=ai(m[5]||"",!0),Yr(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Zi(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ka(m,Is,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ka(m,Is,!0),"@"),u.push(Si(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ka(y,y.charAt(0)=="/"?Kr:xo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ka(y,wo)),u.join("")},cn.prototype.resolve=function(u){const m=Te(this);let y=!!u.j;y?Me(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)Ki(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let nt=0;nt<L.length;){const At=L[nt++];At=="."?T&&nt==L.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&nt==L.length&&q.push("")):(q.push(At),T=!0)}T=q.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?Yr(m,No(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Te(u){return new cn(u)}function Me(u,m,y){u.j=y?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yr(u,m,y){m instanceof Zi?(u.i=m,Ms(u.i,u.l)):(y||(m=Ka(m,Xi)),u.i=new Zi(m,u.l))}function Ft(u,m,y){u.i.set(m,y)}function Ya(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ka(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,We),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Is=/[#\/\?@]/g,xo=/[#\?:]/g,Kr=/[#\?]/g,Xi=/[#\?@]/g,wo=/#/g;function Zi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Vs(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Zi.prototype,r.add=function(u,m){tn(this),this.i=null,u=Ji(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Co(u,m){tn(u),m=Ji(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Xr(u,m){return tn(u),m=Ji(u,m),u.g.has(m)}r.forEach=function(u,m){tn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Zr(u,m){tn(u);let y=[];if(typeof m=="string")Xr(u,m)&&(y=y.concat(u.g.get(Ji(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return tn(this),this.i=null,u=Ji(this,u),Xr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Zr(this,u),u.length>0?String(u[0]):m):m};function Os(u,m,y){Co(u,m),y.length>0&&(u.i=null,u.g.set(Ji(u,m),H(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Si(y);y=Zr(this,y);for(let q=0;q<y.length;q++){let nt=L;y[q]!==""&&(nt+="="+Si(y[q])),u.push(nt)}}return this.i=u.join("&")};function No(u){const m=new Zi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ji(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ms(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(Co(this,T),Os(this,L,y))},u)),u.j=m}function Ln(u,m){const y=new Mn;if(d.Image){const T=new Image;T.onload=b(Tn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Tn,y,"TestLoadImage: error",!1,m,T),T.onabort=b(Tn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Tn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Jr(u,m){const y=new Mn,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(y,"TestPingServer: error",!1,m)})}function Tn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function $i(){this.g=new po}function si(u){this.i=u.Sb||null,this.h=u.ab||!1}S(si,yo),si.prototype.g=function(){return new Xa(this.i,this.h)};function Xa(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Xa,ye),r=Xa.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Un(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function zs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Wi(this):Un(this),this.readyState==3&&zs(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Wi(this))},r.Na=function(u){this.g&&(this.response=u,Wi(this))},r.ga=function(){this.g&&Wi(this)};function Wi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Un(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Un(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return xt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Za(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=bn(y),typeof u=="string"?y!=null&&Si(y):Ft(u,m,y))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ye);var ri=/^https?$/i,$r=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qr.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ja(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call($r,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of y)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ja(this,q)}};function Ja(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Wr(u),Ri(u)}function Wr(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?$a(this):this.Xa())},r.Xa=function(){$a(this)};function $a(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=q===0){let nt=String(u.D).match(Ro)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!ri.test(nt?nt.toLowerCase():"")}y=T}if(y)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Wr(u)}}finally{Ri(u)}}}}function Ri(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ne(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mc(m)}};function Ue(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var y=bo(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[L]||[];m[L]=q,q.push(y)}jt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ta(u){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new kr(u&&u.concurrentRequestLimit),this.Ba=new $i,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ta.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){_e(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=jo(this,null,this.W),oi(this)};function tl(u){if(js(u),u.I==3){var m=u.V++,y=Te(u.J);if(Ft(y,"SID",u.M),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),Wa(u,y),m=new zn(u,u.j,m),m.M=2,m.A=Ya(Te(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Lo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}zo(u)}function ea(u){u.g&&(nl(u),u.g.cancel(),u.g=null)}function js(u){ea(u),u.v&&(d.clearTimeout(u.v),u.v=null),Us(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!Hr(u.h)&&!u.m){u.m=!0;var m=u.Ea;Pt||A(),lt||(Pt(),lt=!0),N.add(m,u),u.D=0}}function Ls(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(_(u.Ea,u,m),Mo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new zn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),at(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Do(this,L,m),y=Te(this.J),Ft(y,"RID",u),Ft(y,"CVER",22),this.G&&Ft(y,"X-HTTP-Session-Id",this.G),Wa(this,y),q&&(this.R?m="headers="+Si(bn(q))+"&"+m:this.u&&Za(y,this.u,q)),Gr(this.h,L),this.Ra&&Ft(y,"TYPE","init"),this.S?(Ft(y,"$req",m),Ft(y,"SID","null"),L.U=!0,$n(L,y,null)):$n(L,y,m),this.I=2}}else this.I==3&&(u?el(this,u):this.i.length==0||Hr(this.h)||el(this))};function el(u,m){var y;m?y=m.l:y=u.V++;const T=Te(u.J);Ft(T,"SID",u.M),Ft(T,"RID",y),Ft(T,"AID",u.K),Wa(u,T),u.u&&u.o&&Za(T,u.u,u.o),y=new zn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Do(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Gr(u.h,y),$n(y,T,m)}function Wa(u,m){u.H&&xt(u.H,function(y,T){Ft(m,T,y)}),u.l&&xt({},function(y,T){Ft(m,T,y)})}function Do(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const de=["count="+y];At==-1?y>0?(At=L[0].g,de.push("ofs="+At)):At=0:de.push("ofs="+At);let qt=!0;for(let ae=0;ae<y;ae++){var q=L[ae].g;const An=L[ae].map;if(q-=At,q<0)At=Math.max(0,L[ae].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var nt=An instanceof Map?An:Object.entries(An);for(const[ci,Pn]of nt){let qn=Pn;p(Pn)&&(qn=Yi(Pn)),de.push(q+ci+"="+encodeURIComponent(qn))}}catch(ci){throw de.push(q+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(An)}}if(qt){nt=de.join("&");break t}}nt=void 0}return u=u.i.splice(0,y),m.G=u,nt}function Vo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Pt||A(),lt||(Pt(),lt=!0),N.add(m,u),u.A=0}}function ts(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(_(u.Da,u),Mo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ea(this),Io(this))};function nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Io(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),Wa(u,m),u.u&&u.o&&Za(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=Ya(Te(m)),y.u=null,y.R=!0,Ns(y,u)}r.Va=function(){this.C!=null&&(this.C=null,ea(this),ts(this),_e(19))};function Us(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Oo(u,m){var y=null;if(u.g==m){Us(u),nl(u),u.g=null;var T=2}else if(ii(u.h,m))y=m.G,Fr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Cs(),Ne(T,new Xn(T,y)),oi(u)}else Vo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ls(u,m)||T==2&&ts(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Mo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),Ya(T),L?Ln(T.toString(),y):Jr(T.toString(),y)}else _e(2);u.I=0,u.l&&u.l.pa(m),zo(u),js(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function zo(u){if(u.I=0,u.ja=[],u.l){const m=Qr(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function jo(u,m,y){var T=y instanceof cn?Te(y):new cn(y);if(T.g!="")m&&(T.g=m+"."+T.g),Ki(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new cn(null);T&&Me(q,T),m&&(q.g=m),L&&Ki(q,L),y&&(q.h=y),T=q}return y=u.G,m=u.wa,y&&m&&Ft(T,y,m),Ft(T,"VER",u.ka),Wa(u,T),T}function Lo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new si({ab:y})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}r=Uo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function na(){}na.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ye.call(this),this.g=new ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new wi(this)}S(Je,ye),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){tl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Yi(u),u=y);m.i.push(new Ee(m.Ya++,u)),m.I==3&&oi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Je.Z.N.call(this)};function Bo(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Bo,Le);function Po(){vn.call(this),this.status=1}S(Po,vn);function wi(u){this.g=u}S(wi,Uo),wi.prototype.ra=function(){Ne(this.g,"a")},wi.prototype.qa=function(u){Ne(this.g,new Bo(u))},wi.prototype.pa=function(u){Ne(this.g,new Po)},wi.prototype.oa=function(){Ne(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,W_=function(){return new na},$_=function(){return Cs()},J_=fe,$f={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,Xu=Fa,Pr.COMPLETE="complete",Z_=Pr,_o.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",ye.prototype.listen=ye.prototype.J,kl=_o,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,X_=Kt}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vr="12.9.0";function ab(r){Vr=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new k_("@firebase/firestore");function gr(){return Es.logLevel}function st(r,...e){if(Es.logLevel<=zt.DEBUG){const i=e.map(vd);Es.debug(`Firestore (${Vr}): ${r}`,...i)}}function Gi(r,...e){if(Es.logLevel<=zt.ERROR){const i=e.map(vd);Es.error(`Firestore (${Vr}): ${r}`,...i)}}function Ts(r,...e){if(Es.logLevel<=zt.WARN){const i=e.map(vd);Es.warn(`Firestore (${Vr}): ${r}`,...i)}}function vd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,t0(r,s,i)}function t0(r,e,i){let s=`FIRESTORE (${Vr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Gi(s),new Error(s)}function Gt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||t0(e,o,s)}function bt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Dr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class rb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class lb{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Da;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Da,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Da)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new e0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class ob{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ub{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new ob(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ly{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,q1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0,3512);const s=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ly(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ly(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Vt(r,e){return r<e?-1:r>e?1:0}function Wf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return kf(o)===kf(h)?Vt(o,h):kf(o)?1:-1}return Vt(r.length,e.length)}const fb=55296,db=57343;function kf(r){const e=r.charCodeAt(0);return e>=fb&&e<=db}function Ar(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="__name__";class gi{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=gi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const s=gi.isNumericId(e),o=gi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):Wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Na.fromString(e.substring(4,e.length-2))}}class re extends gi{construct(e,i,s){return new re(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const mb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends gi{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return mb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uy}static keyField(){return new Ge([Uy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(h(),o++)}if(h(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(re.fromString(e))}static fromName(e){return new dt(re.fromString(e).popFirst(5))}static empty(){return new dt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return re.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r,e,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function pb(r,e,i,s){if(e===!0&&s===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function By(r){if(!dt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function n0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Td(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Td(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e){const i={typeString:r};return e&&(i.value=e),i}function lo(r,e){if(!n0(r))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=-62135596800,qy=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(e){return ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*qy);return new ie(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Py)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qy}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lo(e,ie._jsonSchema))return new ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Py;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:we("string",ie._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new ie(0,0))}static max(){return new Et(new ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=-1;function yb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new ie(i+1,0):new ie(i,s));return new Ia(o,dt.empty(),e)}function _b(r){return new Ia(r.readTime,r.key,to)}class Ia{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ia(Et.min(),dt.empty(),to)}static max(){return new Ia(Et.max(),dt.empty(),to)}}function vb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,e.documentKey),i!==0?i:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ir(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Eb)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((o=>o?Z.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((b=>{d[_]=b,++p,p===h&&s(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new Z(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function bb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Or(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=-1;function yc(r){return r==null}function ac(r){return r===0&&1/r==-1/0}function Ab(r){return typeof r=="number"&&Number.isInteger(r)&&!ac(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="";function Sb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=ky(e)),e=Rb(r.get(i),e);return ky(e)}function Rb(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case i0:i+="";break;default:i+=h}}return i}function ky(r){return r+i0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ua(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function a0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new He(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Gy(this.data.getIterator())}getIteratorFrom(e){return new Gy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class Gy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new _n([])}unionWith(e){let i=new Ie(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ar(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new s0("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(r){if(Gt(!!r,39018),typeof r=="string"){let e=0;const i=xb.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ma(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="server_timestamp",l0="__type__",o0="__previous_value__",u0="__local_write_time__";function Ad(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[l0])==null?void 0:s.stringValue)===r0}function _c(r){const e=r.mapValue.fields[o0];return Ad(e)?_c(e):e}function eo(r){const e=Oa(r.mapValue.fields[u0].timestampValue);return new ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,i,s,o,h,d,p,v,_,b,S){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=S}}const sc="(default)";class no{constructor(e,i){this.projectId=e,this.database=i||sc}static empty(){return new no("","")}get isDefaultDatabase(){return this.database===sc}isEqual(e){return e instanceof no&&e.projectId===this.projectId&&e.database===this.database}}function Cb(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new no(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="__type__",Nb="__max__",Qu={mapValue:{}},h0="__vector__",rc="value";function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ad(r)?4:Vb(r)?9007199254740991:Db(r)?10:11:pt(28295,{value:r})}function bi(r,e){if(r===e)return!0;const i=za(r);if(i!==za(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eo(r).isEqual(eo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Oa(o.timestampValue),p=Oa(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Ma(o.bytesValue).isEqual(Ma(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return pe(o.geoPointValue.latitude)===pe(h.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return pe(o.integerValue)===pe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=pe(o.doubleValue),p=pe(h.doubleValue);return d===p?ac(d)===ac(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Ar(r.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Hy(d)!==Hy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!bi(d[v],p[v])))return!1;return!0})(r,e);default:return pt(52216,{left:r})}}function io(r,e){return(r.values||[]).find((i=>bi(i,e)))!==void 0}function Sr(r,e){if(r===e)return 0;const i=za(r),s=za(e);if(i!==s)return Vt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=pe(h.integerValue||h.doubleValue),v=pe(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,e);case 3:return Fy(r.timestampValue,e.timestampValue);case 4:return Fy(eo(r),eo(e));case 5:return Wf(r.stringValue,e.stringValue);case 6:return(function(h,d){const p=Ma(h),v=Ma(d);return p.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const b=Vt(p[_],v[_]);if(b!==0)return b}return Vt(p.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Vt(pe(h.latitude),pe(d.latitude));return p!==0?p:Vt(pe(h.longitude),pe(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Qy(r.arrayValue,e.arrayValue);case 10:return(function(h,d){var D,H,et,W;const p=h.fields||{},v=d.fields||{},_=(D=p[rc])==null?void 0:D.arrayValue,b=(H=v[rc])==null?void 0:H.arrayValue,S=Vt(((et=_==null?void 0:_.values)==null?void 0:et.length)||0,((W=b==null?void 0:b.values)==null?void 0:W.length)||0);return S!==0?S:Qy(_,b)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Qu.mapValue&&d===Qu.mapValue)return 0;if(h===Qu.mapValue)return 1;if(d===Qu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let S=0;S<v.length&&S<b.length;++S){const D=Wf(v[S],b[S]);if(D!==0)return D;const H=Sr(p[v[S]],_[b[S]]);if(H!==0)return H}return Vt(v.length,b.length)})(r.mapValue,e.mapValue);default:throw pt(23264,{he:i})}}function Fy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const i=Oa(r),s=Oa(e),o=Vt(i.seconds,s.seconds);return o!==0?o:Vt(i.nanos,s.nanos)}function Qy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Sr(i[o],s[o]);if(h)return h}return Vt(i.length,s.length)}function Rr(r){return td(r)}function td(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Oa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ma(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=td(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${td(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function Zu(r){switch(za(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_c(r);return e?16+Zu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ma(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Zu(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ua(s.fields,((h,d)=>{o+=h.length+Zu(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function ed(r){return!!r&&"integerValue"in r}function Sd(r){return!!r&&"arrayValue"in r}function Yy(r){return!!r&&"nullValue"in r}function Ky(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ju(r){return!!r&&"mapValue"in r}function Db(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[c0])==null?void 0:s.stringValue)===h0}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ua(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yl(r.arrayValue.values[i]);return e}return{...r}}function Vb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Nb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ju(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(i)}setAll(e){let i=Ge.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=Yl(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Ju(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ua(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new on(Yl(this.value))}}function f0(r){const e=[];return Ua(r.fields,((i,s)=>{const o=new Ge([i]);if(Ju(s)){const h=f0(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,h,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),on.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,i){this.position=e,this.inclusive=i}}function Xy(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=Sr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!bi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Ib(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{}class Ve extends d0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Mb(e,i,s):i==="array-contains"?new Lb(e,s):i==="in"?new Ub(e,s):i==="not-in"?new Bb(e,s):i==="array-contains-any"?new Pb(e,s):new Ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new zb(e,s):new jb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Sr(i,this.value)):i!==null&&za(this.value)===za(i)&&this.matchesComparison(Sr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends d0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ai(e,i)}matches(e){return m0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m0(r){return r.op==="and"}function g0(r){return Ob(r)&&m0(r)}function Ob(r){for(const e of r.filters)if(e instanceof Ai)return!1;return!0}function nd(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+Rr(r.value);if(g0(r))return r.filters.map((e=>nd(e))).join(",");{const e=r.filters.map((i=>nd(i))).join(",");return`${r.op}(${e})`}}function p0(r,e){return r instanceof Ve?(function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&bi(s.value,o.value)})(r,e):r instanceof Ai?(function(s,o){return o instanceof Ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,p)=>h&&p0(d,o.filters[p])),!0):!1})(r,e):void pt(19439)}function y0(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Rr(i.value)}`})(r):r instanceof Ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(y0).join(" ,")+"}"})(r):"Filter"}class Mb extends Ve{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class zb extends Ve{constructor(e,i){super(e,"in",i),this.keys=_0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class jb extends Ve{constructor(e,i){super(e,"not-in",i),this.keys=_0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function _0(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>dt.fromName(s.referenceValue)))}class Lb extends Ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Sd(i)&&io(i.arrayValue,this.value)}}class Ub extends Ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&io(this.value.arrayValue,i)}}class Bb extends Ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!io(this.value.arrayValue,i)}}class Pb extends Ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Sd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>io(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,i=null,s=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Jy(r,e=null,i=[],s=[],o=null,h=null,d=null){return new qb(r,e,i,s,o,h,d)}function Rd(r){const e=bt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>nd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),yc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Rr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Rr(s))).join(",")),e.Te=i}return e.Te}function xd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Ib(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!p0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Zy(r.startAt,e.startAt)&&Zy(r.endAt,e.endAt)}function id(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i=null,s=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kb(r,e,i,s,o,h,d,p){return new vc(r,e,i,s,o,h,d,p)}function Ec(r){return new vc(r)}function $y(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Hb(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Gb(r){return r.collectionGroup!==null}function Kl(r){const e=bt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ie(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new oc(h,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new oc(Ge.keyField(),s))}return e.Ie}function yi(r){const e=bt(r);return e.Ee||(e.Ee=Fb(e,Kl(r))),e.Ee}function Fb(r,e){if(r.limitType==="F")return Jy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new oc(o.field,h)}));const i=r.endAt?new lc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new lc(r.startAt.position,r.startAt.inclusive):null;return Jy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ad(r,e,i){return new vc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Tc(r,e){return xd(yi(r),yi(e))&&r.limitType===e.limitType}function v0(r){return`${Rd(yi(r))}|lt:${r.limitType}`}function pr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>y0(o))).join(", ")}]`),yc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Rr(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Rr(o))).join(",")),`Target(${s})`})(yi(r))}; limitType=${r.limitType})`}function bc(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of Kl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,v){const _=Xy(d,p,v);return d.inclusive?_<=0:_<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(d,p,v){const _=Xy(d,p,v);return d.inclusive?_>=0:_>0})(s.endAt,Kl(s),o))})(r,e)}function Qb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function E0(r){return(e,i)=>{let s=!1;for(const o of Kl(r)){const h=Yb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function Yb(r,e,i){const s=r.field.isKeyField()?dt.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Sr(v,_):pt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return a0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new le(dt.comparator);function Fi(){return Kb}const T0=new le(dt.comparator);function Hl(...r){let e=T0;for(const i of r)e=e.insert(i.key,i);return e}function b0(r){let e=T0;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function _s(){return Xl()}function A0(){return Xl()}function Xl(){return new As((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Xb=new le(dt.comparator),Zb=new Ie(dt.comparator);function It(...r){let e=Zb;for(const i of r)e=e.add(i);return e}const Jb=new Ie(Vt);function $b(){return Jb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ac(e)?"-0":e}}function S0(r){return{integerValue:""+r}}function Wb(r,e){return Ab(e)?S0(e):wd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this._=void 0}}function tA(r,e,i){return r instanceof uc?(function(o,h){const d={fields:{[l0]:{stringValue:r0},[u0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Ad(h)&&(h=_c(h)),h&&(d.fields[o0]=h),{mapValue:d}})(i,e):r instanceof xr?x0(r,e):r instanceof ao?w0(r,e):(function(o,h){const d=R0(o,h),p=Wy(d)+Wy(o.Ae);return ed(d)&&ed(o.Ae)?S0(p):wd(o.serializer,p)})(r,e)}function eA(r,e,i){return r instanceof xr?x0(r,e):r instanceof ao?w0(r,e):i}function R0(r,e){return r instanceof cc?(function(s){return ed(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class uc extends Ac{}class xr extends Ac{constructor(e){super(),this.elements=e}}function x0(r,e){const i=C0(e);for(const s of r.elements)i.some((o=>bi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class ao extends Ac{constructor(e){super(),this.elements=e}}function w0(r,e){let i=C0(e);for(const s of r.elements)i=i.filter((o=>!bi(o,s)));return{arrayValue:{values:i}}}class cc extends Ac{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Wy(r){return pe(r.integerValue||r.doubleValue)}function C0(r){return Sd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,i){this.field=e,this.transform=i}}function iA(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof xr&&o instanceof xr||s instanceof ao&&o instanceof ao?Ar(s.elements,o.elements,bi):s instanceof cc&&o instanceof cc?bi(s.Ae,o.Ae):s instanceof uc&&o instanceof uc})(r.transform,e.transform)}class aA{constructor(e,i){this.version=e,this.transformResults=i}}class _i{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sc{}function N0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new V0(r.key,_i.none()):new oo(r.key,r.data,_i.none());{const i=r.data,s=on.empty();let o=new Ie(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ba(r.key,s,new _n(o.toArray()),_i.none())}}function sA(r,e,i){r instanceof oo?(function(o,h,d){const p=o.value.clone(),v=e_(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ba?(function(o,h,d){if(!$u(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=e_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(D0(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Zl(r,e,i,s){return r instanceof oo?(function(h,d,p,v){if(!$u(h.precondition,d))return p;const _=h.value.clone(),b=n_(h.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ba?(function(h,d,p,v){if(!$u(h.precondition,d))return p;const _=n_(h.fieldTransforms,v,d),b=d.data;return b.setAll(D0(h)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(h,d,p){return $u(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function rA(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=R0(s.transform,o||null);h!=null&&(i===null&&(i=on.empty()),i.set(s.field,h))}return i||null}function t_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ar(s,o,((h,d)=>iA(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class oo extends Sc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ba extends Sc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function D0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function e_(r,e,i){const s=new Map;Gt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=e.data.field(h.field);s.set(h.field,eA(d,p,i[o]))}return s}function n_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,tA(h,d,e))}return s}class V0 extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lA extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&sA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=A0();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=N0(d,p);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&Ar(this.mutations,e.mutations,((i,s)=>t_(i,s)))&&Ar(this.baseMutations,e.baseMutations,((i,s)=>t_(i,s)))}}class Cd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Xb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Cd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Mt;function hA(r){switch(r){case J.OK:return pt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function I0(r){if(r===void 0)return Gi("GRPC error has no .code"),J.UNKNOWN;switch(r){case xe.OK:return J.OK;case xe.CANCELLED:return J.CANCELLED;case xe.UNKNOWN:return J.UNKNOWN;case xe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xe.INTERNAL:return J.INTERNAL;case xe.UNAVAILABLE:return J.UNAVAILABLE;case xe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xe.NOT_FOUND:return J.NOT_FOUND;case xe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xe.ABORTED:return J.ABORTED;case xe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xe.DATA_LOSS:return J.DATA_LOSS;default:return pt(39323,{code:r})}}(Mt=xe||(xe={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Na([4294967295,4294967295],0);function i_(r){const e=fA().encode(r),i=new K_;return i.update(e),new Uint8Array(i.digest())}function a_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Na([i,s],0),new Na([o,h],0)]}class Nd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Gl(`Invalid padding: ${i}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Na.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Na.fromNumber(s)));return o.compare(dA)===1&&(o=new Na([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=i_(e),[s,o]=a_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Nd(h,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=i_(e),[s,o]=a_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,uo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Rc(Et.min(),o,new le(Vt),Fi(),It())}}class uo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new uo(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=o}}class O0{constructor(e,i){this.targetId=e,this.Ce=i}}class M0{constructor(e,i,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class s_{constructor(){this.ve=0,this.Fe=r_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),s=It();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:h})}})),new uo(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=r_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class mA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fi(),this.He=Yu(),this.Je=Yu(),this.Ze=new le(Vt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(id(h))if(s===0){const d=new dt(h.path);this.et(i,d,Xe.newNoDocument(d,Et.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Ma(s).toUint8Array()}catch(v){if(v instanceof s0)return Ts("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Nd(d,o,h)}catch(v){return Ts(v instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&id(p.target)){const v=new dt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let s=It();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Rc(e,i,this.Ze,this.je,s);return this.je=Fi(),this.He=Yu(),this.Je=Yu(),this.Ze=new le(Vt),o}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new s_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ie(Vt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ie(Vt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new s_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Yu(){return new le(dt.comparator)}function r_(){return new le(dt.comparator)}const gA={asc:"ASCENDING",desc:"DESCENDING"},pA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yA={and:"AND",or:"OR"};class _A{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sd(r,e){return r.useProto3Json||yc(e)?e:{value:e}}function hc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vA(r,e){return hc(r,e.toTimestamp())}function vi(r){return Gt(!!r,49232),Et.fromTimestamp((function(i){const s=Oa(i);return new ie(s.seconds,s.nanos)})(r))}function Dd(r,e){return rd(r,e).canonicalString()}function rd(r,e){const i=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function j0(r){const e=re.fromString(r);return Gt(q0(e),10190,{key:e.toString()}),e}function ld(r,e){return Dd(r.databaseId,e.path)}function Hf(r,e){const i=j0(e);if(i.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(U0(i))}function L0(r,e){return Dd(r.databaseId,e)}function EA(r){const e=j0(r);return e.length===4?re.emptyPath():U0(e)}function od(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function U0(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function l_(r,e,i){return{name:ld(r,e),fields:i.value.mapValue.fields}}function TA(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,b){return _.useProto3Json?(Gt(b===void 0||typeof b=="string",58123),Fe.fromBase64String(b||"")):(Gt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Fe.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?J.UNKNOWN:I0(_.code);return new ct(b,_.message||"")})(d);i=new M0(s,o,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hf(r,s.document.name),h=vi(s.document.updateTime),d=s.document.createTime?vi(s.document.createTime):Et.min(),p=new on({mapValue:{fields:s.document.fields}}),v=Xe.newFoundDocument(o,h,d,p),_=s.targetIds||[],b=s.removedTargetIds||[];i=new Wu(_,b,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hf(r,s.document),h=s.readTime?vi(s.readTime):Et.min(),d=Xe.newNoDocument(o,h),p=s.removedTargetIds||[];i=new Wu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hf(r,s.document),h=s.removedTargetIds||[];i=new Wu([],h,o,null)}else{if(!("filter"in e))return pt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new cA(o,h),p=s.targetId;i=new O0(p,d)}}return i}function bA(r,e){let i;if(e instanceof oo)i={update:l_(r,e.key,e.value)};else if(e instanceof V0)i={delete:ld(r,e.key)};else if(e instanceof Ba)i={update:l_(r,e.key,e.data),updateMask:VA(e.fieldMask)};else{if(!(e instanceof lA))return pt(16599,{dt:e.type});i={verify:ld(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const p=d.transform;if(p instanceof uc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof xr)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof cc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:vA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)})(r,e.precondition)),i}function AA(r,e){return r&&r.length>0?(Gt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?vi(o.updateTime):vi(h);return d.isEqual(Et.min())&&(d=vi(h)),new aA(d,o.transformResults||[])})(i,e)))):[]}function SA(r,e){return{documents:[L0(r,e.path)]}}function RA(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=L0(r,o);const h=(function(_){if(_.length!==0)return P0(Ai.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((b=>(function(D){return{field:yr(D.field),direction:CA(D.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sd(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function xA(r){let e=EA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=(function(S){const D=B0(S);return D instanceof Ai&&g0(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(et){return new oc(_r(et.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,yc(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(S){const D=!!S.before,H=S.values||[];return new lc(H,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const D=!S.before,H=S.values||[];return new lc(H,D)})(i.endAt)),kb(e,o,d,h,p,"F",v,_)}function wA(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function B0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=_r(i.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_r(i.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_r(i.unaryFilter.field);return Ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_r(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(_r(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ai.create(i.compositeFilter.filters.map((s=>B0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function CA(r){return gA[r]}function NA(r){return pA[r]}function DA(r){return yA[r]}function yr(r){return{fieldPath:r.canonicalString()}}function _r(r){return Ge.fromServerFormat(r.fieldPath)}function P0(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(Ky(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NAN"}};if(Yy(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ky(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NOT_NAN"}};if(Yy(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yr(i.field),op:NA(i.op),value:i.value}}})(r):r instanceof Ai?(function(i){const s=i.getFilters().map((o=>P0(o)));return s.length===1?s[0]:{compositeFilter:{op:DA(i.op),filters:s}}})(r):pt(54877,{filter:r})}function VA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function q0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function k0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,i,s,o,h=Et.min(),d=Et.min(),p=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.yt=e}}function OA(r){const e=xA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.Sn=new zA}addToCollectionParentIndex(e,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ia.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class zA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ie(re.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ie(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H0=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(H0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wr(0)}static ar(){return new wr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",jA=1048576;function c_([r,e],[i,s]){const o=Vt(r,i);return o===0?Vt(e,s):o}class LA{constructor(e){this.Pr=e,this.buffer=new Ie(c_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();c_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class UA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){st(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Or(i)?st(u_,"Ignoring IndexedDB error during garbage collection: ",i):await Ir(i)}await this.Ar(3e5)}))}}class BA{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(pc.ce);const s=new LA(i);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(o_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,o,h,d,p,v,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(e,s,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(_=Date.now(),gr()<=zt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function PA(r,e){return new BA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.changes=new As((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Zl(s.mutation,o,_n.empty(),ie.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,It()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=It()){const o=_s();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Hl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=_s();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,It())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let h=Fi();const d=Xl(),p=(function(){return Xl()})();return i.forEach(((v,_)=>{const b=s.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof Ba)?h=h.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Zl(b.mutation,_,b.mutation.getFieldMask(),ie.now())):d.set(_.key,_n.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new kA(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=Xl();let o=new le(((d,p)=>d-p)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let b=s.get(v)||_n.empty();b=p.applyToLocalView(_,b),s.set(v,b);const S=(o.get(p.batchId)||It()).add(v);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,b=v.value,S=A0();b.forEach((D=>{if(!h.has(D)){const H=N0(i.get(D),s.get(D));H!==null&&S.set(D,H),h=h.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return Hb(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Gb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Z.resolve(_s());let p=to,v=h;return d.next((_=>Z.forEach(_,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),h.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((D=>{v=v.insert(b,D)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,It()))).next((b=>({batchId:p,changes:b0(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Hl();return this.indexManager.getCollectionParents(e,h).next((p=>Z.forEach(p,(v=>{const _=(function(S,D){return new vc(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((b=>{b.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Xe.newInvalidDocument(b)))}));let p=Hl();return d.forEach(((v,_)=>{const b=h.get(v);b!==void 0&&Zl(b.mutation,_,_n.empty(),ie.now()),bc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:OA(o.bundledQuery),readTime:vi(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.overlays=new le(dt.comparator),this.Lr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=_s();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.bt(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=_s(),h=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new le(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=h.get(_.largestBatchId);b===null&&(b=_s(),h=h.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=_s(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=o)););return Z.resolve(p)}bt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new uA(i,s));let h=this.Lr.get(i);h===void 0&&(h=It(),this.Lr.set(i,h)),this.Lr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.kr=new Ie(je.Kr),this.qr=new Ie(je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new je(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new je(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new dt(new re([])),s=new je(i,e),o=new je(i,e+1),h=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new dt(new re([])),s=new je(i,e),o=new je(i,e+1);let h=It();return this.qr.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new je(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class je{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return dt.comparator(e.key,i.key)||Vt(e.Hr,i.Hr)}static Ur(e,i){return Vt(e.Hr,i.Hr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ie(je.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oA(h,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new je(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?bd:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([s,o],(d=>{const p=this.Zr(d.Hr);h.push(p)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(Vt);return i.forEach((o=>{const h=new je(o,0),d=new je(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{s=s.add(p.Hr)}))})),Z.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;dt.isDocumentKey(h)||(h=h.child(""));const d=new je(new dt(h),0);let p=new Ie(Vt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Hr)),!0)}),d),Z.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Z.forEach(i.mutations,(o=>{const h=new je(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new je(i,0),o=this.Jr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.ti=e,this.docs=(function(){return new le(dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Fi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Fi();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||vb(_b(b),s)<=0||(o.has(b.key)||bc(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,o){pt(9500)}ni(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new XA(this)}getSize(e){return Z.resolve(this.size)}}class XA extends qA{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.persistence=e,this.ri=new As((i=>Rd(i)),xd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Vd,this.targetCount=0,this.oi=wr._r()}forEachTarget(e,i){return this.ri.forEach(((s,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),Z.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new wr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.lr(i),Z.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i){this._i={},this.overlays={},this.ai=new pc(0),this.ui=!1,this.ui=!0,this.ci=new QA,this.referenceDelegate=e(this),this.li=new ZA(this),this.indexManager=new MA,this.remoteDocumentCache=(function(o){return new KA(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new IA(i),this.Pi=new GA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new FA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new YA(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new JA(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return Z.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class JA extends Tb{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.Ri=new Vd,this.Ai=null}static Vi(e){return new Id(e)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(s=>{const o=dt.fromPath(s);return this.mi(e,o).next((h=>{h||i.removeEntry(o,Et.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class fc{constructor(e,i){this.persistence=e,this.fi=new As((s=>Sb(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=PA(this,i)}static Vi(e,i){return new fc(e,i)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return Z.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(s++,h.removeEntry(d,Et.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),Z.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zu(e.data.value)),i}wr(e,i,s){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=o}static Es(e,i){let s=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Od(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return UT()?8:bb(jT())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new $A;return this.ys(e,i,d).next((p=>{if(h.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>h.result))}ws(e,i,s,o){return s.documentReadCount<this.Vs?(gr()<=zt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",pr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(gr()<=zt.DEBUG&&st("QueryEngine","Query:",pr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(gr()<=zt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",pr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):Z.resolve())}gs(e,i){if($y(i))return Z.resolve(null);let s=yi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ad(i,null,"F"),s=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=It(...h);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(e,ad(i,null,"F")):this.Ds(e,_,i,v)}))))})))))}ps(e,i,s,o){return $y(i)||o.isEqual(Et.min())?Z.resolve(null):this.fs.getDocuments(e,s).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,s,o)?Z.resolve(null):(gr()<=zt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pr(i)),this.Ds(e,d,i,yb(o,to)).next((p=>p)))}))}bs(e,i){let s=new Ie(E0(e));return i.forEach(((o,h)=>{bc(e,h)&&(s=s.add(h))})),s}Ss(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,s){return gr()<=zt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",pr(i)),this.fs.getDocumentsMatchingQuery(e,i,Ia.min(),s)}Ds(e,i,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="LocalStore",tS=3e8;class eS{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new le(Vt),this.Fs=new As((h=>Rd(h)),xd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function nS(r,e,i,s){return new eS(r,e,i,s)}async function F0(r,e){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],p=[];let v=It();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of h){p.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function iS(r,e){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,b){const S=_.batch,D=S.keys();let H=Z.resolve();return D.forEach((et=>{H=H.next((()=>b.getEntry(v,et))).next((W=>{const $=_.docVersions.get(et);Gt($!==null,48541),W.version.compareTo($)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),b.addEntry(W)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=It();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function Q0(r){const e=bt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function aS(r,e){const i=bt(r),s=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((b,S)=>{const D=o.get(S);if(!D)return;p.push(i.li.removeMatchingKeys(h,b.removedDocuments,S).next((()=>i.li.addMatchingKeys(h,b.addedDocuments,S))));let H=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?H=H.withResumeToken(Fe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,s)),o=o.insert(S,H),(function(W,$,gt){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=tS?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(D,H,b)&&p.push(i.li.updateTargetData(h,H))}));let v=Fi(),_=It();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),p.push(sS(h,d,e.documentUpdates).next((b=>{v=b.Bs,_=b.Ls}))),!s.isEqual(Et.min())){const b=i.li.getLastRemoteSnapshotVersion(h).next((S=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,s)));p.push(b)}return Z.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=o,h)))}function sS(r,e,i){let s=It(),o=It();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Fi();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Et.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):st(Md,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function rS(r,e){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=bd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function lS(r,e){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.li.getTargetData(s,e).next((h=>h?(o=h,Z.resolve(o)):i.li.allocateTargetId(s).next((d=>(o=new xa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function ud(r,e,i){const s=bt(r),o=s.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Or(d))throw d;st(Md,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function h_(r,e,i){const s=bt(r);let o=Et.min(),h=It();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,b){const S=bt(v),D=S.Fs.get(b);return D!==void 0?Z.resolve(S.vs.get(D)):S.li.getTargetData(_,b)})(s,d,yi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:It()))).next((p=>(oS(s,Qb(e),p),{documents:p,ks:h})))))}function oS(r,e,i){let s=r.Ms.get(e)||Et.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Ms.set(e,s)}class f_{constructor(){this.activeTargetIds=$b()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uS{constructor(){this.vo=new f_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new f_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="ConnectivityMonitor";class m_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(d_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){st(d_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function cd(){return Ku===null?Ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="RestConnection",hS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class fS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===sc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,h){const d=cd(),p=this.Qo(e,i.toUriEncodedString());st(Gf,`Sending RPC '${e}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,h);const{host:_}=new URL(p),b=yd(_);return this.zo(e,p,v,s,b).then((S=>(st(Gf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Ts(Gf,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(e,i,s,o,h,d){return this.Wo(e,i,s,o,h)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const s=hS[e];let o=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection",ql=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Er extends fS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Er.c_){const e=$_();ql(e,J_.STAT_EVENT,(i=>{i.stat===$f.PROXY?st(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===$f.NOPROXY&&st(Ye,"STAT_EVENT: detected no buffering proxy")})),Er.c_=!0}}zo(e,i,s,o,h){const d=cd();return new Promise(((p,v)=>{const _=new X_;_.setWithCredentials(!0),_.listenOnce(Z_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Xu.NO_ERROR:const S=_.getResponseJson();st(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Xu.TIMEOUT:st(Ye,`RPC '${e}' ${d} timed out`),v(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const D=_.getStatus();if(st(Ye,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const et=H==null?void 0:H.error;if(et&&et.status&&et.message){const W=(function(gt){const yt=gt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(yt)>=0?yt:J.UNKNOWN})(et.status);v(new ct(W,et.message))}else v(new ct(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ct(J.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Ye,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);st(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,s,15)}))}T_(e,i,s){const o=cd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const _=h.join("");st(Ye,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=d.createWebChannel(_,p);this.I_(b);let S=!1,D=!1;const H=new dS({Ho:et=>{D?st(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,et):(S||(st(Ye,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),st(Ye,`RPC '${e}' stream ${o} sending:`,et),b.send(et))},Jo:()=>b.close()});return ql(b,kl.EventType.OPEN,(()=>{D||(st(Ye,`RPC '${e}' stream ${o} transport opened.`),H.i_())})),ql(b,kl.EventType.CLOSE,(()=>{D||(D=!0,st(Ye,`RPC '${e}' stream ${o} transport closed`),H.o_(),this.E_(b))})),ql(b,kl.EventType.ERROR,(et=>{D||(D=!0,Ts(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,et.name,"Message:",et.message),H.o_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),ql(b,kl.EventType.MESSAGE,(et=>{var W;if(!D){const $=et.data[0];Gt(!!$,16349);const gt=$,yt=(gt==null?void 0:gt.error)||((W=gt[0])==null?void 0:W.error);if(yt){st(Ye,`RPC '${e}' stream ${o} received error:`,yt);const vt=yt.status;let Bt=(function(N){const A=xe[N];if(A!==void 0)return I0(A)})(vt),Pt=yt.message;vt==="NOT_FOUND"&&Pt.includes("database")&&Pt.includes("does not exist")&&Pt.includes(this.databaseId.database)&&Ts(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Bt===void 0&&(Bt=J.INTERNAL,Pt="Unknown error status: "+vt+" with message "+yt.message),D=!0,H.o_(new ct(Bt,Pt)),b.close()}else st(Ye,`RPC '${e}' stream ${o} received:`,$),H.__($)}})),Er.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return W_()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(r){return new Er(r)}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r){return new _A(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er.c_=!1;class Y0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="PersistentStream";class K0{constructor(e,i,s,o,h,d,p,v){this.Ci=e,this.b_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(g_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(st(g_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gS extends K0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=TA(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?vi(d.readTime):Et.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=od(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=id(v)?{documents:SA(h,v)}:{query:RA(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=z0(h,d.resumeToken);const _=sd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=hc(h,d.snapshotVersion.toTimestamp());const _=sd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const s=wA(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=od(this.serializer),i.removeTarget=e,this.K_(i)}}class pS extends K0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=AA(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=od(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>bA(this.serializer,s)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{}class _S extends yS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,rd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(J.UNKNOWN,h.toString())}))}jo(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,rd(i,s),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vS(r,e,i,s){return new _S(r,e,i,s)}class ES{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class TS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Ss(this)&&(st(bs,"Restarting streams for network reachability change."),await(async function(v){const _=bt(v);_.Ea.add(4),await co(_),_.Va.set("Unknown"),_.Ea.delete(4),await wc(_)})(this))}))})),this.Va=new ES(s,o)}}async function wc(r){if(Ss(r))for(const e of r.Ra)await e(!0)}async function co(r){for(const e of r.Ra)await e(!1)}function X0(r,e){const i=bt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ud(i)?Ld(i):Mr(i).O_()&&jd(i,e))}function zd(r,e){const i=bt(r),s=Mr(i);i.Ia.delete(e),s.O_()&&Z0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ss(i)&&i.Va.set("Unknown"))}function jd(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Mr(r).Z_(e)}function Z0(r,e){r.da.$e(e),Mr(r).X_(e)}function Ld(r){r.da=new mA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mr(r).start(),r.Va.ua()}function Ud(r){return Ss(r)&&!Mr(r).x_()&&r.Ia.size>0}function Ss(r){return bt(r).Ea.size===0}function J0(r){r.da=void 0}async function bS(r){r.Va.set("Online")}async function AS(r){r.Ia.forEach(((e,i)=>{jd(r,e)}))}async function SS(r,e){J0(r),Ud(r)?(r.Va.ha(e),Ld(r)):r.Va.set("Unknown")}async function RS(r,e,i){if(r.Va.set("Online"),e instanceof M0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(s){st(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dc(r,s)}else if(e instanceof Wu?r.da.Xe(e):e instanceof O0?r.da.st(e):r.da.tt(e),!i.isEqual(Et.min()))try{const s=await Q0(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=h.Ia.get(_);b&&h.Ia.set(_,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const b=h.Ia.get(v);if(!b)return;h.Ia.set(v,b.withResumeToken(Fe.EMPTY_BYTE_STRING,b.snapshotVersion)),Z0(h,v);const S=new xa(b.target,v,_,b.sequenceNumber);jd(h,S)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){st(bs,"Failed to raise snapshot:",s),await dc(r,s)}}async function dc(r,e,i){if(!Or(e))throw e;r.Ea.add(1),await co(r),r.Va.set("Offline"),i||(i=()=>Q0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(bs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wc(r)}))}function $0(r,e){return e().catch((i=>dc(r,i,e)))}async function Cc(r){const e=bt(r),i=ja(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bd;for(;xS(e);)try{const o=await rS(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,wS(e,o)}catch(o){await dc(e,o)}W0(e)&&tv(e)}function xS(r){return Ss(r)&&r.Ta.length<10}function wS(r,e){r.Ta.push(e);const i=ja(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function W0(r){return Ss(r)&&!ja(r).x_()&&r.Ta.length>0}function tv(r){ja(r).start()}async function CS(r){ja(r).ra()}async function NS(r){const e=ja(r);for(const i of r.Ta)e.ea(i.mutations)}async function DS(r,e,i){const s=r.Ta.shift(),o=Cd.from(s,e,i);await $0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Cc(r)}async function VS(r,e){e&&ja(r).Y_&&await(async function(s,o){if((function(d){return hA(d)&&d!==J.ABORTED})(o.code)){const h=s.Ta.shift();ja(s).B_(),await $0(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Cc(s)}})(r,e),W0(r)&&tv(r)}async function p_(r,e){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),st(bs,"RemoteStore received new credentials");const s=Ss(i);i.Ea.add(3),await co(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wc(i)}async function IS(r,e){const i=bt(r);e?(i.Ea.delete(2),await wc(i)):e||(i.Ea.add(2),await co(i),i.Va.set("Unknown"))}function Mr(r){return r.ma||(r.ma=(function(i,s,o){const h=bt(i);return h.sa(),new gS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:bS.bind(null,r),Yo:AS.bind(null,r),t_:SS.bind(null,r),J_:RS.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Ud(r)?Ld(r):r.Va.set("Unknown")):(await r.ma.stop(),J0(r))}))),r.ma}function ja(r){return r.fa||(r.fa=(function(i,s,o){const h=bt(i);return h.sa(),new pS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:CS.bind(null,r),t_:VS.bind(null,r),ta:NS.bind(null,r),na:DS.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Cc(r)):(await r.fa.stop(),r.Ta.length>0&&(st(bs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,p=new Bd(e,i,d,o,h);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(r,e){if(Gi("AsyncQueue",`${e}: ${r}`),Or(r))return new ct(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{static emptySet(e){return new Tr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Hl(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Tr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.ga=new le(dt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pt(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Cr{constructor(e,i,s,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Cr(e,i,Tr.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class MS{constructor(){this.queries=__(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=bt(i),h=o.queries;o.queries=__(),h.forEach(((d,p)=>{for(const v of p.ba)v.onError(s)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function __(){return new As((r=>v0(r)),Tc)}async function ev(r,e){const i=bt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(s=2):(h=new OS,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Pd(d,`Initialization of query '${pr(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&qd(i)}async function nv(r,e){const i=bt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function zS(r,e){const i=bt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(o)&&(s=!0);d.wa=o}}s&&qd(i)}function jS(r,e,i){const s=bt(r),o=s.queries.get(e);if(o)for(const h of o.ba)h.onError(i);s.queries.delete(e)}function qd(r){r.Ca.forEach((e=>{e.next()}))}var hd,v_;(v_=hd||(hd={})).Ma="default",v_.Cache="cache";class iv{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Cr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Cr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.key=e}}class sv{constructor(e){this.key=e}}class LS{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.eu=E0(e),this.tu=new Tr(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new y_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,S)=>{const D=o.get(b),H=bc(this.query,S)?S:null,et=!!D&&this.mutatedKeys.has(D.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;D&&H?D.data.isEqual(H.data)?et!==W&&(s.track({type:3,doc:H}),$=!0):this.su(D,H)||(s.track({type:2,doc:H}),$=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(p=!0)):!D&&H?(s.track({type:0,doc:H}),$=!0):D&&!H&&(s.track({type:1,doc:D}),$=!0,(v||_)&&(p=!0)),$&&(H?(d=d.add(H),h=W?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Ss:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,S)=>(function(H,et){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:$})}};return W(H)-W(et)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new Cr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=It(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new sv(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new av(s))})),i}cu(e){this.Za=e.ks,this.Ya=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Cr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const kd="SyncEngine";class US{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class BS{constructor(e){this.key=e,this.hu=!1}}class PS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new As((p=>v0(p)),Tc),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(dt.comparator),this.Au=new Map,this.Vu=new Vd,this.du={},this.mu=new Map,this.fu=wr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qS(r,e,i=!0){const s=hv(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await rv(s,e,i,!0),o}async function kS(r,e){const i=hv(r);await rv(i,e,!0,!1)}async function rv(r,e,i,s){const o=await lS(r.localStore,yi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await HS(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&X0(r.remoteStore,o),p}async function HS(r,e,i,s,o){r.pu=(S,D,H)=>(async function(W,$,gt,yt){let vt=$.view.ru(gt);vt.Ss&&(vt=await h_(W.localStore,$.query,!1).then((({documents:N})=>$.view.ru(N,vt))));const Bt=yt&&yt.targetChanges.get($.targetId),Pt=yt&&yt.targetMismatches.get($.targetId)!=null,lt=$.view.applyChanges(vt,W.isPrimaryClient,Bt,Pt);return T_(W,$.targetId,lt.au),lt.snapshot})(r,S,D,H);const h=await h_(r.localStore,e,!0),d=new LS(e,h.ks),p=d.ru(h.documents),v=uo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,v);T_(r,i,_.au);const b=new US(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function GS(r,e,i){const s=bt(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!Tc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ud(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&zd(s.remoteStore,o.targetId),fd(s,o.targetId)})).catch(Ir)):(fd(s,o.targetId),await ud(s.localStore,o.targetId,!0))}async function FS(r,e){const i=bt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),zd(i.remoteStore,s.targetId))}async function QS(r,e,i){const s=WS(r);try{const o=await(function(d,p){const v=bt(d),_=ie.now(),b=p.reduce(((H,et)=>H.add(et.key)),It());let S,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let et=Fi(),W=It();return v.xs.getEntries(H,b).next(($=>{et=$,et.forEach(((gt,yt)=>{yt.isValidDocument()||(W=W.add(gt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,et))).next(($=>{S=$;const gt=[];for(const yt of p){const vt=rA(yt,S.get(yt.key).overlayedDocument);vt!=null&&gt.push(new Ba(yt.key,vt,f0(vt.value.mapValue),_i.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,gt,p)})).next(($=>{D=$;const gt=$.applyToLocalDocumentSet(S,W);return v.documentOverlayCache.saveOverlays(H,$.batchId,gt)}))})).then((()=>({batchId:D.batchId,changes:b0(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new le(Vt)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(s,o.batchId,i),await ho(s,o.changes),await Cc(s.remoteStore)}catch(o){const h=Pd(o,"Failed to persist write");i.reject(h)}}async function lv(r,e){const i=bt(r);try{const s=await aS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await ho(i,s,e)}catch(s){await Ir(s)}}function E_(r,e,i){const s=bt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=bt(d);v.onlineState=p;let _=!1;v.queries.forEach(((b,S)=>{for(const D of S.ba)D.va(p)&&(_=!0)})),_&&qd(v)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function YS(r,e,i){const s=bt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new le(dt.comparator);d=d.insert(h,Xe.newNoDocument(h,Et.min()));const p=It().add(h),v=new Rc(Et.min(),new Map,new le(Vt),d,p);await lv(s,v),s.Ru=s.Ru.remove(h),s.Au.delete(e),Hd(s)}else await ud(s.localStore,e,!1).then((()=>fd(s,e,i))).catch(Ir)}async function KS(r,e){const i=bt(r),s=e.batch.batchId;try{const o=await iS(i.localStore,e);uv(i,s,null),ov(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ho(i,o)}catch(o){await Ir(o)}}async function XS(r,e,i){const s=bt(r);try{const o=await(function(d,p){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return v.mutationQueue.lookupMutationBatch(_,p).next((S=>(Gt(S!==null,37113),b=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>v.localDocuments.getDocuments(_,b)))}))})(s.localStore,e);uv(s,e,i),ov(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ho(s,o)}catch(o){await Ir(o)}}function ov(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function uv(r,e,i){const s=bt(r);let o=s.du[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function fd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||cv(r,s)}))}function cv(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(zd(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),Hd(r))}function T_(r,e,i){for(const s of i)s instanceof av?(r.Vu.addReference(s.key,e),ZS(r,s)):s instanceof sv?(st(kd,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||cv(r,s.key)):pt(19791,{wu:s})}function ZS(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(st(kd,"New document in limbo: "+i),r.Eu.add(s),Hd(r))}function Hd(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new dt(re.fromString(e)),s=r.fu.next();r.Au.set(s,new BS(i)),r.Ru=r.Ru.insert(i,s),X0(r.remoteStore,new xa(yi(Ec(i.path)),s,"TargetPurposeLimboResolution",pc.ce))}}async function ho(r,e,i){const s=bt(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{d.push(s.pu(v,e,i).then((_=>{var b;if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:(b=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Od.Es(v.targetId,_);h.push(S)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(v,_){const b=bt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(D=>Z.forEach(D.Ts,(H=>b.persistence.referenceDelegate.addReference(S,D.targetId,H))).next((()=>Z.forEach(D.Is,(H=>b.persistence.referenceDelegate.removeReference(S,D.targetId,H)))))))))}catch(S){if(!Or(S))throw S;st(Md,"Failed to update sequence numbers: "+S)}for(const S of _){const D=S.targetId;if(!S.fromCache){const H=b.vs.get(D),et=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(et);b.vs=b.vs.insert(D,W)}}})(s.localStore,h))}async function JS(r,e){const i=bt(r);if(!i.currentUser.isEqual(e)){st(kd,"User change. New user:",e.toKey());const s=await F0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new ct(J.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ho(i,s.Ns)}}function $S(r,e){const i=bt(r),s=i.Au.get(e);if(s&&s.hu)return It().add(s.key);{let o=It();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function hv(r){const e=bt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$S.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YS.bind(null,e),e.Pu.J_=zS.bind(null,e.eventManager),e.Pu.yu=jS.bind(null,e.eventManager),e}function WS(r){const e=bt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XS.bind(null,e),e}class mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return nS(this.persistence,new WA,e.initialUser,this.serializer)}Cu(e){return new G0(Id.Vi,this.serializer)}Du(e){return new uS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mc.provider={build:()=>new mc};class t2 extends mc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Gt(this.persistence.referenceDelegate instanceof fc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new G0((s=>fc.Vi(s,i)),this.serializer)}}class dd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>E_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JS.bind(null,this.syncEngine),await IS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MS})()}createDatastore(e){const i=xc(e.databaseInfo.databaseId),s=mS(e.databaseInfo);return vS(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,p){return new TS(s,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>E_(this.syncEngine,i,0)),(function(){return m_.v()?new m_:new cS})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,b){const S=new PS(o,h,d,p,v,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=bt(o);st(bs,"RemoteStore shutting down."),h.Ea.add(5),await co(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}dd.provider={build:()=>new dd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="FirestoreClient";class e2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{st(La,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st(La,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Pd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Qf(r,e){r.asyncQueue.verifyOperationInProgress(),st(La,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await F0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function b_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await n2(r);st(La,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>p_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>p_(e.remoteStore,o))),r._onlineComponents=e}async function n2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(La,"Using user provided OfflineComponentProvider");try{await Qf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Qf(r,new mc)}}else st(La,"Using default OfflineComponentProvider"),await Qf(r,new t2(void 0));return r._offlineComponents}async function dv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(La,"Using user provided OnlineComponentProvider"),await b_(r,r._uninitializedComponentsProvider._online)):(st(La,"Using default OnlineComponentProvider"),await b_(r,new dd))),r._onlineComponents}function i2(r){return dv(r).then((e=>e.syncEngine))}async function md(r){const e=await dv(r),i=e.eventManager;return i.onListen=qS.bind(null,e.syncEngine),i.onUnlisten=GS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=kS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=FS.bind(null,e.syncEngine),i}function a2(r,e,i,s){const o=new fv(s),h=new iv(e,o,i);return r.asyncQueue.enqueueAndForget((async()=>ev(await md(r),h))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>nv(await md(r),h)))}}function s2(r,e,i={}){const s=new Da;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const b=new fv({next:D=>{b.Nu(),d.enqueueAndForget((()=>nv(h,S)));const H=D.docs.has(p);!H&&D.fromCache?_.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&D.fromCache&&v&&v.source==="server"?_.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new iv(Ec(p.path),b,{includeMetadataChanges:!0,Ka:!0});return ev(h,S)})(await md(r),r.asyncQueue,e,i,s))),s.promise}function r2(r,e){const i=new Da;return r.asyncQueue.enqueueAndForget((async()=>QS(await i2(r),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="ComponentProvider",A_=new Map;function o2(r,e,i,s,o){return new wb(r,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,mv(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="firestore.googleapis.com",S_=!0;class R_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gv,this.ssl=S_}else this.host=e.host,this.ssl=e.ssl??S_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jA)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mv(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new sb;switch(s.type){case"firstParty":return new ub(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=A_.get(i);s&&(st(l2,"Removing Datastore"),A_.delete(i),s.terminate())})(this),Promise.resolve()}}function u2(r,e,i,s={}){var _;r=pi(r,Gd);const o=yd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(VT(`https://${p}`),zT("Firestore",!0)),h.host!==gv&&h.host!==p&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:s};if(!Jl(v,d)&&(r._setSettings(v),s.mockUserToken)){let b,S;if(typeof s.mockUserToken=="string")b=s.mockUserToken,S=Ke.MOCK_USER;else{b=IT(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ke(D)}r._authCredentials=new rb(new e0(b,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Nc(this.firestore,e,this._query)}}class Ce{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ce(this.firestore,e,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(lo(i,Ce._jsonSchema))return new Ce(e,s||null,new dt(re.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:we("string",Ce._jsonSchemaVersion),referencePath:we("string")};class so extends Nc{constructor(e,i,s){super(e,i,Ec(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ce(this.firestore,null,new dt(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function c2(r,e,...i){if(r=Va(r),arguments.length===1&&(e=Ed.newId()),gb("doc","path",e),r instanceof Gd){const s=re.fromString(e,...i);return By(s),new Ce(r,null,new dt(s))}{if(!(r instanceof Ce||r instanceof so))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(e,...i));return By(s),new Ce(r.firestore,r instanceof so?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="AsyncQueue";class w_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y0(this,"async_queue_retry"),this._c=()=>{const s=Ff();s&&st(x_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Ff();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ff();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Da;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Or(e))throw e;st(x_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",C_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Bd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:C_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function C_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Nr extends Gd{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new w_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w_(e),this._firestoreClient=void 0,await e}}}function h2(r,e){const i=typeof r=="object"?r:F1(),s=typeof r=="string"?r:sc,o=P1(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=NT("firestore");h&&u2(o,...h)}return o}function Fd(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||f2(r),r._firestoreClient}function f2(r){var s,o,h,d;const e=r._freezeSettings(),i=o2(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,e);r._componentsProvider||(h=e.localCache)!=null&&h._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new e2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(v){const _=v==null?void 0:v._online.build();return{_offline:v==null?void 0:v._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Fe.fromBase64String(e))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new In(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lo(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:we("string",In._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(lo(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:we("string",Ei._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lo(e,Qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Qn(e.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qn._jsonSchemaVersion="firestore/vectorValue/1.0",Qn._jsonSchema={type:we("string",Qn._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=/^__.*__$/;class m2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms):new oo(e,this.data,i,this.fieldTransforms)}}class pv{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function yv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:r})}}class Vc{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Vc({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(yv(this.dataSource)&&d2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class g2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||xc(e)}createContext(e,i,s,o=!1){return new Vc({dataSource:e,methodName:i,targetDoc:s,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _v(r){const e=r._freezeSettings(),i=xc(r._databaseId);return new g2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function p2(r,e,i,s,o,h={}){const d=r.createContext(h.merge||h.mergeFields?2:0,e,i,o);Kd("Data must be an object, but it was:",d,s);const p=vv(s,d);let v,_;if(h.merge)v=new _n(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const S of h.mergeFields){const D=ro(e,S,i);if(!d.contains(D))throw new ct(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);bv(b,D)||b.push(D)}v=new _n(b),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new m2(new on(p),v,_)}class Ic extends Dc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ic}}function y2(r,e,i){return new Vc({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Yd extends Dc{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=y2(this,e,!0),s=this.Ac.map((h=>fo(h,i))),o=new xr(s);return new nA(e.path,o)}isEqual(e){return e instanceof Yd&&Jl(this.Ac,e.Ac)}}function _2(r,e,i,s){const o=r.createContext(1,e,i);Kd("Data must be an object, but it was:",o,s);const h=[],d=on.empty();Ua(s,((v,_)=>{const b=Tv(e,v,i);_=Va(_);const S=o.childContextForFieldPath(b);if(_ instanceof Ic)h.push(b);else{const D=fo(_,S);D!=null&&(h.push(b),d.set(b,D))}}));const p=new _n(h);return new pv(d,p,o.fieldTransforms)}function v2(r,e,i,s,o,h){const d=r.createContext(1,e,i),p=[ro(e,s,i)],v=[o];if(h.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)p.push(ro(e,h[D])),v.push(h[D+1]);const _=[],b=on.empty();for(let D=p.length-1;D>=0;--D)if(!bv(_,p[D])){const H=p[D];let et=v[D];et=Va(et);const W=d.childContextForFieldPath(H);if(et instanceof Ic)_.push(H);else{const $=fo(et,W);$!=null&&(_.push(H),b.set(H,$))}}const S=new _n(_);return new pv(b,S,d.fieldTransforms)}function fo(r,e){if(Ev(r=Va(r)))return Kd("Unsupported field value:",e,r),vv(r,e);if(r instanceof Dc)return(function(s,o){if(!yv(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const p of s){let v=fo(p,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=Va(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Wb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ie.fromDate(s);return{timestampValue:hc(o.serializer,h)}}if(s instanceof ie){const h=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hc(o.serializer,h)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:z0(o.serializer,s._byteString)};if(s instanceof Ce){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Qn)return(function(d,p){const v=d instanceof Qn?d.toArray():d;return{mapValue:{fields:{[c0]:{stringValue:h0},[rc]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return wd(p.serializer,b)}))}}}}}})(s,o);if(k0(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Td(s)}`)})(r,e)}function vv(r,e){const i={};return a0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(r,((s,o)=>{const h=fo(o,e.childContextForField(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function Ev(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ei||r instanceof In||r instanceof Ce||r instanceof Dc||r instanceof Qn||k0(r))}function Kd(r,e,i){if(!Ev(i)||!n0(i)){const s=Td(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function ro(r,e,i){if((e=Va(e))instanceof Qd)return e._internalPath;if(typeof e=="string")return Tv(r,e);throw gc("Field path arguments must be of type string or ",r,!1,void 0,i)}const E2=new RegExp("[~\\*/\\[\\]]");function Tv(r,e,i){if(e.search(E2)>=0)throw gc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Qd(...e.split("."))._internalPath}catch{throw gc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function gc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new ct(J.INVALID_ARGUMENT,p+r+v)}function bv(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{convertValue(e,i="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ua(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){var s,o,h;const i=(h=(o=(s=e.fields)==null?void 0:s[rc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>pe(d.doubleValue)));return new Qn(i)}convertGeoPoint(e){return new Ei(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=_c(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(eo(e));default:return null}}convertTimestamp(e){const i=Oa(e);return new ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=re.fromString(e);Gt(q0(s),9688,{name:e});const o=new no(s.get(1),s.get(3)),h=new dt(s.popFirst(5));return o.isEqual(i)||Gi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends T2{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function b2(...r){return new Yd("arrayUnion",r)}const N_="@firebase/firestore",D_="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(ro("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class A2 extends Sv{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function R2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Fl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vs extends Sv{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(ro("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:we("string",vs._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class tc extends vs{data(e={}){return super.data(e)}}class br{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new tc(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new tc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Fl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new tc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Fl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:x2(p.type),doc:v,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=br._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br._jsonSchemaVersion="firestore/querySnapshot/1.0",br._jsonSchema={type:we("string",br._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r){r=pi(r,Ce);const e=pi(r.firestore,Nr),i=Fd(e);return s2(i,r._key).then((s=>Cv(e,r,s)))}function xv(r,e,i){r=pi(r,Ce);const s=pi(r.firestore,Nr),o=R2(r.converter,e),h=_v(s);return wv(s,[p2(h,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,_i.none())])}function mo(r,e,i,...s){r=pi(r,Ce);const o=pi(r.firestore,Nr),h=_v(o);let d;return d=typeof(e=Va(e))=="string"||e instanceof Qd?v2(h,"updateDoc",r._key,e,i,s):_2(h,"updateDoc",r._key,e),wv(o,[d.toMutation(r._key,_i.exists(!0))])}function w2(r,...e){var _,b,S;r=Va(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||V_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(V_(e[s])){const D=e[s];e[s]=(_=D.next)==null?void 0:_.bind(D),e[s+1]=(b=D.error)==null?void 0:b.bind(D),e[s+2]=(S=D.complete)==null?void 0:S.bind(D)}let h,d,p;if(r instanceof Ce)d=pi(r.firestore,Nr),p=Ec(r._key.path),h={next:D=>{e[s]&&e[s](Cv(d,r,D))},error:e[s+1],complete:e[s+2]};else{const D=pi(r,Nc);d=pi(D.firestore,Nr),p=D._query;const H=new Av(d);h={next:et=>{e[s]&&e[s](new br(d,H,D,et))},error:e[s+1],complete:e[s+2]},S2(r._query)}const v=Fd(d);return a2(v,p,o,h)}function wv(r,e){const i=Fd(r);return r2(i,e)}function Cv(r,e,i){const s=i.docs.get(e._key),o=new Av(r);return new vs(r,o,e._key,s,new Fl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){ab(G1),ic(new $l("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new Nr(new lb(s.getProvider("auth-internal")),new cb(d,s.getProvider("app-check-internal")),Cb(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),vr(N_,D_,e),vr(N_,D_,"esm2020")})();const C2={apiKey:"AIzaSyDYx7-Z2v_m9C800pk_DR4EebxfWMALT4o",authDomain:"juego-mediacion.firebaseapp.com",projectId:"juego-mediacion",storageBucket:"juego-mediacion.firebasestorage.app",messagingSenderId:"1012471387747",appId:"1:1012471387747:web:ba91269ce26bbf7e000a56",measurementId:"G-BMD0EMW4S7"},N2=F_(C2),D2=h2(N2);var Fn=(r=>(r.LOBBY="LOBBY",r.PLAYING="PLAYING",r.PODIUM="PODIUM",r))(Fn||{});const V2="session_default",Ti=c2(D2,"games",V2),I2=async()=>{const r={phase:Fn.LOBBY,teams:[],commentary:"Bienvenidos a La Concordia! Esperando equipos...",settings:{timeLimitSeconds:35,speedBonusEnabled:!0}};await xv(Ti,r)},I_=async r=>{await mo(Ti,{phase:r})},O2=async r=>{await mo(Ti,{settings:r})},M2=async r=>{await mo(Ti,{commentary:r})},z2=async r=>{(await Rv(Ti)).exists()?await mo(Ti,{teams:b2(r)}):await xv(Ti,{phase:Fn.LOBBY,teams:[r],commentary:"Esperando al administrador...",settings:{timeLimitSeconds:35,speedBonusEnabled:!0}})},O_=async(r,e)=>{const i=await Rv(Ti);if(i.exists()){const o=i.data().teams.map(h=>h.id===r?{...h,...e}:h);await mo(Ti,{teams:o})}},j2=r=>w2(Ti,e=>{e.exists()?r(e.data()):r({phase:Fn.LOBBY,teams:[],commentary:"Cargando...",settings:{timeLimitSeconds:35,speedBonusEnabled:!0}})}),L2=({teams:r,settings:e,onStart:i})=>{const[s,o]=Ht.useState("."),[h,d]=Ht.useState(""),[p,v]=Ht.useState(!1);Ht.useEffect(()=>{const b=window.location.href.split("?")[0];d(`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${encodeURIComponent(b)}`);const S=setInterval(()=>{o(D=>D.length>=3?".":D+".")},500);return()=>clearInterval(S)},[]);const _=b=>{O2(b)};return R.jsxs("div",{className:"flex flex-col items-center h-screen w-full bg-gradient-to-br from-indigo-900 to-purple-900 text-center relative overflow-y-auto scroll-smooth",children:[p&&e&&R.jsx(_T,{settings:e,onUpdate:_,onClose:()=>v(!1)}),R.jsx("div",{className:"absolute top-4 right-4 z-20",children:R.jsx("button",{onClick:()=>v(!0),className:"bg-slate-800/80 hover:bg-slate-700 text-white p-3 rounded-full border border-slate-500 shadow-lg transition-all",title:"Configuracin",children:""})}),R.jsxs("div",{className:"fixed top-0 left-0 w-full h-full opacity-10 pointer-events-none overflow-hidden",children:[R.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-yellow-500 rounded-full blur-3xl"}),R.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-pink-500 rounded-full blur-3xl"})]}),R.jsxs("div",{className:"z-10 max-w-4xl w-full flex-shrink-0 flex flex-col items-center justify-start py-12 px-6 min-h-full",children:[R.jsx("h1",{className:"text-5xl md:text-8xl text-yellow-400 mb-4 drop-shadow-[0_5px_5px_rgba(0,0,0,0.8)] animate-float",children:"ALERTA EN LA CONCORDIA!"}),R.jsx("p",{className:"text-xl md:text-2xl text-white mb-8 max-w-2xl mx-auto leading-relaxed",children:"El barrio est al borde del caos. Escaneen el cdigo para unirse a la brigada de mediacin."}),R.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-2xl inline-block mb-8 transform hover:scale-105 transition-transform duration-300 mx-auto",children:[h&&R.jsx("img",{src:h,alt:"QR Code",className:"w-48 h-48 md:w-64 md:h-64 object-contain"}),R.jsx("p",{className:"text-slate-800 font-bold mt-2",children:"Sala: BARRIO-1"})]}),R.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl p-6 w-full border border-white/20 mb-8 flex-1 flex flex-col min-h-[200px]",children:[R.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-white/10 pb-2",children:[R.jsxs("h2",{className:"text-2xl text-emerald-400",children:["Equipos Conectados (",r.length,") ",s]}),e&&R.jsxs("span",{className:"text-xs font-mono text-slate-400 border border-slate-500 rounded px-2 py-1",children:[" ",e.timeLimitSeconds,"s |  ",e.speedBonusEnabled?"ON":"OFF"]})]}),r.length===0?R.jsx("div",{className:"text-gray-400 italic py-12 flex-1 flex items-center justify-center",children:"Esperando jugadores..."}):R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar content-start",children:r.map(b=>R.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg border border-slate-600 flex items-center gap-3 animate-fade-in-up hover:bg-slate-700 transition-colors",children:[R.jsx("span",{className:"text-3xl",children:b.avatar}),R.jsx("span",{className:"font-bold truncate text-sm md:text-base",children:b.name})]},b.id))})]}),R.jsx("div",{className:"mt-4 pb-8",children:R.jsx("button",{onClick:i,disabled:r.length===0,className:`px-12 py-4 rounded-full text-2xl font-bold shadow-lg transform transition-all 
              ${r.length>0?"bg-gradient-to-r from-yellow-400 to-orange-500 hover:scale-110 hover:shadow-orange-500/50 text-slate-900 cursor-pointer":"bg-gray-600 text-gray-400 cursor-not-allowed opacity-50"}`,children:"SALVAR EL BARRIO!"})})]}),R.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(0, 0, 0, 0.2);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.2);
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(255, 255, 255, 0.4);
        }
      `})]})},Ra=[{id:1,type:"SELECT",title:"Nivel 1: El Ruido Nocturno",description:"La vecina del 4B grita porque el msico del 5B ensaya a las 11 PM.",question:"Cul es el INTERS REAL de la vecina (no su posicin)?",options:["Que echen al msico del edificio","Poder dormir y descansar en silencio","Que el msico venda su instrumento","Vengarse haciendo ruido a las 6 AM"],correctAnswer:"Poder dormir y descansar en silencio",points:100},{id:2,type:"ORDER",title:"Nivel 2: La Escalera del Dilogo",description:"Para resolver un conflicto, no puedes empezar por el final. Ordena los pasos correctamente.",question:"Pon en orden cronolgico los pasos de una mediacin exitosa:",itemsToOrder:["Proponer soluciones (Lluvia de ideas)","Calmarse y escuchar sin interrumpir","Firmar un acuerdo","Identificar el problema real"],correctOrder:["Calmarse y escuchar sin interrumpir","Identificar el problema real","Proponer soluciones (Lluvia de ideas)","Firmar un acuerdo"],points:150},{id:3,type:"SELECT",title:"Nivel 3: El Chisme",description:"Don Pepe dice que vio a alguien robarse los focos, pero no est seguro.",question:"Qu debe hacer un buen vecino antes de acusar?",options:["Publicarlo en el grupo de WhatsApp inmediatamente","Verificar los hechos antes de hablar","Gritarle al primer sospechoso que vea","Ignorar todo y dejar el barrio a oscuras"],correctAnswer:"Verificar los hechos antes de hablar",points:100},{id:4,type:"MATCH",title:"Nivel 4: Traductor de Conflictos",description:"La gente grita insultos, pero en el fondo expresan necesidades no satisfechas. Conctalas!",question:"Empareja lo que DICEN (Izquierda) con lo que NECESITAN (Derecha):",pairs:[{left:"Eres un irresponsable!",right:"Necesito confianza"},{left:"Nadie me escucha!",right:"Necesito atencin"},{left:"Es mi lugar de parqueo!",right:"Necesito respeto"},{left:"Estoy harto del ruido!",right:"Necesito descanso"}],points:200},{id:5,type:"WORD",title:"Nivel 5: Limpieza Txica I",description:"Conflicto: Un vecino grita 'ERES UN CERDO ASQUEROSO!' por la basura.",question:"Limpia el lenguaje. Escribe la palabra clave que define el problema real (Sustantivo):",placeholder:"Escribe la palabra (Ej: BASURA)",correctAnswer:"SUCIEDAD",points:150},{id:6,type:"ORDER",title:"Nivel 6: El Rumor de la Tienda",description:"Se ha corrido un rumor falso sobre la duea de la tienda. El conflicto escala.",question:"Ordena las acciones de la peor a la mejor para la convivencia:",itemsToOrder:["Hablar directamente con la duea para aclarar","Ignorar el rumor","Compartir el rumor 'por si acaso'","Agregar detalles inventados al rumor"],correctOrder:["Agregar detalles inventados al rumor","Compartir el rumor 'por si acaso'","Ignorar el rumor","Hablar directamente con la duea para aclarar"],points:150},{id:7,type:"WORD",title:"Nivel 7: Limpieza Txica II",description:"Conflicto: 'Tu perro es una bestia salvaje que no para de ladrar!'",question:"Traduce esto a un hecho objetivo. Qu causa el problema?",placeholder:"Escribe la palabra (Ej: PERRO)",correctAnswer:"RUIDO",points:150},{id:8,type:"SELECT",title:"Nivel 8: La Fuga de Agua",description:"Hay una filtracin en el techo. El vecino de arriba no abre la puerta.",question:"Cul es la estrategia ms inteligente?",options:["Romper la puerta a patadas","Cortarle el agua a todo el edificio","Dejarle una nota amable proponiendo una hora de visita","Llamar a la polica diciendo que hay un crimen"],correctAnswer:"Dejarle una nota amable proponiendo una hora de visita",points:100},{id:9,type:"MATCH",title:"Nivel 9: Herramientas del Mediador",description:"Un buen mediador tiene herramientas. salas correctamente.",question:"Empareja la herramienta con su funcin:",pairs:[{left:"Parafraseo",right:"Repetir lo dicho sin toxicidad"},{left:"Lluvia de ideas",right:"Generar muchas opciones"},{left:"Empata",right:"Ponerse en los zapatos del otro"}],points:200},{id:10,type:"OPEN",title:"Nivel Final: El rbol de la Discordia",description:"Doa Juana ama su manzano. Don Pedro odia las hojas en su patio. Pedro quiere cortar el rbol.",question:"Propn una solucin CREATIVA donde AMBOS ganen (Juana conserva el rbol y Pedro tiene el patio limpio).",placeholder:"Escribe tu solucin detallada aqu...",points:300}],U2=({teams:r,commentary:e})=>{const i=[...r].sort((p,v)=>v.score-p.score),s=Ht.useRef(null),o=Ra.length,h=i[0],d=h?h.currentChallengeIndex+1:1;return R.jsxs("div",{className:"flex flex-col h-screen bg-slate-900 text-white p-4 md:p-8",children:[R.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-700 pb-4",children:[R.jsxs("div",{children:[R.jsx("h1",{className:"text-4xl text-yellow-400 display-font",children:"Barrio La Concordia: Control Central"}),R.jsx("p",{className:"text-slate-400 font-mono text-sm",children:"VISTA DE ADMINISTRADOR / PROYECTOR"})]}),R.jsx("div",{className:"text-right",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsxs("div",{className:"text-right",children:[R.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Fase Actual"}),R.jsx("div",{className:"text-xl font-bold text-emerald-400",children:d>o?"FINALIZADO":`Nivel ${d}: ${Ra[Math.min(d-1,o-1)].title}`})]}),R.jsx("div",{className:"h-10 w-10 bg-red-600 rounded-full animate-pulse flex items-center justify-center font-bold text-xs shadow-[0_0_15px_red]",children:"LIVE"})]})})]}),R.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-8 overflow-hidden",children:[R.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[R.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.slice(0,3).map((p,v)=>R.jsxs("div",{className:`bg-slate-800 rounded-2xl p-4 border-b-4 ${v===0?"border-yellow-400 bg-yellow-900/20":v===1?"border-slate-400":"border-amber-700"}`,children:[R.jsxs("div",{className:"flex justify-between items-start mb-2",children:[R.jsx("span",{className:"text-3xl",children:v===0?"":v===1?"":""}),R.jsx("span",{className:"font-mono font-bold text-2xl",children:p.score})]}),R.jsx("div",{className:"font-bold truncate text-lg",children:p.name}),R.jsx("div",{className:"w-full bg-slate-700 h-1 mt-2 rounded-full overflow-hidden",children:R.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-1000",style:{width:`${p.currentChallengeIndex/o*100}%`}})})]},p.id))}),R.jsxs("div",{className:"bg-slate-800 rounded-3xl p-6 shadow-2xl border border-slate-700 flex-1 overflow-y-auto",children:[R.jsx("h2",{className:"text-xl mb-4 font-bold text-slate-400 uppercase tracking-widest sticky top-0 bg-slate-800 py-2 z-10 border-b border-slate-700",children:"Tabla General de Posiciones"}),R.jsx("div",{className:"space-y-3",children:i.map((p,v)=>R.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-slate-700/40 border border-slate-600",children:[R.jsxs("div",{className:"w-8 font-mono text-slate-500 font-bold",children:["#",v+1]}),R.jsx("div",{className:"text-2xl mr-3",children:p.avatar}),R.jsxs("div",{className:"flex-1",children:[R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"font-bold",children:p.name}),R.jsxs("span",{className:"text-emerald-400 font-mono",children:[p.score," pts"]})]}),R.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-2 mt-1",children:[R.jsx("div",{className:"w-24 bg-slate-900 rounded-full h-1.5",children:R.jsx("div",{className:"bg-blue-400 h-full rounded-full",style:{width:`${p.currentChallengeIndex/o*100}%`}})}),R.jsx("span",{children:p.isFinished?" Meta":`Niv. ${p.currentChallengeIndex+1}`})]})]})]},p.id))})]})]}),R.jsxs("div",{className:"flex flex-col gap-6",children:[R.jsxs("div",{className:"bg-gradient-to-b from-indigo-800 to-indigo-950 rounded-3xl p-6 shadow-lg border border-indigo-500/30 flex-1 flex flex-col relative overflow-hidden",children:[R.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 opacity-20 flex items-end justify-center gap-1 pointer-events-none",children:[...Array(20)].map((p,v)=>R.jsx("div",{className:"w-2 bg-white animate-[pulse_0.5s_ease-in-out_infinite]",style:{height:`${Math.random()*100}%`,animationDelay:`${Math.random()}s`}},v))}),R.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[R.jsx("div",{className:"w-14 h-14 bg-white rounded-full flex items-center justify-center border-4 border-yellow-400 shadow-lg",children:R.jsx("span",{className:"text-3xl",children:""})}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-bold text-xl leading-none",children:"Comentarista"}),R.jsx("p",{className:"text-xs text-indigo-300 font-mono mt-1",children:"NARRANDO EN VIVO"})]})]}),R.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10",children:R.jsxs("p",{ref:s,className:"text-2xl md:text-3xl text-center font-bold text-white leading-tight drop-shadow-md transition-all duration-500 transform scale-100 hover:scale-105",children:['"',e,'"']})})]}),R.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-600",children:[R.jsx("h4",{className:"text-slate-400 text-xs uppercase mb-3",children:"Msica de Fondo"}),R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsxs("div",{className:"flex gap-1 h-4 items-end",children:[R.jsx("div",{className:"w-1 bg-green-500 h-2 animate-[bounce_1s_infinite]"}),R.jsx("div",{className:"w-1 bg-green-500 h-4 animate-[bounce_1.2s_infinite]"}),R.jsx("div",{className:"w-1 bg-green-500 h-3 animate-[bounce_0.8s_infinite]"})]}),R.jsx("span",{className:"text-sm font-bold text-green-400",children:"Reproduciendo: Suspenso Competitivo"})]})]})]})]})]})},M_=["","","","","","","","","",""],B2=({onJoin:r})=>{const[e,i]=Ht.useState(""),[s,o]=Ht.useState(M_[0]),h=d=>{d.preventDefault(),e.trim()&&r(e.trim(),s)};return R.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl p-6 shadow-2xl",children:[R.jsx("h2",{className:"text-3xl font-black text-center text-indigo-900 mb-2 display-font",children:"UNIRSE AL JUEGO"}),R.jsx("p",{className:"text-center text-slate-500 mb-6",children:"Elige tu identidad para salvar el barrio"}),R.jsxs("form",{onSubmit:h,className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nombre del Grupo"}),R.jsx("input",{type:"text",value:e,onChange:d=>i(d.target.value),placeholder:"Ej: Los Justicieros",className:"w-full p-4 border-2 border-slate-200 rounded-xl text-lg focus:border-indigo-500 outline-none bg-slate-50 text-slate-900",maxLength:15,required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Elige un Avatar"}),R.jsx("div",{className:"grid grid-cols-5 gap-2",children:M_.map(d=>R.jsx("button",{type:"button",onClick:()=>o(d),className:`text-3xl p-2 rounded-lg transition-transform ${s===d?"bg-indigo-100 ring-2 ring-indigo-500 scale-110":"hover:bg-slate-100"}`,children:d},d))})]}),R.jsx("button",{type:"submit",className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl text-xl shadow-lg shadow-indigo-200 transition-all active:scale-95",children:"ENTRAR AL BARRIO"})]})]})})},P2=({team:r,settings:e,onEvaluateLevel3:i})=>{var O,K,at;const[s,o]=Ht.useState(""),[h,d]=Ht.useState(!1),[p,v]=Ht.useState(null),[_,b]=Ht.useState(null),[S,D]=Ht.useState(0),[H,et]=Ht.useState(e.timeLimitSeconds),W=Ht.useRef(null),[$,gt]=Ht.useState([]),[yt,vt]=Ht.useState({}),[Bt,Pt]=Ht.useState(null),lt=Ra[r.currentChallengeIndex]||Ra[Ra.length-1];Ht.useEffect(()=>{if(o(""),v(null),b(null),et(e.timeLimitSeconds),lt.type==="ORDER"&&lt.itemsToOrder){const Q=[...lt.itemsToOrder].sort(()=>Math.random()-.5);gt(Q)}return lt.type==="MATCH"&&(vt({}),Pt(null)),W.current&&clearInterval(W.current),W.current=setInterval(()=>{et(Q=>Q<=1?(N(),0):Q-1)},1e3),()=>{W.current&&clearInterval(W.current)}},[lt.id]),Ht.useEffect(()=>{if(!_)return;const Q=setInterval(()=>{const tt=Math.ceil((_-Date.now())/1e3);tt<=0?(b(null),D(0)):D(tt)},500);return()=>clearInterval(Q)},[_]);const N=()=>{W.current&&clearInterval(W.current),v({type:"timeout",msg:"SE ACAB EL TIEMPO! 0 PUNTOS."}),setTimeout(()=>{V(0,"TIEMPO_AGOTADO")},2e3)},A=Q=>{if(!e.speedBonusEnabled)return Q;const tt=H/e.timeLimitSeconds,ot=Math.floor(Q*.5*tt);return Q+ot},C=Q=>{v({type:"error",msg:Q});const tt=Date.now()+5e3;b(tt),D(5),setTimeout(()=>v(null),2e3)},M=(Q,tt)=>{W.current&&clearInterval(W.current),v({type:"success",msg:Q}),setTimeout(()=>{v(null),tt()},1500)},V=async(Q,tt)=>{const ot=r.currentChallengeIndex+1,_t=ot>=Ra.length;await O_(r.id,{currentChallengeIndex:ot,score:r.score+Q,answers:{...r.answers,[lt.id]:tt},isFinished:_t})},j=Q=>{if(!(h||p||_||H<=0))if(Q===lt.correctAnswer){const tt=A(lt.points);M(`Correcto! +${tt} pts`,()=>V(tt,Q))}else C("Decisin equivocada! El conflicto escal.")},x=()=>{if(h||p||_||H<=0||!s.trim())return;const Q=s.trim().toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),tt=(lt.correctAnswer||"").toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(Q===tt){const ot=A(lt.points);M(`Correcto! +${ot} pts`,()=>V(ot,Q))}else C("Palabra incorrecta. Piensa en el problema raz.")},Wt=async()=>{if(s.length<15){v({type:"error",msg:"Detalla ms tu solucin."}),setTimeout(()=>v(null),2e3);return}W.current&&clearInterval(W.current),d(!0);const Q=await i(s);d(!1);const tt=A(Q.score);await O_(r.id,{currentChallengeIndex:r.currentChallengeIndex+1,isFinished:!0,score:r.score+tt,answers:{...r.answers,[lt.id]:s},finalFeedback:Q.feedback})},oe=(Q,tt)=>{if(_||H<=0)return;const ot=[...$],[_t]=ot.splice(Q,1);ot.splice(Q+tt,0,_t),gt(ot)},G=()=>{if(_||H<=0)return;if(JSON.stringify($)===JSON.stringify(lt.correctOrder)){const tt=A(lt.points);M(`Orden Perfecto! +${tt} pts`,()=>V(tt,"Orden Correcto"))}else C("Orden incorrecto.")},it=(Q,tt)=>{var ot;if(!(_||H<=0))if(Q==="left"){if(yt[tt])return;Pt(tt)}else{if(!Bt)return;const _t={...yt,[Bt]:tt};vt(_t),Pt(null);const he=((ot=lt.pairs)==null?void 0:ot.map(te=>te.left))||[];Object.keys(_t).length===he.length&&ht(_t)}},ht=Q=>{var ot;let tt=0;if((ot=lt.pairs)==null||ot.forEach(_t=>{Q[_t.left]!==_t.right&&tt++}),tt===0){const _t=A(lt.points);M(`Conexiones Encontradas! +${_t} pts`,()=>V(_t,"Emparejamiento Correcto"))}else C(`Tienes ${tt} conexiones incorrectas.`),vt({})},xt=H/e.timeLimitSeconds*100;let jt="bg-emerald-500";return xt<50&&(jt="bg-yellow-500"),xt<20&&(jt="bg-red-600 animate-pulse"),r.isFinished?R.jsxs("div",{className:"h-[100dvh] flex flex-col items-center justify-center p-8 text-center bg-gradient-to-br from-emerald-800 to-teal-900 text-white animate-fade-in overflow-y-auto",children:[R.jsx("div",{className:"text-7xl mb-6 animate-bounce",children:""}),R.jsx("h2",{className:"text-4xl font-black mb-4 font-heading",children:"MISIN CUMPLIDA!"}),R.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Han salvado el barrio con sus habilidades de mediacin."}),R.jsx("div",{className:"bg-black/20 p-6 rounded-2xl w-full border border-white/10 backdrop-blur-sm",children:R.jsxs("p",{className:"italic font-medium",children:['"',r.finalFeedback,'"']})})]}):R.jsxs("div",{className:"h-[100dvh] flex flex-col bg-slate-50 text-slate-900 overflow-hidden relative",children:[R.jsxs("div",{className:"h-4 bg-slate-300 w-full relative flex-shrink-0",children:[R.jsx("div",{className:`h-full transition-all duration-1000 ease-linear ${jt}`,style:{width:`${xt}%`}}),R.jsxs("div",{className:"absolute top-0 right-2 text-xs font-bold text-slate-600 leading-4",children:[" ",H,"s"]})]}),_&&R.jsxs("div",{className:"absolute inset-0 z-50 bg-slate-900/90 flex flex-col items-center justify-center text-white animate-in fade-in duration-300",children:[R.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),R.jsx("h3",{className:"text-3xl font-black text-center text-blue-400 mb-2",children:"CONGELADOS!"}),R.jsx("p",{className:"text-center max-w-xs mb-6 px-4",children:"Castigo por error. Esperen a que se calmen los nimos."}),R.jsxs("div",{className:"text-5xl font-mono font-bold text-yellow-400",children:[S,"s"]})]}),(p==null?void 0:p.type)==="timeout"&&R.jsxs("div",{className:"absolute inset-0 z-50 bg-red-900/95 flex flex-col items-center justify-center text-white animate-in zoom-in duration-300",children:[R.jsx("div",{className:"text-7xl mb-4",children:""}),R.jsx("h3",{className:"text-4xl font-black text-center text-white mb-2",children:"TIEMPO AGOTADO!"}),R.jsx("p",{className:"text-center text-xl",children:"Perdieron esta oportunidad de mediar."}),R.jsx("div",{className:"mt-4 text-3xl font-bold text-red-300",children:"0 PUNTOS"})]}),R.jsxs("div",{className:"bg-indigo-600 px-4 py-3 text-white shadow-lg z-10 flex justify-between items-center flex-shrink-0",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:"text-2xl filter drop-shadow",children:r.avatar}),R.jsx("span",{className:"font-bold text-lg truncate max-w-[150px]",children:r.name})]}),R.jsxs("div",{className:"flex flex-col items-end",children:[R.jsx("span",{className:"text-xs text-indigo-200 uppercase font-bold",children:"Progreso"}),R.jsx("div",{className:"w-24 h-2 bg-indigo-900 rounded-full mt-1",children:R.jsx("div",{className:"h-full bg-yellow-400 rounded-full transition-all duration-500",style:{width:`${r.currentChallengeIndex/Ra.length*100}%`}})})]})]}),R.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 pb-24 overscroll-contain",children:R.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-b-4 border-slate-200 overflow-hidden",children:[R.jsxs("div",{className:"bg-slate-100 p-4 border-b border-slate-200 flex justify-between items-center",children:[R.jsxs("span",{className:"font-bold text-slate-500 uppercase text-xs tracking-wider",children:["Misin ",r.currentChallengeIndex+1," de ",Ra.length]}),R.jsxs("span",{className:"bg-indigo-100 text-indigo-700 px-2 py-1 rounded text-xs font-bold",children:["+",lt.points," pts"]})]}),R.jsxs("div",{className:"p-6",children:[R.jsx("h2",{className:"text-2xl font-black text-indigo-900 mb-2 leading-tight",children:lt.title}),R.jsx("p",{className:"text-slate-600 mb-6 text-sm md:text-base",children:lt.description}),R.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100 mb-6 relative overflow-hidden",children:[R.jsx("p",{className:"font-bold text-indigo-900 text-lg text-center relative z-10",children:lt.question}),e.speedBonusEnabled&&R.jsx("div",{className:"absolute top-1 right-2 text-[10px] bg-yellow-300 text-yellow-900 px-1 rounded font-bold z-10",children:"BONUS ACTIVO"})]}),R.jsxs("div",{className:"space-y-3",children:[lt.type==="SELECT"&&((O=lt.options)==null?void 0:O.map((Q,tt)=>R.jsx("button",{onClick:()=>j(Q),disabled:!!p||!!_,className:"w-full text-left p-4 rounded-xl bg-white border-2 border-slate-200 hover:border-indigo-500 hover:bg-indigo-50 active:scale-98 transition-all font-semibold text-slate-700 shadow-sm",children:Q},tt))),lt.type==="WORD"&&R.jsxs("div",{className:"space-y-4",children:[R.jsx("input",{type:"text",value:s,onChange:Q=>o(Q.target.value),placeholder:lt.placeholder,className:"w-full p-4 text-center text-xl font-bold border-2 border-slate-300 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 outline-none uppercase tracking-widest text-slate-900"}),R.jsx("button",{onClick:x,disabled:!!_,className:"w-full py-4 bg-indigo-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 active:translate-y-1 transition-all",children:"ENVIAR RESPUESTA"})]}),lt.type==="ORDER"&&R.jsxs("div",{className:"space-y-2",children:[$.map((Q,tt)=>R.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 border-2 border-slate-200 rounded-lg",children:[R.jsxs("div",{className:"flex flex-col gap-1",children:[R.jsx("button",{onClick:()=>oe(tt,-1),disabled:tt===0||!!_,className:"w-8 h-8 bg-slate-200 rounded hover:bg-slate-300 disabled:opacity-30 flex items-center justify-center font-bold",children:""}),R.jsx("button",{onClick:()=>oe(tt,1),disabled:tt===$.length-1||!!_,className:"w-8 h-8 bg-slate-200 rounded hover:bg-slate-300 disabled:opacity-30 flex items-center justify-center font-bold",children:""})]}),R.jsx("div",{className:"flex-1 font-medium text-sm md:text-base",children:Q})]},Q)),R.jsx("button",{onClick:G,disabled:!!_,className:"w-full mt-4 py-4 bg-purple-600 text-white font-bold rounded-xl shadow-lg active:scale-95 transition-all",children:"CONFIRMAR ORDEN"})]}),lt.type==="MATCH"&&R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx("h4",{className:"font-bold text-center text-slate-400",children:"DICE (Problema)"}),(K=lt.pairs)==null?void 0:K.map((Q,tt)=>R.jsxs("button",{onClick:()=>it("left",Q.left),disabled:!!yt[Q.left]||!!_,className:`w-full p-3 rounded-lg border-2 text-left transition-all ${yt[Q.left]?"bg-emerald-100 border-emerald-500 opacity-50":Bt===Q.left?"bg-indigo-100 border-indigo-500 ring-2 ring-indigo-300":"bg-white border-slate-200"}`,children:[Q.left,yt[Q.left]&&" "]},tt))]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("h4",{className:"font-bold text-center text-slate-400",children:"NECESITA (Fondo)"}),(at=lt.pairs)==null?void 0:at.map((Q,tt)=>{const ot=Object.values(yt).includes(Q.right);return R.jsx("button",{onClick:()=>it("right",Q.right),disabled:ot||!!_,className:`w-full p-3 rounded-lg border-2 text-right transition-all ${ot?"bg-emerald-100 border-emerald-500":"bg-white border-slate-200"}`,children:Q.right},tt)})]})]}),R.jsx("p",{className:"text-center text-xs text-slate-400",children:"Toca uno de la izquierda y luego su pareja a la derecha."})]}),lt.type==="OPEN"&&R.jsxs("div",{className:"space-y-4",children:[R.jsx("textarea",{value:s,onChange:Q=>o(Q.target.value),placeholder:lt.placeholder,className:"w-full h-32 p-4 text-base border-2 border-slate-300 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 outline-none resize-none text-slate-900"}),R.jsx("button",{onClick:Wt,disabled:h||!!_,className:"w-full py-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-bold rounded-xl shadow-lg shadow-emerald-200 active:translate-y-1 transition-all flex justify-center items-center",children:h?"ANALIZANDO...":"PRESENTAR SOLUCIN FINAL"})]})]})]})]})}),p&&p.type==="success"&&R.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-6 backdrop-blur-sm bg-emerald-500/20",children:R.jsxs("div",{className:"p-6 rounded-2xl shadow-2xl text-center transform scale-110 transition-all border-4 bg-white border-emerald-500 text-emerald-700",children:[R.jsx("div",{className:"text-5xl mb-2",children:""}),R.jsx("h3",{className:"text-2xl font-black mb-1",children:"CORRECTO!"}),R.jsx("p",{className:"font-medium",children:p.msg})]})})]})},q2=({teams:r,bestSolutions:e})=>{const[i,s]=Ht.useState(!1),o=[...r].sort((d,p)=>p.score-d.score).slice(0,3),h=[o[1]||null,o[0]||null,o[2]||null];return Ht.useEffect(()=>{s(!0)},[]),R.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[i&&R.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(50)].map((d,p)=>R.jsx("div",{className:"absolute w-2 h-2 bg-red-500",style:{left:`${Math.random()*100}%`,top:"-10px",backgroundColor:["#FFD700","#FF0000","#00FF00","#0000FF","#FF00FF"][Math.floor(Math.random()*5)],animation:`fall ${2+Math.random()*3}s linear infinite`,animationDelay:`${Math.random()*5}s`}},p))}),R.jsx("style",{children:`
        @keyframes fall {
          to { transform: translateY(100vh) rotate(360deg); }
        }
      `}),R.jsx("h1",{className:"text-5xl md:text-7xl text-yellow-400 display-font mb-8 text-center drop-shadow-lg z-10",children:"HROES DE LA CONVIVENCIA!"}),R.jsx("div",{className:"flex items-end justify-center gap-2 md:gap-8 mb-16 w-full max-w-4xl z-10",children:h.map((d,p)=>{if(!d)return R.jsx("div",{className:"w-1/3"},p);let v="h-32 md:h-48",_="bg-amber-700",b="3",S="scale-90";return p===0?(v="h-48 md:h-64",_="bg-slate-400",b="2",S="scale-95"):p===1&&(v="h-64 md:h-80",_="bg-yellow-500",b="1",S="scale-110 z-20"),R.jsxs("div",{className:`flex flex-col items-center flex-1 transition-transform ${S}`,children:[R.jsxs("div",{className:"mb-4 text-center animate-bounce",children:[R.jsx("span",{className:"text-4xl md:text-6xl filter drop-shadow-lg",children:d.avatar}),R.jsx("h3",{className:"font-bold text-lg md:text-2xl mt-2 text-white bg-black/50 px-3 rounded-full",children:d.name}),R.jsxs("p",{className:"text-yellow-300 font-mono",children:[d.score," pts"]})]}),R.jsxs("div",{className:`w-full ${v} ${_} rounded-t-lg shadow-2xl border-t-4 border-white/20 flex items-start justify-center pt-4 relative`,children:[R.jsx("span",{className:"text-6xl font-black text-black/20 select-none",children:b}),p===1&&R.jsx("div",{className:"absolute -top-16 text-yellow-400 text-6xl animate-pulse",children:""})]})]},d.id)})}),R.jsxs("div",{className:"w-full max-w-5xl bg-slate-800/80 rounded-2xl p-6 md:p-8 backdrop-blur z-10 border border-slate-600",children:[R.jsx("h2",{className:"text-2xl text-emerald-400 font-bold mb-6 text-center",children:" Soluciones que Transformaron el Barrio"}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((d,p)=>R.jsxs("div",{className:"bg-slate-700 p-4 rounded-xl border border-slate-500",children:[R.jsxs("div",{className:"flex justify-between mb-2",children:[R.jsxs("span",{className:"text-xs uppercase text-slate-400 font-bold",children:["Equipo: ",d.teamName]}),R.jsx("span",{className:"text-xs text-yellow-400",children:" Destacado"})]}),R.jsxs("p",{className:"text-white italic mb-3",children:['"',d.solution,'"']}),R.jsxs("div",{className:"text-sm text-emerald-300 border-t border-slate-600 pt-2",children:["Juez IA: ",d.feedback]})]},p))})]}),R.jsx("div",{className:"mt-8 text-center z-10",children:R.jsx("p",{className:"text-slate-400 text-sm",children:"El equipo ganador debe acercarse por sus dulces "})})]})},z_=["{LEADER} est liderando el cambio en el barrio con mano firme!","Increble velocidad de {LEADER}, pero {LAGGING} no se rinde!","La tensin se siente en el aire! Lograrn el acuerdo a tiempo?","Vamos equipos! La comunicacin efectiva es la clave del xito.","{LEADER} demuestra que hablar es mucho mejor que gritar!","Cuidado con las respuestas impulsivas, piensen en Ganar-Ganar!","Qu gran ejemplo de convivencia nos est dando {LEADER}!","An queda tiempo para remontar, vamos {LAGGING}, el barrio los necesita!","Esto es mediacin de alto nivel! Qu competencia!","{LEADER} va disparado hacia el podio de la paz!"],j_=["Excelente propuesta Ganar-Ganar!","Muy creativa solucin, ambos vecinos estarn felices.","Gran enfoque en los intereses de ambas partes.","Justo lo que el barrio necesitaba: dilogo.","Una solucin prctica y emptica. Bien hecho!"],k2=["acuerdo","turnos","compartir","limpiar","ayuda","ambos","dialogo","respeto","horario"],H2=async r=>{if(r.length===0)return"Bienvenidos a la competencia por la convivencia!";const e=[...r].sort((h,d)=>d.score-h.score),i=e[0],s=e[e.length-1];return z_[Math.floor(Math.random()*z_.length)].replace("{LEADER}",i.name).replace("{LAGGING}",s.name)},G2=async r=>{await new Promise(p=>setTimeout(p,1e3));const e=r.toLowerCase(),i=Math.min(r.length*2,100);let s=0;k2.forEach(p=>{e.includes(p)&&(s+=30)});const o=Math.floor(Math.random()*40),h=Math.min(100+i+s+o,300),d=j_[Math.floor(Math.random()*j_.length)];return{score:h,feedback:d}},F2=()=>{const[r,e]=Ht.useState("landing"),[i,s]=Ht.useState(Fn.LOBBY),[o,h]=Ht.useState([]),[d,p]=Ht.useState("Cargando..."),[v,_]=Ht.useState({timeLimitSeconds:35,speedBonusEnabled:!0}),[b,S]=Ht.useState(null);Ht.useEffect(()=>{const W=j2($=>{s($.phase),h($.teams||[]),p($.commentary||""),$.settings&&_($.settings)});return()=>W()},[]),Ht.useEffect(()=>{if(r!=="admin"||i!==Fn.PLAYING)return;if(o.length>0&&o.every($=>$.isFinished)){setTimeout(()=>I_(Fn.PODIUM),4e3);return}const W=setInterval(async()=>{const $=await H2(o);M2($)},1e4);return()=>clearInterval(W)},[r,i,o]);const D=async()=>{e("admin"),await I2()},H=()=>{I_(Fn.PLAYING)},et=async(W,$)=>{const gt={id:Math.random().toString(36).substr(2,9),name:W,avatar:$,currentChallengeIndex:0,score:0,answers:{},isFinished:!1};await z2(gt),S(gt.id)};if(r==="landing")return R.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center gap-8 p-4",children:[R.jsx("h1",{className:"text-4xl text-yellow-400 display-font mb-4 text-center",children:"Barrio La Concordia"}),R.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[R.jsxs("button",{onClick:D,className:"w-64 h-40 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl flex flex-col items-center justify-center gap-2 shadow-xl transition-transform hover:scale-105",children:[R.jsx("span",{className:"text-4xl",children:""}),R.jsx("span",{className:"font-bold text-xl",children:"PROYECTOR (Clase)"}),R.jsx("span",{className:"text-xs opacity-70",children:"Para el Docente"})]}),R.jsxs("button",{onClick:()=>e("player"),className:"w-64 h-40 bg-emerald-600 hover:bg-emerald-700 text-white rounded-2xl flex flex-col items-center justify-center gap-2 shadow-xl transition-transform hover:scale-105",children:[R.jsx("span",{className:"text-4xl",children:""}),R.jsx("span",{className:"font-bold text-xl",children:"SOY UN EQUIPO"}),R.jsx("span",{className:"text-xs opacity-70",children:"Para los Alumnos"})]})]})]});if(r==="admin"){if(i===Fn.LOBBY)return R.jsx(L2,{teams:o,onStart:H,settings:v});if(i===Fn.PODIUM){const W=o.filter($=>$.answers[6]).map($=>({teamName:$.name,solution:$.answers[6]||"",feedback:$.finalFeedback||"Excelente"})).slice(0,3);return R.jsx(q2,{teams:o,bestSolutions:W})}return R.jsx(U2,{teams:o,commentary:d})}if(r==="player"){if(!b)return R.jsx(B2,{onJoin:et});const W=o.find($=>$.id===b);return W?i===Fn.LOBBY?R.jsxs("div",{className:"min-h-screen bg-indigo-900 flex flex-col items-center justify-center text-white p-8 text-center animate-pulse",children:[R.jsx("div",{className:"text-6xl mb-4",children:W.avatar}),R.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Hola, ",W.name,"!"]}),R.jsx("p",{children:"Ya ests conectado."}),R.jsx("p",{className:"mt-4 text-emerald-300 font-bold",children:"Espera a que el profesor inicie el juego en la pantalla."})]}):R.jsx(P2,{team:W,settings:v,onEvaluateLevel3:G2}):R.jsx("div",{className:"text-white p-8",children:"Error: Equipo no encontrado. Intenta recargar."})}return R.jsx("div",{children:"Error de estado"})},Nv=document.getElementById("root");if(!Nv)throw new Error("Could not find root element to mount to");const Q2=yT.createRoot(Nv);Q2.render(R.jsx(uT.StrictMode,{children:R.jsx(F2,{})}));
